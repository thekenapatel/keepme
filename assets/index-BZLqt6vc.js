(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $v(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ud={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function YA(){if(a_)return cl;a_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var o_;function XA(){return o_||(o_=1,ud.exports=YA()),ud.exports}var St=XA(),cd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function WA(){if(l_)return Rt;l_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function P(U,tt,ht){this.props=U,this.context=tt,this.refs=K,this.updater=ht||C}P.prototype.isReactComponent={},P.prototype.setState=function(U,tt){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,tt,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function R(){}R.prototype=P.prototype;function M(U,tt,ht){this.props=U,this.context=tt,this.refs=K,this.updater=ht||C}var G=M.prototype=new R;G.constructor=M,Q(G,P.prototype),G.isPureReactComponent=!0;var it=Array.isArray,nt={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function V(U,tt,ht,st,at,wt){return ht=wt.ref,{$$typeof:r,type:U,key:tt,ref:ht!==void 0?ht:null,props:wt}}function I(U,tt){return V(U.type,tt,void 0,void 0,void 0,U.props)}function b(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function O(U){var tt={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ht){return tt[ht]})}var L=/\/+/g;function B(U,tt){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):tt.toString(36)}function D(){}function ye(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(D,D):(U.status="pending",U.then(function(tt){U.status==="pending"&&(U.status="fulfilled",U.value=tt)},function(tt){U.status==="pending"&&(U.status="rejected",U.reason=tt)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function ce(U,tt,ht,st,at){var wt=typeof U;(wt==="undefined"||wt==="boolean")&&(U=null);var bt=!1;if(U===null)bt=!0;else switch(wt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(U.$$typeof){case r:case t:bt=!0;break;case E:return bt=U._init,ce(bt(U._payload),tt,ht,st,at)}}if(bt)return at=at(U),bt=st===""?"."+B(U,0):st,it(at)?(ht="",bt!=null&&(ht=bt.replace(L,"$&/")+"/"),ce(at,tt,ht,"",function(ne){return ne})):at!=null&&(b(at)&&(at=I(at,ht+(at.key==null||U&&U.key===at.key?"":(""+at.key).replace(L,"$&/")+"/")+bt)),tt.push(at)),1;bt=0;var he=st===""?".":st+":";if(it(U))for(var kt=0;kt<U.length;kt++)st=U[kt],wt=he+B(st,kt),bt+=ce(st,tt,ht,wt,at);else if(kt=N(U),typeof kt=="function")for(U=kt.call(U),kt=0;!(st=U.next()).done;)st=st.value,wt=he+B(st,kt++),bt+=ce(st,tt,ht,wt,at);else if(wt==="object"){if(typeof U.then=="function")return ce(ye(U),tt,ht,st,at);throw tt=String(U),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(U,tt,ht){if(U==null)return U;var st=[],at=0;return ce(U,st,"","",function(wt){return tt.call(ht,wt,at++)}),st}function yt(U){if(U._status===-1){var tt=U._result;tt=tt(),tt.then(function(ht){(U._status===0||U._status===-1)&&(U._status=1,U._result=ht)},function(ht){(U._status===0||U._status===-1)&&(U._status=2,U._result=ht)}),U._status===-1&&(U._status=0,U._result=tt)}if(U._status===1)return U._result.default;throw U._result}var mt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ht(){}return Rt.Children={map:rt,forEach:function(U,tt,ht){rt(U,function(){tt.apply(this,arguments)},ht)},count:function(U){var tt=0;return rt(U,function(){tt++}),tt},toArray:function(U){return rt(U,function(tt){return tt})||[]},only:function(U){if(!b(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Rt.Component=P,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=M,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(U){return function(){return U.apply(null,arguments)}},Rt.cloneElement=function(U,tt,ht){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var st=Q({},U.props),at=U.key,wt=void 0;if(tt!=null)for(bt in tt.ref!==void 0&&(wt=void 0),tt.key!==void 0&&(at=""+tt.key),tt)!ft.call(tt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&tt.ref===void 0||(st[bt]=tt[bt]);var bt=arguments.length-2;if(bt===1)st.children=ht;else if(1<bt){for(var he=Array(bt),kt=0;kt<bt;kt++)he[kt]=arguments[kt+2];st.children=he}return V(U.type,at,void 0,void 0,wt,st)},Rt.createContext=function(U){return U={$$typeof:f,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Rt.createElement=function(U,tt,ht){var st,at={},wt=null;if(tt!=null)for(st in tt.key!==void 0&&(wt=""+tt.key),tt)ft.call(tt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(at[st]=tt[st]);var bt=arguments.length-2;if(bt===1)at.children=ht;else if(1<bt){for(var he=Array(bt),kt=0;kt<bt;kt++)he[kt]=arguments[kt+2];at.children=he}if(U&&U.defaultProps)for(st in bt=U.defaultProps,bt)at[st]===void 0&&(at[st]=bt[st]);return V(U,wt,void 0,void 0,null,at)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(U){return{$$typeof:m,render:U}},Rt.isValidElement=b,Rt.lazy=function(U){return{$$typeof:E,_payload:{_status:-1,_result:U},_init:yt}},Rt.memo=function(U,tt){return{$$typeof:y,type:U,compare:tt===void 0?null:tt}},Rt.startTransition=function(U){var tt=nt.T,ht={};nt.T=ht;try{var st=U(),at=nt.S;at!==null&&at(ht,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ht,mt)}catch(wt){mt(wt)}finally{nt.T=tt}},Rt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Rt.use=function(U){return nt.H.use(U)},Rt.useActionState=function(U,tt,ht){return nt.H.useActionState(U,tt,ht)},Rt.useCallback=function(U,tt){return nt.H.useCallback(U,tt)},Rt.useContext=function(U){return nt.H.useContext(U)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(U,tt){return nt.H.useDeferredValue(U,tt)},Rt.useEffect=function(U,tt){return nt.H.useEffect(U,tt)},Rt.useId=function(){return nt.H.useId()},Rt.useImperativeHandle=function(U,tt,ht){return nt.H.useImperativeHandle(U,tt,ht)},Rt.useInsertionEffect=function(U,tt){return nt.H.useInsertionEffect(U,tt)},Rt.useLayoutEffect=function(U,tt){return nt.H.useLayoutEffect(U,tt)},Rt.useMemo=function(U,tt){return nt.H.useMemo(U,tt)},Rt.useOptimistic=function(U,tt){return nt.H.useOptimistic(U,tt)},Rt.useReducer=function(U,tt,ht){return nt.H.useReducer(U,tt,ht)},Rt.useRef=function(U){return nt.H.useRef(U)},Rt.useState=function(U){return nt.H.useState(U)},Rt.useSyncExternalStore=function(U,tt,ht){return nt.H.useSyncExternalStore(U,tt,ht)},Rt.useTransition=function(){return nt.H.useTransition()},Rt.version="19.0.0",Rt}var u_;function sm(){return u_||(u_=1,cd.exports=WA()),cd.exports}var be=sm();const $A=$v(be);var hd={exports:{}},hl={},fd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function ZA(){return c_||(c_=1,function(r){function t(rt,yt){var mt=rt.length;rt.push(yt);t:for(;0<mt;){var Ht=mt-1>>>1,U=rt[Ht];if(0<o(U,yt))rt[Ht]=yt,rt[mt]=U,mt=Ht;else break t}}function n(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var yt=rt[0],mt=rt.pop();if(mt!==yt){rt[0]=mt;t:for(var Ht=0,U=rt.length,tt=U>>>1;Ht<tt;){var ht=2*(Ht+1)-1,st=rt[ht],at=ht+1,wt=rt[at];if(0>o(st,mt))at<U&&0>o(wt,st)?(rt[Ht]=wt,rt[at]=mt,Ht=at):(rt[Ht]=st,rt[ht]=mt,Ht=ht);else if(at<U&&0>o(wt,mt))rt[Ht]=wt,rt[at]=mt,Ht=at;else break t}}return yt}function o(rt,yt){var mt=rt.sortIndex-yt.sortIndex;return mt!==0?mt:rt.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,N=3,C=!1,Q=!1,K=!1,P=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function G(rt){for(var yt=n(y);yt!==null;){if(yt.callback===null)s(y);else if(yt.startTime<=rt)s(y),yt.sortIndex=yt.expirationTime,t(p,yt);else break;yt=n(y)}}function it(rt){if(K=!1,G(rt),!Q)if(n(p)!==null)Q=!0,ye();else{var yt=n(y);yt!==null&&ce(it,yt.startTime-rt)}}var nt=!1,ft=-1,V=5,I=-1;function b(){return!(r.unstable_now()-I<V)}function O(){if(nt){var rt=r.unstable_now();I=rt;var yt=!0;try{t:{Q=!1,K&&(K=!1,R(ft),ft=-1),C=!0;var mt=N;try{e:{for(G(rt),S=n(p);S!==null&&!(S.expirationTime>rt&&b());){var Ht=S.callback;if(typeof Ht=="function"){S.callback=null,N=S.priorityLevel;var U=Ht(S.expirationTime<=rt);if(rt=r.unstable_now(),typeof U=="function"){S.callback=U,G(rt),yt=!0;break e}S===n(p)&&s(p),G(rt)}else s(p);S=n(p)}if(S!==null)yt=!0;else{var tt=n(y);tt!==null&&ce(it,tt.startTime-rt),yt=!1}}break t}finally{S=null,N=mt,C=!1}yt=void 0}}finally{yt?L():nt=!1}}}var L;if(typeof M=="function")L=function(){M(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=O,L=function(){D.postMessage(null)}}else L=function(){P(O,0)};function ye(){nt||(nt=!0,L())}function ce(rt,yt){ft=P(function(){rt(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){Q||C||(Q=!0,ye())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(rt){switch(N){case 1:case 2:case 3:var yt=3;break;default:yt=N}var mt=N;N=yt;try{return rt()}finally{N=mt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,yt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var mt=N;N=rt;try{return yt()}finally{N=mt}},r.unstable_scheduleCallback=function(rt,yt,mt){var Ht=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ht+mt:Ht):mt=Ht,rt){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=mt+U,rt={id:E++,callback:yt,priorityLevel:rt,startTime:mt,expirationTime:U,sortIndex:-1},mt>Ht?(rt.sortIndex=mt,t(y,rt),n(p)===null&&rt===n(y)&&(K?(R(ft),ft=-1):K=!0,ce(it,mt-Ht))):(rt.sortIndex=U,t(p,rt),Q||C||(Q=!0,ye())),rt},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(rt){var yt=N;return function(){var mt=N;N=yt;try{return rt.apply(this,arguments)}finally{N=mt}}}}(dd)),dd}var h_;function JA(){return h_||(h_=1,fd.exports=ZA()),fd.exports}var md={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function tS(){if(f_)return Fe;f_=1;var r=sm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Fe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:C}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var d_;function eS(){if(d_)return md.exports;d_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),md.exports=tS(),md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function nS(){if(m_)return hl;m_=1;var r=JA(),t=sm(),n=eS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case Q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:I(e.type)||"Memo";case M:i=e._payload,e=e._init;try{return I(e(i))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,L,B;function D(e){if(L===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+e+B}var ye=!1;function ce(e,i){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var j=Y}Reflect.construct(e,[],J)}else{try{J.call()}catch(Y){j=Y}e.call(J.prototype)}}else{try{throw Error()}catch(Y){j=Y}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&j&&typeof Y.stack=="string")return[Y.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),k=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===k.length)for(l=w.length-1,h=k.length-1;1<=l&&0<=h&&w[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==k[h]){var X=`
`+w[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?D(a):""}function rt(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function yt(e){try{var i="";do i+=rt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function U(e){if(mt(e)!==e)throw Error(s(188))}function tt(e){var i=e.alternate;if(!i){if(i=mt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return U(h),e;if(d===l)return U(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var st=Array.isArray,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},bt=[],he=-1;function kt(e){return{current:e}}function ne(e){0>he||(e.current=bt[he],bt[he]=null,he--)}function Ft(e,i){he++,bt[he]=e.current,e.current=i}var We=kt(null),gi=kt(null),yn=kt(null),Xi=kt(null);function Wi(e,i){switch(Ft(yn,i),Ft(gi,e),Ft(We,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Py(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Py(e),i=xy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(We),Ft(We,i)}function pi(){ne(We),ne(gi),ne(yn)}function ro(e){e.memoizedState!==null&&Ft(Xi,e);var i=We.current,a=xy(i,e.type);i!==a&&(Ft(gi,e),Ft(We,a))}function Hs(e){gi.current===e&&(ne(We),ne(gi)),Xi.current===e&&(ne(Xi),sl._currentValue=wt)}var js=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Gs=r.unstable_cancelCallback,ch=r.unstable_shouldYield,so=r.unstable_requestPaint,nn=r.unstable_now,ql=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,Hl=r.unstable_LowPriority,ao=r.unstable_IdlePriority,hh=r.log,Zr=r.unstable_setDisableYieldValue,$i=null,je=null;function oo(e){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Qn(e){if(typeof hh=="function"&&Zr(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode($i,e)}catch{}}var $e=Math.clz32?Math.clz32:Gl,lo=Math.log,jl=Math.LN2;function Gl(e){return e>>>=0,e===0?32:31-(lo(e)/jl|0)|0}var Kn=128,Zi=4194304;function Un(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Un(a):(d&=T,d!==0?l=Un(d):e||(v=T&~v,v!==0&&(l=Un(v))))):(T=a&~h,T!==0?l=Un(T):d!==0?l=Un(d):e||(v=a&~v,v!==0&&(l=Un(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Fs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var e=Kn;return Kn<<=1,(Kn&4194176)===0&&(Kn=128),e}function tr(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function Qs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fl(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-$e(a),J=1<<X;T[X]=0,w[X]=-1;var j=k[X];if(j!==null)for(k[X]=null,X=0;X<j.length;X++){var Y=j[X];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&er(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-$e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kl(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:t_(e.type))}function ir(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var Yn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Yn,ve="__reactProps$"+Yn,_i="__reactContainer$"+Yn,Jr="__reactEvents$"+Yn,Ks="__reactListeners$"+Yn,Xn="__reactHandles$"+Yn,co="__reactResources$"+Yn,rr="__reactMarker$"+Yn;function ts(e){delete e[Ce],delete e[ve],delete e[Jr],delete e[Ks],delete e[Xn]}function Pn(e){var i=e[Ce];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_i]||a[Ce]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=zy(e);e!==null;){if(a=e[Ce])return a;e=zy(e)}return i}e=a,a=e.parentNode}return null}function vi(e){if(e=e[Ce]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function sr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ar(e){var i=e[co];return i||(i=e[co]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Zt(e){e[rr]=!0}var ho=new Set,Ys={};function un(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Ys[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function Yl(e){return js.call(mo,e)?!0:js.call(fo,e)?!1:fh.test(e)?mo[e]=!0:(fo[e]=!0,!1)}function or(e,i,a){if(Yl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function lr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function vn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dh(e){var i=Xl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function es(e){e._valueTracker||(e._valueTracker=dh(e))}function go(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Xl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function ie(e){return e.replace(Ei,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ws(e,v,Ze(i)):a!=null?Ws(e,v,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ze(T):e.removeAttribute("name")}function ns(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ws(e,i,a){i==="number"&&Xs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function is(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function cr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||mh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Wl(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&po(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&po(e,d,i[d])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(e){return ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function $s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function Si(e){var i=vi(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(s(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&go(l)}break t;case"textarea":is(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var _o=!1;function $l(e,i,a){if(_o)return e(i,a);_o=!0;try{var l=e(i);return l}finally{if(_o=!1,(Ti!==null||Ai!==null)&&(Hu(),Ti&&(i=Ti,e=Ai,Ai=Ti=null,Si(i),e)))for(i=0;i<e.length;i++)Si(e[i])}}function rs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var An=!1;if(cn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){An=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{An=!1}var $n=null,hr=null,bi=null;function vo(){if(bi)return bi;var e,i=hr,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Zn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function Eo(){return!1}function De(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:Eo,this.isPropagationStopped=Eo,this}return O(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=De(jt),as=O({},jt,{view:0,detail:0}),Zl=De(as),Js,ta,ti,os=O({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(Js=e.screenX-ti.screenX,ta=e.screenY-ti.screenY):ta=Js=0,ti=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Sn=De(os),Jl=O({},os,{dataTransfer:0}),yh=De(Jl),ls=O({},as,{relatedTarget:0}),ea=De(ls),To=O({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),na=De(To),tu=O({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ia=De(tu),_h=O({},jt,{data:0}),Ao=De(_h),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=nu[e])?!!i[e]:!1}function cs(){return So}var iu=O({},as,{key:function(e){if(e.key){var i=us[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ra=De(iu),ru=O({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=De(ru),Ri=O({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),su=De(Ri),au=O({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ou=De(au),lu=O({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=De(lu),Je=O({},jt,{newState:0,oldState:0}),uu=De(Je),cu=[9,13,27,32],ei=cn&&"CompositionEvent"in window,c=null;cn&&"documentMode"in document&&(c=document.documentMode);var g=cn&&"TextEvent"in window&&!c,_=cn&&(!ei||c&&8<c&&11>=c),A=" ",q=!1;function F(e,i){switch(e){case"keyup":return cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Ee(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(q=!0,A);case"textInput":return e=i.data,e===A&&q?null:e;default:return null}}function Pt(e,i){if(Ut)return e==="compositionend"||!ei&&F(e,i)?(e=vo(),bi=hr=$n=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Oe[e.type]:i==="textarea"}function wi(e,i,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,i=Ku(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var xe=null,ni=null;function Ro(e){Oy(e,0)}function hu(e){var i=sr(e);if(go(i))return e}function sg(e,i){if(e==="change")return i}var ag=!1;if(cn){var vh;if(cn){var Eh="oninput"in document;if(!Eh){var og=document.createElement("div");og.setAttribute("oninput","return;"),Eh=typeof og.oninput=="function"}vh=Eh}else vh=!1;ag=vh&&(!document.documentMode||9<document.documentMode)}function lg(){xe&&(xe.detachEvent("onpropertychange",ug),ni=xe=null)}function ug(e){if(e.propertyName==="value"&&hu(ni)){var i=[];wi(i,ni,e,$s(e)),$l(Ro,i)}}function b0(e,i,a){e==="focusin"?(lg(),xe=i,ni=a,xe.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function R0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(ni)}function w0(e,i){if(e==="click")return hu(i)}function I0(e,i){if(e==="input"||e==="change")return hu(i)}function C0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:C0;function wo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!js.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,i){var a=cg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cg(a)}}function fg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?fg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Xs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Xs(e.document)}return i}function Th(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function D0(e,i){var a=dg(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&fg(i.ownerDocument.documentElement,i)){if(l!==null&&Th(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=hg(i,d);var v=hg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var O0=cn&&"documentMode"in document&&11>=document.documentMode,aa=null,Ah=null,Io=null,Sh=!1;function mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sh||aa==null||aa!==Xs(l)||(l=aa,"selectionStart"in l&&Th(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&wo(Io,l)||(Io=l,l=Ku(Ah,"onSelect"),0<l.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=aa)))}function hs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var oa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},bh={},gg={};cn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function fs(e){if(bh[e])return bh[e];if(!oa[e])return e;var i=oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in gg)return bh[e]=i[a];return e}var pg=fs("animationend"),yg=fs("animationiteration"),_g=fs("animationstart"),N0=fs("transitionrun"),M0=fs("transitionstart"),V0=fs("transitioncancel"),vg=fs("transitionend"),Eg=new Map,Tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xn(e,i){Eg.set(e,i),un(i,[e])}var bn=[],la=0,Rh=0;function fu(){for(var e=la,i=Rh=la=0;i<e;){var a=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function du(e,i,a,l){bn[la++]=e,bn[la++]=i,bn[la++]=a,bn[la++]=l,Rh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wh(e,i,a,l){return du(e,i,a,l),mu(e)}function fr(e,i){return du(e,null,null,i),mu(e)}function Ag(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function mu(e){if(50<Zo)throw Zo=0,Vf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ua={},Sg=new WeakMap;function Rn(e,i){if(typeof e=="object"&&e!==null){var a=Sg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:yt(i)},Sg.set(e,i),i)}return{value:e,source:i,stack:yt(i)}}var ca=[],ha=0,gu=null,pu=0,wn=[],In=0,ds=null,Ii=1,Ci="";function ms(e,i){ca[ha++]=pu,ca[ha++]=gu,gu=e,pu=i}function bg(e,i,a){wn[In++]=Ii,wn[In++]=Ci,wn[In++]=ds,ds=e;var l=Ii;e=Ci;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-$e(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function Ih(e){e.return!==null&&(ms(e,1),bg(e,1,0))}function Ch(e){for(;e===gu;)gu=ca[--ha],ca[ha]=null,pu=ca[--ha],ca[ha]=null;for(;e===ds;)ds=wn[--In],wn[In]=null,Ci=wn[--In],wn[In]=null,Ii=wn[--In],wn[In]=null}var tn=null,Le=null,Bt=!1,Ln=null,ii=!1,Dh=Error(s(519));function gs(e){var i=Error(s(418,""));throw Oo(Rn(i,e)),Dh}function Rg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ce]=e,i[ve]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Vt(tl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ns(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),es(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),cr(i,l.value,l.defaultValue,l.children),es(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Uy(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||gs(e)}function wg(e){for(tn=e.return;tn;)switch(tn.tag){case 3:case 27:ii=!0;return;case 5:case 13:ii=!1;return;default:tn=tn.return}}function Co(e){if(e!==tn)return!1;if(!Bt)return wg(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wf(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Le&&gs(e),wg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Le=zn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Le=null}}else Le=tn?zn(e.stateNode.nextSibling):null;return!0}function Do(){Le=tn=null,Bt=!1}function Oo(e){Ln===null?Ln=[e]:Ln.push(e)}var No=Error(s(460)),Ig=Error(s(474)),Oh={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yu(){}function Dg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(yu,yu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===No?Error(s(483)):e;default:if(typeof i.status=="string")i.then(yu,yu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===No?Error(s(483)):e}throw Mo=i,No}}var Mo=null;function Og(){if(Mo===null)throw Error(s(459));var e=Mo;return Mo=null,e}var fa=null,Vo=0;function _u(e){var i=Vo;return Vo+=1,fa===null&&(fa=[]),Dg(fa,e,i)}function Uo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function vu(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ng(e){var i=e._init;return i(e._payload)}function Mg(e){function i(z,x){if(e){var H=z.deletions;H===null?(z.deletions=[x],z.flags|=16):H.push(x)}}function a(z,x){if(!e)return null;for(;x!==null;)i(z,x),x=x.sibling;return null}function l(z){for(var x=new Map;z!==null;)z.key!==null?x.set(z.key,z):x.set(z.index,z),z=z.sibling;return x}function h(z,x){return z=br(z,x),z.index=0,z.sibling=null,z}function d(z,x,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<x?(z.flags|=33554434,x):H):(z.flags|=33554434,x)):(z.flags|=1048576,x)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,x,H,W){return x===null||x.tag!==6?(x=Rf(H,z.mode,W),x.return=z,x):(x=h(x,H),x.return=z,x)}function w(z,x,H,W){var ut=H.type;return ut===p?X(z,x,H.props.children,W,H.key):x!==null&&(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===M&&Ng(ut)===x.type)?(x=h(x,H.props),Uo(x,H),x.return=z,x):(x=Lu(H.type,H.key,H.props,null,z.mode,W),Uo(x,H),x.return=z,x)}function k(z,x,H,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==H.containerInfo||x.stateNode.implementation!==H.implementation?(x=wf(H,z.mode,W),x.return=z,x):(x=h(x,H.children||[]),x.return=z,x)}function X(z,x,H,W,ut){return x===null||x.tag!==7?(x=Rs(H,z.mode,W,ut),x.return=z,x):(x=h(x,H),x.return=z,x)}function J(z,x,H){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Rf(""+x,z.mode,H),x.return=z,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case f:return H=Lu(x.type,x.key,x.props,null,z.mode,H),Uo(H,x),H.return=z,H;case m:return x=wf(x,z.mode,H),x.return=z,x;case M:var W=x._init;return x=W(x._payload),J(z,x,H)}if(st(x)||ft(x))return x=Rs(x,z.mode,H,null),x.return=z,x;if(typeof x.then=="function")return J(z,_u(x),H);if(x.$$typeof===C)return J(z,Uu(z,x),H);vu(z,x)}return null}function j(z,x,H,W){var ut=x!==null?x.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ut!==null?null:T(z,x,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ut?w(z,x,H,W):null;case m:return H.key===ut?k(z,x,H,W):null;case M:return ut=H._init,H=ut(H._payload),j(z,x,H,W)}if(st(H)||ft(H))return ut!==null?null:X(z,x,H,W,null);if(typeof H.then=="function")return j(z,x,_u(H),W);if(H.$$typeof===C)return j(z,x,Uu(z,H),W);vu(z,H)}return null}function Y(z,x,H,W,ut){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,T(x,z,""+W,ut);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return z=z.get(W.key===null?H:W.key)||null,w(x,z,W,ut);case m:return z=z.get(W.key===null?H:W.key)||null,k(x,z,W,ut);case M:var Dt=W._init;return W=Dt(W._payload),Y(z,x,H,W,ut)}if(st(W)||ft(W))return z=z.get(H)||null,X(x,z,W,ut,null);if(typeof W.then=="function")return Y(z,x,H,_u(W),ut);if(W.$$typeof===C)return Y(z,x,H,Uu(x,W),ut);vu(x,W)}return null}function ct(z,x,H,W){for(var ut=null,Dt=null,dt=x,pt=x=0,Ve=null;dt!==null&&pt<H.length;pt++){dt.index>pt?(Ve=dt,dt=null):Ve=dt.sibling;var qt=j(z,dt,H[pt],W);if(qt===null){dt===null&&(dt=Ve);break}e&&dt&&qt.alternate===null&&i(z,dt),x=d(qt,x,pt),Dt===null?ut=qt:Dt.sibling=qt,Dt=qt,dt=Ve}if(pt===H.length)return a(z,dt),Bt&&ms(z,pt),ut;if(dt===null){for(;pt<H.length;pt++)dt=J(z,H[pt],W),dt!==null&&(x=d(dt,x,pt),Dt===null?ut=dt:Dt.sibling=dt,Dt=dt);return Bt&&ms(z,pt),ut}for(dt=l(dt);pt<H.length;pt++)Ve=Y(dt,z,pt,H[pt],W),Ve!==null&&(e&&Ve.alternate!==null&&dt.delete(Ve.key===null?pt:Ve.key),x=d(Ve,x,pt),Dt===null?ut=Ve:Dt.sibling=Ve,Dt=Ve);return e&&dt.forEach(function(Nr){return i(z,Nr)}),Bt&&ms(z,pt),ut}function Tt(z,x,H,W){if(H==null)throw Error(s(151));for(var ut=null,Dt=null,dt=x,pt=x=0,Ve=null,qt=H.next();dt!==null&&!qt.done;pt++,qt=H.next()){dt.index>pt?(Ve=dt,dt=null):Ve=dt.sibling;var Nr=j(z,dt,qt.value,W);if(Nr===null){dt===null&&(dt=Ve);break}e&&dt&&Nr.alternate===null&&i(z,dt),x=d(Nr,x,pt),Dt===null?ut=Nr:Dt.sibling=Nr,Dt=Nr,dt=Ve}if(qt.done)return a(z,dt),Bt&&ms(z,pt),ut;if(dt===null){for(;!qt.done;pt++,qt=H.next())qt=J(z,qt.value,W),qt!==null&&(x=d(qt,x,pt),Dt===null?ut=qt:Dt.sibling=qt,Dt=qt);return Bt&&ms(z,pt),ut}for(dt=l(dt);!qt.done;pt++,qt=H.next())qt=Y(dt,z,pt,qt.value,W),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?pt:qt.key),x=d(qt,x,pt),Dt===null?ut=qt:Dt.sibling=qt,Dt=qt);return e&&dt.forEach(function(KA){return i(z,KA)}),Bt&&ms(z,pt),ut}function ae(z,x,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var ut=H.key;x!==null;){if(x.key===ut){if(ut=H.type,ut===p){if(x.tag===7){a(z,x.sibling),W=h(x,H.props.children),W.return=z,z=W;break t}}else if(x.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===M&&Ng(ut)===x.type){a(z,x.sibling),W=h(x,H.props),Uo(W,H),W.return=z,z=W;break t}a(z,x);break}else i(z,x);x=x.sibling}H.type===p?(W=Rs(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=Lu(H.type,H.key,H.props,null,z.mode,W),Uo(W,H),W.return=z,z=W)}return v(z);case m:t:{for(ut=H.key;x!==null;){if(x.key===ut)if(x.tag===4&&x.stateNode.containerInfo===H.containerInfo&&x.stateNode.implementation===H.implementation){a(z,x.sibling),W=h(x,H.children||[]),W.return=z,z=W;break t}else{a(z,x);break}else i(z,x);x=x.sibling}W=wf(H,z.mode,W),W.return=z,z=W}return v(z);case M:return ut=H._init,H=ut(H._payload),ae(z,x,H,W)}if(st(H))return ct(z,x,H,W);if(ft(H)){if(ut=ft(H),typeof ut!="function")throw Error(s(150));return H=ut.call(H),Tt(z,x,H,W)}if(typeof H.then=="function")return ae(z,x,_u(H),W);if(H.$$typeof===C)return ae(z,x,Uu(z,H),W);vu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,x!==null&&x.tag===6?(a(z,x.sibling),W=h(x,H),W.return=z,z=W):(a(z,x),W=Rf(H,z.mode,W),W.return=z,z=W),v(z)):a(z,x)}return function(z,x,H,W){try{Vo=0;var ut=ae(z,x,H,W);return fa=null,ut}catch(dt){if(dt===No)throw dt;var Dt=Nn(29,dt,null,z.mode);return Dt.lanes=W,Dt.return=z,Dt}finally{}}}var ps=Mg(!0),Vg=Mg(!1),da=kt(null),Eu=kt(0);function Ug(e,i){e=zi,Ft(Eu,e),Ft(da,i),zi=e|i.baseLanes}function Nh(){Ft(Eu,zi),Ft(da,da.current)}function Mh(){zi=Eu.current,ne(da),ne(Eu)}var Cn=kt(null),ri=null;function dr(e){var i=e.alternate;Ft(Ae,Ae.current&1),Ft(Cn,e),ri===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(ri=e)}function Pg(e){if(e.tag===22){if(Ft(Ae,Ae.current),Ft(Cn,e),ri===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ri=e)}}else mr()}function mr(){Ft(Ae,Ae.current),Ft(Cn,Cn.current)}function Di(e){ne(Cn),ri===e&&(ri=null),ne(Ae)}var Ae=kt(0);function Tu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var U0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},P0=r.unstable_scheduleCallback,x0=r.unstable_NormalPriority,Se={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new U0,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&P0(x0,function(){e.controller.abort()})}var xo=null,Uh=0,ma=0,ga=null;function L0(e,i){if(xo===null){var a=xo=[];Uh=0,ma=qf(),ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uh++,i.then(xg,xg),i}function xg(){if(--Uh===0&&xo!==null){ga!==null&&(ga.status="fulfilled");var e=xo;xo=null,ma=0,ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function k0(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Lg=b.S;b.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&L0(e,i),Lg!==null&&Lg(e,i)};var ys=kt(null);function Ph(){var e=ys.current;return e!==null?e:Xt.pooledCache}function Au(e,i){i===null?Ft(ys,ys.current):Ft(ys,i.pool)}function kg(){var e=Ph();return e===null?null:{parent:Se._currentValue,pool:e}}var gr=0,It=null,Qt=null,fe=null,Su=!1,pa=!1,_s=!1,bu=0,Lo=0,ya=null,z0=0;function le(){throw Error(s(321))}function xh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Lh(e,i,a,l,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=e===null||e.memoizedState===null?vs:pr,_s=!1,d=a(l,h),_s=!1,pa&&(d=Bg(i,a,l,h)),zg(e),d}function zg(e){b.H=si;var i=Qt!==null&&Qt.next!==null;if(gr=0,fe=Qt=It=null,Su=!1,Lo=0,ya=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&Vu(e)&&(Ne=!0))}function Bg(e,i,a,l){It=e;var h=0;do{if(pa&&(ya=null),Lo=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,fe=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Es,d=i(a,l)}while(pa);return d}function B0(){var e=b.H,i=e.useState()[0];return i=typeof i.then=="function"?ko(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(It.flags|=1024),i}function kh(){var e=bu!==0;return bu=0,e}function zh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Bh(e){if(Su){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Su=!1}gr=0,fe=Qt=It=null,pa=!1,Lo=bu=0,ya=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?It.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Qt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=fe===null?It.memoizedState:fe.next;if(i!==null)fe=i,Qt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?It.memoizedState=fe=e:fe=fe.next=e}return fe}var Ru;Ru=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ko(e){var i=Lo;return Lo+=1,ya===null&&(ya=[]),e=Dg(ya,e,i),i=It,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?vs:pr),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===C)return Ge(e)}throw Error(s(438,String(e)))}function qh(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ru(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=it;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function Iu(e){var i=de();return Hh(i,Qt,e)}function Hh(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,k=i,X=!1;do{var J=k.lane&-536870913;if(J!==k.lane?(xt&J)===J:(gr&J)===J){var j=k.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),J===ma&&(X=!0);else if((gr&j)===j){k=k.next,j===ma&&(X=!0);continue}else J={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(T=w=J,v=d):w=w.next=J,It.lanes|=j,Rr|=j;J=k.action,_s&&a(d,J),d=k.hasEagerState?k.eagerState:a(d,J)}else j={lane:J,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(T=w=j,v=d):w=w.next=j,It.lanes|=J,Rr|=J;k=k.next}while(k!==null&&k!==i);if(w===null?v=d:w.next=T,!hn(d,e.memoizedState)&&(Ne=!0,X&&(a=ga,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jh(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function qg(e,i,a){var l=It,h=de(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ne=!0),h=h.queue,Qh(Gg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,_a(9,jg.bind(null,l,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));d||(gr&60)!==0||Hg(l,i,a)}return a}function Hg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=Ru(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function jg(e,i,a,l){i.value=a,i.getSnapshot=l,Fg(i)&&Qg(e)}function Gg(e,i,a){return a(function(){Fg(i)&&Qg(e)})}function Fg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function Qg(e){var i=fr(e,2);i!==null&&en(i,e,2)}function Gh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),_s){Qn(!0);try{a()}finally{Qn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function Kg(e,i,a,l){return e.baseState=a,Hh(e,Qt,typeof l=="function"?l:Oi)}function q0(e,i,a,l,h){if(Ou(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var T=a(h,l),w=b.S;w!==null&&w(v,T),Xg(e,i,T)}catch(k){Fh(e,i,k)}finally{b.T=d}}else try{d=a(h,l),Xg(e,i,d)}catch(k){Fh(e,i,k)}}function Xg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wg(e,i,l)},function(l){return Fh(e,i,l)}):Wg(e,i,a)}function Wg(e,i,a){i.status="fulfilled",i.value=a,$g(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Yg(e,a)))}function Fh(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$g(i),i=i.next;while(i!==l)}e.action=null}function $g(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Zg(e,i){return i}function Jg(e,i){if(Bt){var a=Xt.formState;if(a!==null){t:{var l=It;if(Bt){if(Le){e:{for(var h=Le,d=ii;h.nodeType!==8;){if(!d){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Le=zn(h.nextSibling),l=h.data==="F!";break t}}gs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=l,a=yp.bind(null,It,l),l.dispatch=a,l=Gh(!1),d=$h.bind(null,It,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=q0.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function tp(e){var i=de();return ep(i,Qt,e)}function ep(e,i,a){i=Hh(e,i,Zg)[0],e=Iu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ko(i):i;var l=de(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(It.flags|=2048,_a(9,H0.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function H0(e,i){e.action=i}function np(e){var i=de(),a=Qt;if(a!==null)return ep(i,a,e);de(),i=i.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function _a(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=It.updateQueue,i===null&&(i=Ru(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ip(){return de().memoizedState}function Cu(e,i,a,l){var h=sn();It.flags|=e,h.memoizedState=_a(1|i,a,{destroy:void 0},l===void 0?null:l)}function Du(e,i,a,l){var h=de();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&xh(l,Qt.memoizedState.deps)?h.memoizedState=_a(i,a,d,l):(It.flags|=e,h.memoizedState=_a(1|i,a,d,l))}function rp(e,i){Cu(8390656,8,e,i)}function Qh(e,i){Du(2048,8,e,i)}function sp(e,i){return Du(4,2,e,i)}function ap(e,i){return Du(4,4,e,i)}function op(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function lp(e,i,a){a=a!=null?a.concat([e]):null,Du(4,4,op.bind(null,i,e),a)}function Kh(){}function up(e,i){var a=de();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&xh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function cp(e,i){var a=de();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&xh(i,l[1]))return l[0];if(l=e(),_s){Qn(!0);try{e()}finally{Qn(!1)}}return a.memoizedState=[l,i],l}function Yh(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=fy(),It.lanes|=e,Rr|=e,a)}function hp(e,i,a,l){return hn(a,i)?a:da.current!==null?(e=Yh(e,a,l),hn(e,i)||(Ne=!0),e):(gr&42)===0?(Ne=!0,e.memoizedState=a):(e=fy(),It.lanes|=e,Rr|=e,i)}function fp(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=b.T,T={};b.T=T,$h(e,!1,i,a);try{var w=h(),k=b.S;if(k!==null&&k(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=k0(w,l);zo(e,i,X,gn(e))}else zo(e,i,l,gn(e))}catch(J){zo(e,i,{then:function(){},status:"rejected",reason:J},gn())}finally{at.p=d,b.T=v}}function j0(){}function Xh(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=dp(e).queue;fp(e,h,i,wt,a===null?j0:function(){return mp(e),a(l)})}function dp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:wt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function mp(e){var i=dp(e).next.queue;zo(e,i,{},gn())}function Wh(){return Ge(sl)}function gp(){return de().memoizedState}function pp(){return de().memoizedState}function G0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=vr(a);var l=Er(i,e,a);l!==null&&(en(l,i,a),Ho(l,i,a)),i={cache:Vh()},e.payload=i;return}i=i.return}}function F0(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(e)?_p(i,a):(a=wh(e,i,a,l),a!==null&&(en(a,e,l),vp(a,i,l)))}function yp(e,i,a){var l=gn();zo(e,i,a,l)}function zo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))_p(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return du(e,i,h,0),Xt===null&&fu(),!1}catch{}finally{}if(a=wh(e,i,h,l),a!==null)return en(a,e,l),vp(a,i,l),!0}return!1}function $h(e,i,a,l){if(l={lane:2,revertLane:qf(),action:l,hasEagerState:!1,eagerState:null,next:null},Ou(e)){if(i)throw Error(s(479))}else i=wh(e,a,l,2),i!==null&&en(i,e,2)}function Ou(e){var i=e.alternate;return e===It||i!==null&&i===It}function _p(e,i){pa=Su=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function vp(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}var si={readContext:Ge,use:wu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};si.useCacheRefresh=le,si.useMemoCache=le,si.useHostTransitionStatus=le,si.useFormState=le,si.useActionState=le,si.useOptimistic=le;var vs={readContext:Ge,use:wu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:rp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,op.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Cu(4194308,4,e,i)},useInsertionEffect:function(e,i){Cu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(_s){Qn(!0);try{e()}finally{Qn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(_s){Qn(!0);try{a(i)}finally{Qn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=F0.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Gh(e);var i=e.queue,a=yp.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Kh,useDeferredValue:function(e,i){var a=sn();return Yh(a,e,i)},useTransition:function(){var e=Gh(!1);return e=fp.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(xt&60)!==0||Hg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,rp(Gg.bind(null,l,d,e),[e]),l.flags|=2048,_a(9,jg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=Xt.identifierPrefix;if(Bt){var a=Ci,l=Ii;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=bu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=z0++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=G0.bind(null,It)}};vs.useMemoCache=qh,vs.useHostTransitionStatus=Wh,vs.useFormState=Jg,vs.useActionState=Jg,vs.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$h.bind(null,It,!0,a),a.dispatch=i,[e,i]};var pr={readContext:Ge,use:wu,useCallback:up,useContext:Ge,useEffect:Qh,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:Iu,useRef:ip,useState:function(){return Iu(Oi)},useDebugValue:Kh,useDeferredValue:function(e,i){var a=de();return hp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Iu(Oi)[0],i=de().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:qg,useId:gp};pr.useCacheRefresh=pp,pr.useMemoCache=qh,pr.useHostTransitionStatus=Wh,pr.useFormState=tp,pr.useActionState=tp,pr.useOptimistic=function(e,i){var a=de();return Kg(a,Qt,e,i)};var Es={readContext:Ge,use:wu,useCallback:up,useContext:Ge,useEffect:Qh,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:jh,useRef:ip,useState:function(){return jh(Oi)},useDebugValue:Kh,useDeferredValue:function(e,i){var a=de();return Qt===null?Yh(a,e,i):hp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=jh(Oi)[0],i=de().memoizedState;return[typeof e=="boolean"?e:ko(e),i]},useSyncExternalStore:qg,useId:gp};Es.useCacheRefresh=pp,Es.useMemoCache=qh,Es.useHostTransitionStatus=Wh,Es.useFormState=np,Es.useActionState=np,Es.useOptimistic=function(e,i){var a=de();return Qt!==null?Kg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Zh(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:O({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jh={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=vr(l);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(en(i,e,l),Ho(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(en(i,e,l),Ho(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=vr(a);l.tag=2,i!=null&&(l.callback=i),i=Er(e,l,a),i!==null&&(en(i,e,a),Ho(i,e,a))}};function Ep(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!wo(a,l)||!wo(h,d):!0}function Tp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Jh.enqueueReplaceState(i,i.state,null)}function Ts(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=O({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ap(e){Nu(e)}function Sp(e){console.error(e)}function bp(e){Nu(e)}function Mu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Rp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function tf(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(e,i)},a}function wp(e){return e=vr(e),e.tag=3,e}function Ip(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Rp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Rp(i,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Q0(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ri===null?xf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Oh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kf(e,l,h)),!1;case 22:return a.flags|=65536,l===Oh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kf(e,l,h)),!1}throw Error(s(435,a.tag))}return kf(e,l,h),xf(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Dh&&(e=Error(s(422),{cause:l}),Oo(Rn(e,a)))):(l!==Dh&&(i=Error(s(423),{cause:l}),Oo(Rn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Rn(l,a),h=tf(e.stateNode,l,h),pf(e,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),Wo===null?Wo=[d]:Wo.push(d),se!==4&&(se=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=tf(a.stateNode,l,e),pf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wp(h),Ip(h,e,a,l),pf(a,h),!1}a=a.return}while(a!==null);return!1}var Cp=Error(s(461)),Ne=!1;function ke(e,i,a,l){i.child=e===null?Vg(i,null,a,l):ps(i,e.child,a,l)}function Dp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(i),l=Lh(e,i,a,v,d,h),T=kh(),e!==null&&!Ne?(zh(e,i,h),Ni(e,i,h)):(Bt&&T&&Ih(i),i.flags|=1,ke(e,i,l,h),i.child)}function Op(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!bf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Np(e,i,d,l,h)):(e=Lu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!cf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(v,l)&&e.ref===i.ref)return Ni(e,i,h)}return i.flags|=1,e=br(d,l),e.ref=i.ref,e.return=i,i.child=e}function Np(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(wo(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,cf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Ni(e,i,h)}return ef(e,i,a,l,h)}function Mp(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Bo(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Vp(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(i,v!==null?v.cachePool:null),v!==null?Ug(i,v):Nh(),Pg(i);else return i.lanes=i.childLanes=536870912,Vp(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Au(i,v.cachePool),Ug(i,v),mr(),i.memoizedState=null):(e!==null&&Au(i,null),Nh(),mr());return ke(e,i,h,a),i.child}function Vp(e,i,a,l){var h=Ph();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Au(i,null),Nh(),Pg(i),e!==null&&qo(e,i,l,!0),null}function Bo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function ef(e,i,a,l,h){return Ss(i),a=Lh(e,i,a,l,void 0,h),l=kh(),e!==null&&!Ne?(zh(e,i,h),Ni(e,i,h)):(Bt&&l&&Ih(i),i.flags|=1,ke(e,i,a,h),i.child)}function Up(e,i,a,l,h,d){return Ss(i),i.updateQueue=null,a=Bg(i,l,a,h),zg(e),l=kh(),e!==null&&!Ne?(zh(e,i,d),Ni(e,i,d)):(Bt&&l&&Ih(i),i.flags|=1,ke(e,i,a,d),i.child)}function Pp(e,i,a,l,h){if(Ss(i),i.stateNode===null){var d=ua,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jh,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},mf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):ua,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Zh(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Jh.enqueueReplaceState(d,d.state,null),Go(i,l,d,h),jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=Ts(a,T);d.props=w;var k=d.context,X=a.contextType;v=ua,typeof X=="object"&&X!==null&&(v=Ge(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==v)&&Tp(i,d,l,v),_r=!1;var j=i.memoizedState;d.state=j,Go(i,l,d,h),jo(),k=i.memoizedState,T||j!==k||_r?(typeof J=="function"&&(Zh(i,a,J,l),k=i.memoizedState),(w=_r||Ep(i,a,w,l,j,k,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gf(e,i),v=i.memoizedProps,X=Ts(a,v),d.props=X,J=i.pendingProps,j=d.context,k=a.contextType,w=ua,typeof k=="object"&&k!==null&&(w=Ge(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||j!==w)&&Tp(i,d,l,w),_r=!1,j=i.memoizedState,d.state=j,Go(i,l,d,h),jo();var Y=i.memoizedState;v!==J||j!==Y||_r||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(Zh(i,a,T,l),Y=i.memoizedState),(X=_r||Ep(i,a,X,l,j,Y,w)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=w,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Bo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ps(i,e.child,null,h),i.child=ps(i,null,a,h)):ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ni(e,i,h),e}function xp(e,i,a,l){return Do(),i.flags|=256,ke(e,i,a,l),i.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(e){return{baseLanes:e,cachePool:kg()}}function sf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Mn),e}function Lp(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?dr(i):mr(),Bt){var T=Le,w;if(w=T){t:{for(w=T,T=ii;w.nodeType!==8;){if(!T){T=null;break t}if(w=zn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:ds!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912},w=Nn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,tn=i,Le=null,w=!0):w=!1}w||gs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=of({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=rf(a),h.childLanes=sf(e,v,a),i.memoizedState=nf,l):(dr(i),af(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=lf(e,i,a)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=of({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ps(i,e.child,null,a),l=i.child,l.memoizedState=rf(a),l.childLanes=sf(e,v,a),i.memoizedState=nf,i=h);else if(dr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Oo({value:l,source:null,stack:null}),i=lf(e,i,a)}else if(Ne||qo(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Xt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,fr(e,l),en(v,e,l),Cp}T.data==="$?"||xf(),i=lf(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=oA.bind(null,e),T._reactRetry=i,i=null):(e=w.treeContext,Le=zn(T.nextSibling),tn=i,Bt=!0,Ln=null,ii=!1,e!==null&&(wn[In++]=Ii,wn[In++]=Ci,wn[In++]=ds,Ii=e.id,Ci=e.overflow,ds=i),i=af(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,w=e.child,k=w.sibling,l=br(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,k!==null?h=br(k,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=rf(a):(w=T.cachePool,w!==null?(k=Se._currentValue,w=w.parent!==k?{parent:k,pool:k}:w):w=kg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=sf(e,v,a),i.memoizedState=nf,l):(dr(i),a=e.child,e=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function af(e,i){return i=of({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function of(e,i){return uy(e,i,0,null)}function lf(e,i,a){return ps(i,e.child,null,a),e=af(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function kp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),ff(e.return,i,a)}function uf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function zp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ke(e,i,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,a,i);else if(e.tag===19)kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Ft(Ae,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Tu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),uf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Tu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}uf(i,!0,a,null,d);break;case"together":uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ni(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Rr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(qo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=br(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=br(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function cf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function K0(e,i,a){switch(i.tag){case 3:Wi(i,i.stateNode.containerInfo),yr(i,Se,e.memoizedState.cache),Do();break;case 27:case 5:ro(i);break;case 4:Wi(i,i.stateNode.containerInfo);break;case 10:yr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Lp(e,i,a):(dr(i),e=Ni(e,i,a),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return zp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(Ae,Ae.current),l)break;return null;case 22:case 23:return i.lanes=0,Mp(e,i,a);case 24:yr(i,Se,e.memoizedState.cache)}return Ni(e,i,a)}function Bp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!cf(e,a)&&(i.flags&128)===0)return Ne=!1,K0(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,Bt&&(i.flags&1048576)!==0&&bg(i,pu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")bf(l)?(e=Ts(l,e),i.tag=1,i=Pp(null,i,l,e,a)):(i.tag=0,i=ef(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Q){i.tag=11,i=Dp(null,i,l,e,a);break t}else if(h===R){i.tag=14,i=Op(null,i,l,e,a);break t}}throw i=I(l)||l,Error(s(306,i,""))}}return i;case 0:return ef(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ts(l,i.pendingProps),Pp(e,i,l,h,a);case 3:t:{if(Wi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,gf(e,i),Go(i,d,null,a);var v=i.memoizedState;if(d=v.cache,yr(i,Se,d),d!==h.cache&&df(i,[Se],a,!0),jo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=xp(e,i,d,a);break t}else if(d!==l){l=Rn(Error(s(424)),i),Oo(l),i=xp(e,i,d,a);break t}else for(Le=zn(i.stateNode.containerInfo.firstChild),tn=i,Bt=!0,Ln=null,ii=!0,a=Vg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Do(),d===l){i=Ni(e,i,a);break t}ke(e,i,d,a)}i=i.child}return i;case 26:return Bo(e,i),e===null?(a=jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=Xu(yn.current).createElement(a),l[Ce]=i,l[ve]=e,ze(l,a,e),Zt(l),i.stateNode=l):i.memoizedState=jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ro(i),e===null&&Bt&&(l=i.stateNode=By(i.type,i.pendingProps,yn.current),tn=i,ii=!0,Le=zn(l.firstChild)),l=i.pendingProps.children,e!==null||Bt?ke(e,i,l,a):i.child=ps(i,null,l,a),Bo(e,i),i.child;case 5:return e===null&&Bt&&((h=l=Le)&&(l=SA(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,tn=i,Le=zn(l.firstChild),ii=!1,h=!0):h=!1),h||gs(i)),ro(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Wf(h,d)?l=null:v!==null&&Wf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Lh(e,i,B0,null,null,a),sl._currentValue=h),Bo(e,i),ke(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=Le)&&(a=bA(a,i.pendingProps,ii),a!==null?(i.stateNode=a,tn=i,Le=null,e=!0):e=!1),e||gs(i)),null;case 13:return Lp(e,i,a);case 4:return Wi(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ps(i,null,l,a):ke(e,i,l,a),i.child;case 11:return Dp(e,i,i.type,i.pendingProps,a);case 7:return ke(e,i,i.pendingProps,a),i.child;case 8:return ke(e,i,i.pendingProps.children,a),i.child;case 12:return ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yr(i,i.type,l.value),ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ss(i),h=Ge(h),l=l(h),i.flags|=1,ke(e,i,l,a),i.child;case 14:return Op(e,i,i.type,i.pendingProps,a);case 15:return Np(e,i,i.type,i.pendingProps,a);case 19:return zp(e,i,a);case 22:return Mp(e,i,a);case 24:return Ss(i),l=Ge(Se),e===null?(h=Ph(),h===null&&(h=Xt,d=Vh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},mf(i),yr(i,Se,h)):((e.lanes&a)!==0&&(gf(e,i),Go(i,null,null,a),jo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yr(i,Se,l)):(l=d.cache,yr(i,Se,l),l!==h.cache&&df(i,[Se],a,!0))),ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var hf=kt(null),As=null,Mi=null;function yr(e,i,a){Ft(hf,i._currentValue),i._currentValue=a}function Vi(e){e._currentValue=hf.current,ne(hf)}function ff(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function df(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ff(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ff(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function qo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Xi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}h=h.return}e!==null&&df(i,e,a,l),i.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return qp(As,e)}function Uu(e,i){return As===null&&Ss(e),qp(e,i)}function qp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return a}var _r=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=mu(e),Ag(e,null,a),i}return du(e,l,i,a),mu(e)}function Ho(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}function pf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var yf=!1;function jo(){if(yf){var e=ga;if(e!==null)throw e}}function Go(e,i,a,l){yf=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,k=w.next;w.next=null,v===null?d=k:v.next=k,v=w;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=k:T.next=k,X.lastBaseUpdate=w))}if(d!==null){var J=h.baseState;v=0,X=k=w=null,T=d;do{var j=T.lane&-536870913,Y=j!==T.lane;if(Y?(xt&j)===j:(l&j)===j){j!==0&&j===ma&&(yf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,Tt=T;j=i;var ae=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){J=ct.call(ae,J,j);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,j=typeof ct=="function"?ct.call(ae,J,j):ct,j==null)break t;J=O({},J,j);break t;case 2:_r=!0}}j=T.callback,j!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[j]:Y.push(j))}else Y={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(k=X=Y,w=J):X=X.next=Y,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(w=J),h.baseState=w,h.firstBaseUpdate=k,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Rr|=v,e.lanes=v,e.memoizedState=J}}function Hp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function jp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hp(a[e],i)}function Fo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Tr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a;try{T()}catch(k){Yt(h,w,k)}}}l=l.next}while(l!==d)}}catch(k){Yt(i,i.return,k)}}function Gp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{jp(i,a)}catch(l){Yt(e,e.return,l)}}}function Fp(e,i,a){a.props=Ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function bs(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Yt(e,i,d)}}function fn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Qp(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Kp(e,i,a){try{var l=e.stateNode;_A(l,e.type,a,i),l[ve]=i}catch(h){Yt(e,e.return,h)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function _f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yu));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(vf(e,i,a),e=e.sibling;e!==null;)vf(e,i,a),e=e.sibling}function Pu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Pu(e,i,a),e=e.sibling;e!==null;)Pu(e,i,a),e=e.sibling}var Ui=!1,re=!1,Ef=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Me=null,Wp=!1;function Y0(e,i){if(e=e.containerInfo,Yf=ec,e=dg(e),Th(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,k=0,X=0,J=e,j=null;e:for(;;){for(var Y;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Y=J.firstChild)!==null;)j=J,J=Y;for(;;){if(J===e)break e;if(j===a&&++k===h&&(T=v),j===d&&++X===l&&(w=v),(Y=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=Y}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:e,selectionRange:a},ec=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Ts(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Jf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}return ct=Wp,Wp=!1,ct}function $p(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(e,a),l&4&&Fo(5,a);break;case 1:if(xi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Yt(a,a.return,T)}else{var h=Ts(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(a,a.return,T)}}l&64&&Gp(a),l&512&&bs(a,a.return);break;case 3:if(xi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{jp(l,e)}catch(T){Yt(a,a.return,T)}}break;case 26:xi(e,a),l&512&&bs(a,a.return);break;case 27:case 5:xi(e,a),i===null&&l&4&&Qp(a),l&512&&bs(a,a.return);break;case 12:xi(e,a);break;case 13:xi(e,a),l&4&&ty(e,a);break;case 22:if(h=a.memoizedState!==null||Ui,!h){i=i!==null&&i.memoizedState!==null||re;var d=Ui,v=re;Ui=h,(re=i)&&!v?Ar(e,a,(a.subtreeFlags&8772)!==0):xi(e,a),Ui=d,re=v}l&512&&(a.memoizedProps.mode==="manual"?bs(a,a.return):fn(a,a.return));break;default:xi(e,a)}}function Zp(e){var i=e.alternate;i!==null&&(e.alternate=null,Zp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ts(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,dn=!1;function Pi(e,i,a){for(a=a.child;a!==null;)Jp(e,i,a),a=a.sibling}function Jp(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:re||fn(a,i),Pi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||fn(a,i);var l=me,h=dn;for(me=a.stateNode,Pi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ts(a),me=l,dn=h;break;case 5:re||fn(a,i);case 6:h=me;var d=dn;if(me=null,Pi(e,i,a),me=h,dn=d,me!==null)if(dn)try{e=me,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Yt(a,i,v)}else try{me.removeChild(a.stateNode)}catch(v){Yt(a,i,v)}break;case 18:me!==null&&(dn?(i=me,a=a.stateNode,i.nodeType===8?Zf(i.parentNode,a):i.nodeType===1&&Zf(i,a),ul(i)):Zf(me,a.stateNode));break;case 4:l=me,h=dn,me=a.stateNode.containerInfo,dn=!0,Pi(e,i,a),me=l,dn=h;break;case 0:case 11:case 14:case 15:re||Tr(2,a,i),re||Tr(4,a,i),Pi(e,i,a);break;case 1:re||(fn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fp(a,i,l)),Pi(e,i,a);break;case 21:Pi(e,i,a);break;case 22:re||fn(a,i),re=(l=re)||a.memoizedState!==null,Pi(e,i,a),re=l;break;default:Pi(e,i,a)}}function ty(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(a){Yt(i,i.return,a)}}function X0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Xp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Xp),i;default:throw Error(s(435,e.tag))}}function Tf(e,i){var a=X0(e);i.forEach(function(l){var h=lA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:me=T.stateNode,dn=!1;break t;case 3:me=T.stateNode.containerInfo,dn=!0;break t;case 4:me=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(me===null)throw Error(s(160));Jp(d,v,h),me=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ey(i,e),i=i.sibling}var kn=null;function ey(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(i,e),On(e),l&4&&(Tr(3,e,e.return),Fo(3,e),Tr(5,e,e.return));break;case 1:Dn(i,e),On(e),l&512&&(re||a===null||fn(a,a.return)),l&64&&Ui&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=kn;if(Dn(i,e),On(e),l&512&&(re||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[Ce]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[Ce]=e,Zt(d),l=d;break t;case"link":var v=Qy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Qy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ce]=e,Zt(d),l=d}e.stateNode=l}else Ky(h,e.type,e.stateNode);else e.stateNode=Fy(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ky(h,e.type,e.stateNode):Fy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Kp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var w=h.firstChild;w;){var k=w.nextSibling,X=w.nodeName;w[rr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=k}for(var J=e.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);ze(h,J,d),h[Ce]=e,h[ve]=d}catch(ct){Yt(e,e.return,ct)}}case 5:if(Dn(i,e),On(e),l&512&&(re||a===null||fn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Kp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(Dn(i,e),On(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(Zu=null,h=kn,kn=Wu(i.containerInfo),Dn(i,e),kn=h,On(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}Ef&&(Ef=!1,ny(e));break;case 4:l=kn,kn=Wu(e.stateNode.containerInfo),Dn(i,e),On(e),kn=l;break;case 12:Dn(i,e),On(e);break;case 13:Dn(i,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Of=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tf(e,l)));break;case 22:if(l&512&&(re||a===null||fn(a,a.return)),w=e.memoizedState!==null,k=a!==null&&a.memoizedState!==null,X=Ui,J=re,Ui=X||w,re=J||k,Dn(i,e),re=J,Ui=X,On(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=w?i._visibility&-2:i._visibility|1,w&&(i=Ui||re,a===null||k||i||va(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,w)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,T=k.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ct){Yt(k,k.return,ct)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=w?"":k.memoizedProps}catch(ct){Yt(k,k.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tf(e,a))));break;case 19:Dn(i,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tf(e,l)));break;case 21:break;default:Dn(i,e),On(e)}}function On(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Yp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=_f(e);Pu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(En(v,""),l.flags&=-33);var T=_f(e);Pu(e,T,v);break;case 3:case 4:var w=l.stateNode.containerInfo,k=_f(e);vf(e,k,w);break;default:throw Error(s(161))}}}catch(X){Yt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function xi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$p(e,i.alternate,i),i=i.sibling}function va(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),va(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Fp(i,i.return,a),va(i);break;case 26:case 27:case 5:fn(i,i.return),va(i);break;case 22:fn(i,i.return),i.memoizedState===null&&va(i);break;default:va(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),Fo(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Yt(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Hp(w[h],T)}catch(k){Yt(l,l.return,k)}}a&&v&64&&Gp(d),bs(d,d.return);break;case 26:case 27:case 5:Ar(h,d,a),a&&l===null&&v&4&&Qp(d),bs(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&ty(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),bs(d,d.return);break;default:Ar(h,d,a)}i=i.sibling}}function Af(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Po(a))}function Sf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Po(e))}function Sr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iy(e,i,a,l),i=i.sibling}function iy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,a,l),h&2048&&Fo(9,i);break;case 3:Sr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Sr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Yt(i,i.return,w)}}else Sr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Sr(e,i,a,l):Qo(e,i):d._visibility&4?Sr(e,i,a,l):(d._visibility|=4,Ea(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Af(i.alternate,i);break;case 24:Sr(e,i,a,l),h&2048&&Sf(i.alternate,i);break;default:Sr(e,i,a,l)}}function Ea(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Ea(d,v,T,w,h),Fo(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?Ea(d,v,T,w,h):Qo(d,v):(X._visibility|=4,Ea(d,v,T,w,h)),h&&k&2048&&Af(v.alternate,v);break;case 24:Ea(d,v,T,w,h),h&&k&2048&&Sf(v.alternate,v);break;default:Ea(d,v,T,w,h)}i=i.sibling}}function Qo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Qo(a,l),h&2048&&Af(l.alternate,l);break;case 24:Qo(a,l),h&2048&&Sf(l.alternate,l);break;default:Qo(a,l)}i=i.sibling}}var Ko=8192;function Ta(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ry(e),e=e.sibling}function ry(e){switch(e.tag){case 26:Ta(e),e.flags&Ko&&e.memoizedState!==null&&LA(kn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e);break;case 3:case 4:var i=kn;kn=Wu(e.stateNode.containerInfo),Ta(e),kn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,Ta(e),Ko=i):Ta(e));break;default:Ta(e)}}function sy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Yo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,oy(l,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,xu(e)):Yo(e);break;default:Yo(e)}}function xu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,oy(l,e)}sy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),xu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,xu(i));break;default:xu(i)}e=e.sibling}}function oy(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(Zp(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}function W0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,i,a,l){return new W0(e,i,a,l)}function bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,i){var a=e.alternate;return a===null?(a=Nn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ly(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Lu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")bf(e)&&(v=1);else if(typeof e=="string")v=PA(e,a,We.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Rs(a.children,h,d,i);case y:v=8,h|=24;break;case E:return e=Nn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case K:return e=Nn(13,a,i,h),e.elementType=K,e.lanes=d,e;case P:return e=Nn(19,a,i,h),e.elementType=P,e.lanes=d,e;case G:return uy(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case C:v=10;break t;case N:v=9;break t;case Q:v=11;break t;case R:v=14;break t;case M:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Nn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Rs(e,i,a,l){return e=Nn(7,e,l,i),e.lanes=a,e}function uy(e,i,a,l){e=Nn(22,e,l,i),e.elementType=G,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=fr(d,2);v!==null&&(h._pendingVisibility|=2,en(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=fr(d,2);v!==null&&(h._pendingVisibility&=-3,en(v,d,2))}}};return e.stateNode=h,e}function Rf(e,i,a){return e=Nn(6,e,null,i),e.lanes=a,e}function wf(e,i,a){return i=Nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Li(e){e.flags|=4}function cy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yy(i)){if(i=Cn.current,i!==null&&((xt&4194176)===xt?ri!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==ri))throw Mo=Oh,Ig;e.flags|=8192}}function ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,Sa|=i)}function Xo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function $0(e,i,a){var l=i.pendingProps;switch(Ch(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(Se),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?Li(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(Uf(Ln),Ln=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(Li(i),a!==null?(Jt(i),cy(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Li(i),Jt(i),cy(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==l&&Li(i),Jt(i),i.flags&=-16777217),null;case 27:Hs(i),a=yn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=We.current,Co(i)?Rg(i):(e=By(h,l,a),i.stateNode=e,Li(i))}return Jt(i),null;case 5:if(Hs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=We.current,Co(i))Rg(i);else{switch(h=Xu(yn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ce]=i,e[ve]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=yn.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ce]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Uy(e.nodeValue,a)),e||gs(i)}else e=Xu(e).createTextNode(l),e[Ce]=i,i.stateNode=e}return Jt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ce]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else Ln!==null&&(Uf(Ln),Ln=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),ku(i,i.updateQueue),Jt(i),null;case 4:return pi(),e===null&&Ff(i.stateNode.containerInfo),Jt(i),null;case 10:return Vi(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Xo(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Tu(e),d!==null){for(i.flags|=128,Xo(h,!1),e=d.updateQueue,i.updateQueue=e,ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ly(a,e),a=a.sibling;return Ft(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>zu&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Tu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,ku(i,e),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return Jt(i),null}else 2*nn()-h.renderingStartTime>zu&&a!==536870912&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Ae.current,Ft(Ae,l?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Di(i),Mh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ne(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(Se),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Z0(e,i){switch(Ch(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Vi(Se),pi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Hs(i),null;case 13:if(Di(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return pi(),null;case 10:return Vi(i.type),null;case 22:case 23:return Di(i),Mh(),e!==null&&ne(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Vi(Se),null;case 25:return null;default:return null}}function hy(e,i){switch(Ch(i),i.tag){case 3:Vi(Se),pi();break;case 26:case 27:case 5:Hs(i);break;case 4:pi();break;case 13:Di(i);break;case 19:ne(Ae);break;case 10:Vi(i.type);break;case 22:case 23:Di(i),Mh(),e!==null&&ne(ys);break;case 24:Vi(Se)}}var J0={getCacheForType:function(e){var i=Ge(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},tA=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Ot=null,xt=0,Wt=0,mn=null,ki=!1,Aa=!1,If=!1,zi=0,se=0,Rr=0,ws=0,Cf=0,Mn=0,Sa=0,Wo=null,ai=null,Df=!1,Of=0,zu=1/0,Bu=null,wr=null,qu=!1,Is=null,$o=0,Nf=0,Mf=null,Zo=0,Vf=null;function gn(){if((te&2)!==0&&xt!==0)return xt&-xt;if(b.T!==null){var e=ma;return e!==0?e:qf()}return Kl()}function fy(){Mn===0&&(Mn=(xt&536870912)===0||Bt?uo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Mn}function en(e,i,a){(e===Xt&&Wt===2||e.cancelPendingCommit!==null)&&(ba(e,0),Bi(e,xt,Mn,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(ws|=a),se===4&&Bi(e,xt,Mn,!1)),oi(e))}function dy(e,i,a){if((te&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Ji(e,i),h=l?iA(e,i):Lf(e,i,!0),d=l;do{if(h===0){Aa&&!l&&Bi(e,i,0,!1);break}else if(h===6)Bi(e,i,0,!ki);else{if(a=e.current.alternate,d&&!eA(a)){h=Lf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=Wo;var w=T.current.memoizedState.isDehydrated;if(w&&(ba(T,v).flags|=256),v=Lf(T,v,!1),v!==2){if(If&&!w){T.errorRecoveryDisabledLanes|=d,ws|=d,h=4;break t}d=ai,ai=h,d!==null&&Uf(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){ba(e,0),Bi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Bi(l,i,Mn,!ki);break t}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Of+300-nn(),10<d)){if(Bi(l,i,Mn,!ki),_n(l,0)!==0)break t;l.timeoutHandle=Ly(my.bind(null,l,a,ai,Bu,Df,i,Mn,ws,Sa,ki,2,-0,0),d);break t}my(l,a,ai,Bu,Df,i,Mn,ws,Sa,ki,0,-0,0)}}break}while(!0);oi(e)}function Uf(e){ai===null?ai=e:ai.push.apply(ai,e)}function my(e,i,a,l,h,d,v,T,w,k,X,J,j){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:xA},ry(i),i=kA(),i!==null)){e.cancelPendingCommit=i(Ty.bind(null,e,a,l,h,v,T,w,1,J,j)),Bi(e,d,v,!k);return}Ty(e,a,l,h,v,T,w,X,J,j)}function eA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(e,i,a,l){i&=~Cf,i&=~ws,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&er(e,a,i)}function Hu(){return(te&6)===0?(Jo(0),!1):!0}function Pf(){if(Ot!==null){if(Wt===0)var e=Ot.return;else e=Ot,Mi=As=null,Bh(e),fa=null,Vo=0,e=Ot;for(;e!==null;)hy(e.alternate,e),e=e.return;Ot=null}}function ba(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,EA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pf(),Xt=e,Ot=a=br(e.current,null),xt=i,Wt=0,mn=null,ki=!1,Aa=Ji(e,i),If=!1,Sa=Mn=Cf=ws=Rr=se=0,ai=Wo=null,Df=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-$e(l),d=1<<h;i|=e[h],l&=~d}return zi=i,fu(),a}function gy(e,i){It=null,b.H=si,i===No?(i=Og(),Wt=3):i===Ig?(i=Og(),Wt=4):Wt=i===Cp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ot===null&&(se=1,Mu(e,Rn(i,e.current)))}function py(){var e=b.H;return b.H=si,e===null?si:e}function yy(){var e=b.A;return b.A=J0,e}function xf(){se=4,ki||(xt&4194176)!==xt&&Cn.current!==null||(Aa=!0),(Rr&134217727)===0&&(ws&134217727)===0||Xt===null||Bi(Xt,xt,Mn,!1)}function Lf(e,i,a){var l=te;te|=2;var h=py(),d=yy();(Xt!==e||xt!==i)&&(Bu=null,ba(e,i)),i=!1;var v=se;t:do try{if(Wt!==0&&Ot!==null){var T=Ot,w=mn;switch(Wt){case 8:Pf(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(i=!0);var k=Wt;if(Wt=0,mn=null,Ra(e,T,w,k),a&&Aa){v=0;break t}break;default:k=Wt,Wt=0,mn=null,Ra(e,T,w,k)}}nA(),v=se;break}catch(X){gy(e,X)}while(!0);return i&&e.shellSuspendCounter++,Mi=As=null,te=l,b.H=h,b.A=d,Ot===null&&(Xt=null,xt=0,fu()),v}function nA(){for(;Ot!==null;)_y(Ot)}function iA(e,i){var a=te;te|=2;var l=py(),h=yy();Xt!==e||xt!==i?(Bu=null,zu=nn()+500,ba(e,i)):Aa=Ji(e,i);t:do try{if(Wt!==0&&Ot!==null){i=Ot;var d=mn;e:switch(Wt){case 1:Wt=0,mn=null,Ra(e,i,d,1);break;case 2:if(Cg(d)){Wt=0,mn=null,vy(i);break}i=function(){Wt===2&&Xt===e&&(Wt=7),oi(e)},d.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Cg(d)?(Wt=0,mn=null,vy(i)):(Wt=0,mn=null,Ra(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var T=Ot;if(!v||Yy(v)){Wt=0,mn=null;var w=T.sibling;if(w!==null)Ot=w;else{var k=T.return;k!==null?(Ot=k,ju(k)):Ot=null}break e}}Wt=0,mn=null,Ra(e,i,d,5);break;case 6:Wt=0,mn=null,Ra(e,i,d,6);break;case 8:Pf(),se=6;break t;default:throw Error(s(462))}}rA();break}catch(X){gy(e,X)}while(!0);return Mi=As=null,b.H=l,b.A=h,te=a,Ot!==null?0:(Xt=null,xt=0,fu(),se)}function rA(){for(;Ot!==null&&!ch();)_y(Ot)}function _y(e){var i=Bp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,i===null?ju(e):Ot=i}function vy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Up(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Up(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Bh(i);default:hy(a,i),i=Ot=ly(i,zi),i=Bp(a,i,zi)}e.memoizedProps=e.pendingProps,i===null?ju(e):Ot=i}function Ra(e,i,a,l){Mi=As=null,Bh(i),fa=null,Vo=0;var h=i.return;try{if(Q0(e,h,i,a,xt)){se=1,Mu(e,Rn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;se=1,Mu(e,Rn(a,e.current)),Ot=null;return}i.flags&32768?(Bt||l===1?e=!0:Aa||(xt&536870912)!==0?e=!1:(ki=e=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ey(i,e)):ju(i)}function ju(e){var i=e;do{if((i.flags&32768)!==0){Ey(i,ki);return}e=i.return;var a=$0(i.alternate,i,zi);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);se===0&&(se=5)}function Ey(e,i){do{var a=Z0(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);se=6,Ot=null}function Ty(e,i,a,l,h,d,v,T,w,k){var X=b.T,J=at.p;try{at.p=2,b.T=null,sA(e,i,a,l,J,h,d,v,T,w,k)}finally{b.T=X,at.p=J}}function sA(e,i,a,l,h,d,v,T){do wa();while(Is!==null);if((te&6)!==0)throw Error(s(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var k=w.lanes|w.childLanes;if(k|=Rh,Fl(e,l,k,d,v,T),e===Xt&&(Ot=Xt=null,xt=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||qu||(qu=!0,Nf=k,Mf=a,uA(yi,function(){return wa(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=at.p,at.p=2,v=te,te|=4,Y0(e,w),ey(w,e),D0(Xf,e.containerInfo),ec=!!Yf,Xf=Yf=null,e.current=w,$p(e,w.alternate,w),so(),te=v,at.p=d,b.T=a):e.current=w,qu?(qu=!1,Is=e,$o=l):Ay(e,k),k=e.pendingLanes,k===0&&(wr=null),oo(w.stateNode),oi(e),i!==null)for(h=e.onRecoverableError,w=0;w<i.length;w++)k=i[w],h(k.value,{componentStack:k.stack});return($o&3)!==0&&wa(),k=e.pendingLanes,(l&4194218)!==0&&(k&42)!==0?e===Vf?Zo++:(Zo=0,Vf=e):Zo=0,Jo(0),null}function Ay(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Po(i)))}function wa(){if(Is!==null){var e=Is,i=Nf;Nf=0;var a=Ql($o),l=b.T,h=at.p;try{if(at.p=32>a?32:a,b.T=null,Is===null)var d=!1;else{a=Mf,Mf=null;var v=Is,T=$o;if(Is=null,$o=0,(te&6)!==0)throw Error(s(331));var w=te;if(te|=4,ay(v.current),iy(v,v.current,T,a),te=w,Jo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot($i,v)}catch{}d=!0}return d}finally{at.p=h,b.T=l,Ay(e,i)}}return!1}function Sy(e,i,a){i=Rn(a,i),i=tf(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(oe(e,2),oi(e))}function Yt(e,i,a){if(e.tag===3)Sy(e,e,a);else for(;i!==null;){if(i.tag===3){Sy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=Rn(a,e),a=wp(2),l=Er(i,a,2),l!==null&&(Ip(a,l,i,e),oe(l,2),oi(l));break}}i=i.return}}function kf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new tA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(If=!0,h.add(a),e=aA.bind(null,e,i,a),i.then(e,e))}function aA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(xt&a)===a&&(se===4||se===3&&(xt&62914560)===xt&&300>nn()-Of?(te&2)===0&&ba(e,0):Cf|=a,Sa===xt&&(Sa=0)),oi(e)}function by(e,i){i===0&&(i=tr()),e=fr(e,i),e!==null&&(oe(e,i),oi(e))}function oA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),by(e,a)}function lA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),by(e,a)}function uA(e,i){return $r(e,i)}var Gu=null,Ia=null,zf=!1,Fu=!1,Bf=!1,Cs=0;function oi(e){e!==Ia&&e.next===null&&(Ia===null?Gu=Ia=e:Ia=Ia.next=e),Fu=!0,zf||(zf=!0,hA(cA))}function Jo(e,i){if(!Bf&&Fu){Bf=!0;do for(var a=!1,l=Gu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Iy(l,d))}else d=xt,d=_n(l,l===Xt?d:0),(d&3)===0||Ji(l,d)||(a=!0,Iy(l,d));l=l.next}while(a);Bf=!1}}function cA(){Fu=zf=!1;var e=0;Cs!==0&&(vA()&&(e=Cs),Cs=0);for(var i=nn(),a=null,l=Gu;l!==null;){var h=l.next,d=Ry(l,i);d===0?(l.next=null,a===null?Gu=h:a.next=h,h===null&&(Ia=a)):(a=l,(e!==0||(d&3)!==0)&&(Fu=!0)),l=h}Jo(e)}function Ry(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Fs(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=Xt,a=xt,a=_n(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Wt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Gs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Gs(l),Ql(a)){case 2:case 8:a=Ie;break;case 32:a=yi;break;case 268435456:a=ao;break;default:a=yi}return l=wy.bind(null,e),a=$r(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Gs(l),e.callbackPriority=2,e.callbackNode=null,2}function wy(e,i){var a=e.callbackNode;if(wa()&&e.callbackNode!==a)return null;var l=xt;return l=_n(e,e===Xt?l:0),l===0?null:(dy(e,l,i),Ry(e,nn()),e.callbackNode!=null&&e.callbackNode===a?wy.bind(null,e):null)}function Iy(e,i){if(wa())return null;dy(e,i,!0)}function hA(e){TA(function(){(te&6)!==0?$r(_e,e):e()})}function qf(){return Cs===0&&(Cs=uo()),Cs}function Cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wn(""+e)}function Dy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function fA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Cy((h[ve]||null).action),v=l.submitter;v&&(i=(i=v[ve]||null)?Cy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Zs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var w=v?Dy(h,v):new FormData(h);Xh(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?Dy(h,v):new FormData(h),Xh(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Hf=0;Hf<Tg.length;Hf++){var jf=Tg[Hf],dA=jf.toLowerCase(),mA=jf[0].toUpperCase()+jf.slice(1);xn(dA,"on"+mA)}xn(pg,"onAnimationEnd"),xn(yg,"onAnimationIteration"),xn(_g,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(N0,"onTransitionRun"),xn(M0,"onTransitionStart"),xn(V0,"onTransitionCancel"),xn(vg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Oy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,k=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=k;try{d(h)}catch(X){Nu(X)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,k=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=k;try{d(h)}catch(X){Nu(X)}h.currentTarget=null,d=w}}}}function Vt(e,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var l=e+"__bubble";a.has(l)||(Ny(i,e,2,!1),a.add(l))}function Gf(e,i,a){var l=0;i&&(l|=4),Ny(a,e,l,i)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Qu]){e[Qu]=!0,ho.forEach(function(a){a!=="selectionchange"&&(gA.has(a)||Gf(a,!1,e),Gf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Qu]||(i[Qu]=!0,Gf("selectionchange",!1,i))}}function Ny(e,i,a,l){switch(t_(i)){case 2:var h=qA;break;case 8:h=HA;break;default:h=rd}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Qf(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Pn(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}$l(function(){var k=d,X=$s(a),J=[];t:{var j=Eg.get(e);if(j!==void 0){var Y=Zs,ct=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":Y=ra;break;case"focusin":ct="focus",Y=ea;break;case"focusout":ct="blur",Y=ea;break;case"beforeblur":case"afterblur":Y=ea;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=su;break;case pg:case yg:case _g:Y=na;break;case vg:Y=ou;break;case"scroll":case"scrollend":Y=Zl;break;case"wheel":Y=sa;break;case"copy":case"cut":case"paste":Y=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=bo;break;case"toggle":case"beforetoggle":Y=uu}var Tt=(i&4)!==0,ae=!Tt&&(e==="scroll"||e==="scrollend"),z=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var x=k,H;x!==null;){var W=x;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=rs(x,z),W!=null&&Tt.push(el(x,W,H))),ae)break;x=x.return}0<Tt.length&&(j=new Y(j,ct,null,a,X),J.push({event:j,listeners:Tt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",j&&a!==Tn&&(ct=a.relatedTarget||a.fromElement)&&(Pn(ct)||ct[_i]))break t;if((Y||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,Y?(ct=a.relatedTarget||a.toElement,Y=k,ct=ct?Pn(ct):null,ct!==null&&(ae=mt(ct),Tt=ct.tag,ct!==ae||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Y=null,ct=k),Y!==ct)){if(Tt=Sn,W="onMouseLeave",z="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=bo,W="onPointerLeave",z="onPointerEnter",x="pointer"),ae=Y==null?j:sr(Y),H=ct==null?j:sr(ct),j=new Tt(W,x+"leave",Y,a,X),j.target=ae,j.relatedTarget=H,W=null,Pn(X)===k&&(Tt=new Tt(z,x+"enter",ct,a,X),Tt.target=H,Tt.relatedTarget=ae,W=Tt),ae=W,Y&&ct)e:{for(Tt=Y,z=ct,x=0,H=Tt;H;H=Ca(H))x++;for(H=0,W=z;W;W=Ca(W))H++;for(;0<x-H;)Tt=Ca(Tt),x--;for(;0<H-x;)z=Ca(z),H--;for(;x--;){if(Tt===z||z!==null&&Tt===z.alternate)break e;Tt=Ca(Tt),z=Ca(z)}Tt=null}else Tt=null;Y!==null&&My(J,j,Y,Tt,!1),ct!==null&&ae!==null&&My(J,ae,ct,Tt,!0)}}t:{if(j=k?sr(k):window,Y=j.nodeName&&j.nodeName.toLowerCase(),Y==="select"||Y==="input"&&j.type==="file")var ut=sg;else if(Te(j))if(ag)ut=I0;else{ut=R0;var Dt=b0}else Y=j.nodeName,!Y||Y.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?k&&yo(k.elementType)&&(ut=sg):ut=w0;if(ut&&(ut=ut(e,k))){wi(J,ut,a,X);break t}Dt&&Dt(e,j,k),e==="focusout"&&k&&j.type==="number"&&k.memoizedProps.value!=null&&Ws(j,"number",j.value)}switch(Dt=k?sr(k):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(aa=Dt,Ah=k,Io=null);break;case"focusout":Io=Ah=aa=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,mg(J,a,X);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":mg(J,a,X)}var dt;if(ei)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ut?F(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Ut||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ut&&(dt=vo()):($n=X,hr="value"in $n?$n.value:$n.textContent,Ut=!0)),Dt=Ku(k,pt),0<Dt.length&&(pt=new Ao(pt,e,null,a,X),J.push({event:pt,listeners:Dt}),dt?pt.data=dt:(dt=et(a),dt!==null&&(pt.data=dt)))),(dt=g?Ee(e,a):Pt(e,a))&&(pt=Ku(k,"onBeforeInput"),0<pt.length&&(Dt=new Ao("onBeforeInput","beforeinput",null,a,X),J.push({event:Dt,listeners:pt}),Dt.data=dt)),fA(J,e,k,a,X)}Oy(J,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ku(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=rs(e,a),h!=null&&l.unshift(el(e,h,d)),h=rs(e,i),h!=null&&l.push(el(e,h,d))),e=e.return}return l}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,k=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||k===null||(w=k,h?(k=rs(a,d),k!=null&&v.unshift(el(a,k,w))):h||(k=rs(a,d),k!=null&&v.push(el(a,k,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var pA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(pA,`
`).replace(yA,"")}function Uy(e,i){return i=Vy(i),Vy(e)===i}function Yu(){}function Kt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,l);break;case"style":Wl(e,l,d);break;case"data":if(i!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Kt(e,i,"name",h.name,h,null),Kt(e,i,"formEncType",h.formEncType,h,null),Kt(e,i,"formMethod",h.formMethod,h,null),Kt(e,i,"formTarget",h.formTarget,h,null)):(Kt(e,i,"encType",h.encType,h,null),Kt(e,i,"method",h.method,h,null),Kt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Wn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yu);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Wn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),or(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gh.get(a)||a,or(e,a,l))}}function Kf(e,i,a,l,h,d){switch(a){case"style":Wl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):or(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,d,v,a,null)}}h&&Kt(e,i,"srcSet",a.srcSet,a,null),l&&Kt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,w=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":w=X;break;case"defaultChecked":k=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Kt(e,i,l,X,a,null)}}ns(e,d,T,w,k,v,h,!1),es(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?zt(e,!!l,i,!1):a!=null&&zt(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,i,v,T,a,null)}cr(e,l,h,d),es(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,i,w,l,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<tl.length;l++)Vt(tl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,k,l,a,null)}return;default:if(yo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Kf(e,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(e,i,T,l,a,null))}function _A(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,k=null,X=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(Y)||Kt(e,i,Y,null,l,J)}}for(var j in l){var Y=l[j];if(J=a[j],l.hasOwnProperty(j)&&(Y!=null||J!=null))switch(j){case"type":d=Y;break;case"name":h=Y;break;case"checked":k=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&Kt(e,i,j,Y,l,J)}}ur(e,v,T,w,k,X,d,h);return;case"select":Y=v=T=j=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":Y=w;default:l.hasOwnProperty(d)||Kt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Kt(e,i,h,d,l,w)}i=T,a=v,l=Y,j!=null?zt(e,!!a,j,!1):!!l!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":Y=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(e,i,v,h,l,d)}is(e,j,Y);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Kt(e,i,ct,null,l,j)}for(w in l)if(j=l[w],Y=a[w],l.hasOwnProperty(w)&&j!==Y&&(j!=null||Y!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(e,i,w,j,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Kt(e,i,Tt,null,l,j);for(k in l)if(j=l[k],Y=a[k],l.hasOwnProperty(k)&&j!==Y&&(j!=null||Y!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Kt(e,i,k,j,l,Y)}return;default:if(yo(i)){for(var ae in a)j=a[ae],a.hasOwnProperty(ae)&&j!==void 0&&!l.hasOwnProperty(ae)&&Kf(e,i,ae,void 0,l,j);for(X in l)j=l[X],Y=a[X],!l.hasOwnProperty(X)||j===Y||j===void 0&&Y===void 0||Kf(e,i,X,j,l,Y);return}}for(var z in a)j=a[z],a.hasOwnProperty(z)&&j!=null&&!l.hasOwnProperty(z)&&Kt(e,i,z,null,l,j);for(J in l)j=l[J],Y=a[J],!l.hasOwnProperty(J)||j===Y||j==null&&Y==null||Kt(e,i,J,j,l,Y)}var Yf=null,Xf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Wf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $f=null;function vA(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(AA)}:Ly;function AA(e){setTimeout(function(){throw e})}function Zf(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),ul(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);ul(i)}function Jf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jf(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function bA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function By(e,i,a){switch(i=Xu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Vn=new Map,qy=new Set;function Wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var qi=at.d;at.d={f:RA,r:wA,D:IA,C:CA,L:DA,m:OA,X:MA,S:NA,M:VA};function RA(){var e=qi.f(),i=Hu();return e||i}function wA(e){var i=vi(e);i!==null&&i.tag===5&&i.type==="form"?mp(i):qi.r(e)}var Da=typeof document>"u"?null:document;function Hy(e,i,a){var l=Da;if(l&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),qy.has(h)||(qy.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),Zt(i),l.head.appendChild(i)))}}function IA(e){qi.D(e),Hy("dns-prefetch",e,null)}function CA(e,i){qi.C(e,i),Hy("preconnect",e,i)}function DA(e,i,a){qi.L(e,i,a);var l=Da;if(l&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var d=h;switch(i){case"style":d=Oa(e);break;case"script":d=Na(e)}Vn.has(d)||(e=O({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(nl(d))||i==="script"&&l.querySelector(il(d))||(i=l.createElement("link"),ze(i,"link",e),Zt(i),l.head.appendChild(i)))}}function OA(e,i){qi.m(e,i);var a=Da;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(l)+'"][href="'+ie(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(e)}if(!Vn.has(d)&&(e=O({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}l=a.createElement("link"),ze(l,"link",e),Zt(l),a.head.appendChild(l)}}}function NA(e,i,a){qi.S(e,i,a);var l=Da;if(l&&e){var h=ar(l).hoistableStyles,d=Oa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(nl(d)))T.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&td(e,a);var w=v=l.createElement("link");Zt(w),ze(w,"link",e),w._p=new Promise(function(k,X){w.onload=k,w.onerror=X}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,$u(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function MA(e,i){qi.X(e,i);var a=Da;if(a&&e){var l=ar(a).hoistableScripts,h=Na(e),d=l.get(h);d||(d=a.querySelector(il(h)),d||(e=O({src:e,async:!0},i),(i=Vn.get(h))&&ed(e,i),d=a.createElement("script"),Zt(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function VA(e,i){qi.M(e,i);var a=Da;if(a&&e){var l=ar(a).hoistableScripts,h=Na(e),d=l.get(h);d||(d=a.querySelector(il(h)),d||(e=O({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&ed(e,i),d=a.createElement("script"),Zt(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jy(e,i,a,l){var h=(h=yn.current)?Wu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Oa(a.href),a=ar(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var d=ar(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||UA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=ar(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Oa(e){return'href="'+ie(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function Gy(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function UA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),Zt(i),e.head.appendChild(i))}function Na(e){return'[src="'+ie(e)+'"]'}function il(e){return"script[async]"+e}function Fy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(l)return i.instance=l,Zt(l),l;var h=O({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Zt(l),ze(l,"style",h),$u(l,a.precedence,e),i.instance=l;case"stylesheet":h=Oa(a.href);var d=e.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,Zt(d),d;l=Gy(a),(h=Vn.get(h))&&td(l,h),d=(e.ownerDocument||e).createElement("link"),Zt(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(d,"link",l),i.state.loading|=4,$u(d,a.precedence,e),i.instance=d;case"script":return d=Na(a.src),(h=e.querySelector(il(d)))?(i.instance=h,Zt(h),h):(l=a,(h=Vn.get(d))&&(l=O({},a),ed(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Zt(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$u(l,a.precedence,e));return i.instance}function $u(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Zu=null;function Qy(e,i,a){if(Zu===null){var l=new Map,h=Zu=new Map;h.set(a,l)}else h=Zu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[rr]||d[Ce]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Ky(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function PA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Yy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rl=null;function xA(){}function LA(e,i,a){if(rl===null)throw Error(s(475));var l=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Oa(a.href),d=e.querySelector(nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ju.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Zt(d);return}d=e.ownerDocument||e,a=Gy(a),(h=Vn.get(h))&&td(a,h),d=d.createElement("link"),Zt(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ju.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function kA(){if(rl===null)throw Error(s(475));var e=rl;return e.stylesheets&&e.count===0&&nd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&nd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function nd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,i.forEach(zA,e),tc=null,Ju.call(e))}function zA(e,i){if(!(i.state.loading&4)){var a=tc.get(e);if(a)var l=a.get(null);else{a=new Map,tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:C,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function BA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Xy(e,i,a,l,h,d,v,T,w,k,X,J){return e=new BA(e,i,a,v,T,w,k,J),i=1,d===!0&&(i|=24),d=Nn(3,null,null,i),e.current=d,d.stateNode=e,i=Vh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},mf(d),e}function Wy(e){return e?(e=ua,e):ua}function $y(e,i,a,l,h,d){h=Wy(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(e,l,i),a!==null&&(en(a,e,i),Ho(a,e,i))}function Zy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function id(e,i){Zy(e,i),(e=e.alternate)&&Zy(e,i)}function Jy(e){if(e.tag===13){var i=fr(e,67108864);i!==null&&en(i,e,67108864),id(e,67108864)}}var ec=!0;function qA(e,i,a,l){var h=b.T;b.T=null;var d=at.p;try{at.p=2,rd(e,i,a,l)}finally{at.p=d,b.T=h}}function HA(e,i,a,l){var h=b.T;b.T=null;var d=at.p;try{at.p=8,rd(e,i,a,l)}finally{at.p=d,b.T=h}}function rd(e,i,a,l){if(ec){var h=sd(l);if(h===null)Qf(e,i,l,nc,a),e_(e,l);else if(GA(h,e,i,a,l))l.stopPropagation();else if(e_(e,l),i&4&&-1<jA.indexOf(e)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-$e(v);T.entanglements[1]|=w,v&=~w}oi(d),(te&6)===0&&(zu=nn()+500,Jo(0))}}break;case 13:T=fr(d,2),T!==null&&en(T,d,2),Hu(),id(d,2)}if(d=sd(l),d===null&&Qf(e,i,l,nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qf(e,i,l,null,a)}}function sd(e){return e=$s(e),ad(e)}var nc=null;function ad(e){if(nc=null,e=Pn(e),e!==null){var i=mt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return nc=e,null}function t_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ql()){case _e:return 2;case Ie:return 8;case yi:case Hl:return 32;case ao:return 268435456;default:return 32}default:return 32}}var od=!1,Ir=null,Cr=null,Dr=null,al=new Map,ol=new Map,Or=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&Jy(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function GA(e,i,a,l,h){switch(i){case"focusin":return Ir=ll(Ir,e,i,a,l,h),!0;case"dragenter":return Cr=ll(Cr,e,i,a,l,h),!0;case"mouseover":return Dr=ll(Dr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return al.set(d,ll(al.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,e,i,a,l,h)),!0}return!1}function n_(e){var i=Pn(e.target);if(i!==null){var a=mt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,ir(e.priority,function(){if(a.tag===13){var l=gn(),h=fr(a,l);h!==null&&en(h,a,l),id(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Tn=l,a.target.dispatchEvent(l),Tn=null}else return i=vi(a),i!==null&&Jy(i),e.blockedOn=a,!1;i.shift()}return!0}function i_(e,i,a){ic(e)&&a.delete(i)}function FA(){od=!1,Ir!==null&&ic(Ir)&&(Ir=null),Cr!==null&&ic(Cr)&&(Cr=null),Dr!==null&&ic(Dr)&&(Dr=null),al.forEach(i_),ol.forEach(i_)}function rc(e,i){e.blockedOn===i&&(e.blockedOn=null,od||(od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FA)))}var sc=null;function r_(e){sc!==e&&(sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===e&&(sc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(ad(l||a)===null)continue;break}var d=vi(a);d!==null&&(e.splice(i,3),i-=3,Xh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ul(e){function i(w){return rc(w,e)}Ir!==null&&rc(Ir,e),Cr!==null&&rc(Cr,e),Dr!==null&&rc(Dr,e),al.forEach(i),ol.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)n_(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ve]||null;if(typeof d=="function")v||r_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)T=v.formAction;else if(ad(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),r_(a)}}}function ld(e){this._internalRoot=e}ac.prototype.render=ld.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();$y(a,l,e,i,null,null)},ac.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&wa(),$y(e.current,2,null,e,null,null),Hu(),i[_i]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var i=Kl();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&n_(e)}};var s_=t.version;if(s_!=="19.0.0")throw Error(s(527,s_,"19.0.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tt(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var QA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{$i=oc.inject(QA),je=oc}catch{}}return hl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ap,d=Sp,v=bp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Xy(e,1,!1,null,null,a,l,h,d,v,T,null),e[_i]=i.current,Ff(e.nodeType===8?e.parentNode:e),new ld(i)},hl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ap,v=Sp,T=bp,w=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=Xy(e,1,!0,i,a??null,l,h,d,v,T,w,k),i.context=Wy(null),a=i.current,l=gn(),h=vr(l),h.callback=null,Er(a,h,l),i.current.lanes=l,oe(i,l),oi(i),e[_i]=i.current,Ff(e),new ac(i)},hl.version="19.0.0",hl}var g_;function iS(){if(g_)return hd.exports;g_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=nS(),hd.exports}var rS=iS(),gd={exports:{}},pd={exports:{}},mc={exports:{}},sS=mc.exports,p_;function Zv(){return p_||(p_=1,function(r){(function(t,n){r.exports?r.exports=n():t.EvEmitter=n()})(typeof window<"u"?window:sS,function(){function t(){}var n=t.prototype;return n.on=function(s,o){if(!(!s||!o)){var u=this._events=this._events||{},f=u[s]=u[s]||[];return f.indexOf(o)==-1&&f.push(o),this}},n.once=function(s,o){if(!(!s||!o)){this.on(s,o);var u=this._onceEvents=this._onceEvents||{},f=u[s]=u[s]||{};return f[o]=!0,this}},n.off=function(s,o){var u=this._events&&this._events[s];if(!(!u||!u.length)){var f=u.indexOf(o);return f!=-1&&u.splice(f,1),this}},n.emitEvent=function(s,o){var u=this._events&&this._events[s];if(!(!u||!u.length)){u=u.slice(0),o=o||[];for(var f=this._onceEvents&&this._onceEvents[s],m=0;m<u.length;m++){var p=u[m],y=f&&f[p];y&&(this.off(s,p),delete f[p]),p.apply(this,o)}return this}},n.allOff=function(){delete this._events,delete this._onceEvents},t})}(mc)),mc.exports}var yd={exports:{}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var y_;function am(){return y_||(y_=1,function(r){(function(t,n){r.exports?r.exports=n():t.getSize=n()})(window,function(){function n(C){var Q=parseFloat(C),K=C.indexOf("%")==-1&&!isNaN(Q);return K&&Q}function s(){}var o=typeof console>"u"?s:function(C){console.error(C)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],f=u.length;function m(){for(var C={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},Q=0;Q<f;Q++){var K=u[Q];C[K]=0}return C}function p(C){var Q=getComputedStyle(C);return Q||o("Style returned "+Q+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),Q}var y=!1,E;function S(){if(!y){y=!0;var C=document.createElement("div");C.style.width="200px",C.style.padding="1px 2px 3px 4px",C.style.borderStyle="solid",C.style.borderWidth="1px 2px 3px 4px",C.style.boxSizing="border-box";var Q=document.body||document.documentElement;Q.appendChild(C);var K=p(C);E=Math.round(n(K.width))==200,N.isBoxSizeOuter=E,Q.removeChild(C)}}function N(C){if(S(),typeof C=="string"&&(C=document.querySelector(C)),!(!C||typeof C!="object"||!C.nodeType)){var Q=p(C);if(Q.display=="none")return m();var K={};K.width=C.offsetWidth,K.height=C.offsetHeight;for(var P=K.isBorderBox=Q.boxSizing=="border-box",R=0;R<f;R++){var M=u[R],G=Q[M],it=parseFloat(G);K[M]=isNaN(it)?0:it}var nt=K.paddingLeft+K.paddingRight,ft=K.paddingTop+K.paddingBottom,V=K.marginLeft+K.marginRight,I=K.marginTop+K.marginBottom,b=K.borderLeftWidth+K.borderRightWidth,O=K.borderTopWidth+K.borderBottomWidth,L=P&&E,B=n(Q.width);B!==!1&&(K.width=B+(L?0:nt+b));var D=n(Q.height);return D!==!1&&(K.height=D+(L?0:ft+O)),K.innerWidth=K.width-(nt+b),K.innerHeight=K.height-(ft+O),K.outerWidth=K.width+V,K.outerHeight=K.height+I,K}}return N})}(yd)),yd.exports}var _d={exports:{}},vd={exports:{}},__;function aS(){return __||(__=1,function(r){(function(t,n){r.exports?r.exports=n():t.matchesSelector=n()})(window,function(){var n=function(){var s=window.Element.prototype;if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var o=["webkit","moz","ms","o"],u=0;u<o.length;u++){var f=o[u],m=f+"MatchesSelector";if(s[m])return m}}();return function(o,u){return o[n](u)}})}(vd)),vd.exports}var v_;function oS(){return v_||(v_=1,function(r){(function(t,n){r.exports?r.exports=n(t,aS()):t.fizzyUIUtils=n(t,t.matchesSelector)})(window,function(n,s){var o={};o.extend=function(m,p){for(var y in p)m[y]=p[y];return m},o.modulo=function(m,p){return(m%p+p)%p};var u=Array.prototype.slice;o.makeArray=function(m){if(Array.isArray(m))return m;if(m==null)return[];var p=typeof m=="object"&&typeof m.length=="number";return p?u.call(m):[m]},o.removeFrom=function(m,p){var y=m.indexOf(p);y!=-1&&m.splice(y,1)},o.getParent=function(m,p){for(;m.parentNode&&m!=document.body;)if(m=m.parentNode,s(m,p))return m},o.getQueryElement=function(m){return typeof m=="string"?document.querySelector(m):m},o.handleEvent=function(m){var p="on"+m.type;this[p]&&this[p](m)},o.filterFindElements=function(m,p){m=o.makeArray(m);var y=[];return m.forEach(function(E){if(E instanceof HTMLElement){if(!p){y.push(E);return}s(E,p)&&y.push(E);for(var S=E.querySelectorAll(p),N=0;N<S.length;N++)y.push(S[N])}}),y},o.debounceMethod=function(m,p,y){y=y||100;var E=m.prototype[p],S=p+"Timeout";m.prototype[p]=function(){var N=this[S];clearTimeout(N);var C=arguments,Q=this;this[S]=setTimeout(function(){E.apply(Q,C),delete Q[S]},y)}},o.docReady=function(m){var p=document.readyState;p=="complete"||p=="interactive"?setTimeout(m):document.addEventListener("DOMContentLoaded",m)},o.toDashed=function(m){return m.replace(/(.)([A-Z])/g,function(p,y,E){return y+"-"+E}).toLowerCase()};var f=n.console;return o.htmlInit=function(m,p){o.docReady(function(){var y=o.toDashed(p),E="data-"+y,S=document.querySelectorAll("["+E+"]"),N=document.querySelectorAll(".js-"+y),C=o.makeArray(S).concat(o.makeArray(N)),Q=E+"-options",K=n.jQuery;C.forEach(function(P){var R=P.getAttribute(E)||P.getAttribute(Q),M;try{M=R&&JSON.parse(R)}catch(it){f&&f.error("Error parsing "+E+" on "+P.className+": "+it);return}var G=new m(P,M);K&&K.data(P,p,G)})})},o})}(_d)),_d.exports}var Ed={exports:{}},E_;function lS(){return E_||(E_=1,function(r){(function(t,n){r.exports?r.exports=n(Zv(),am()):(t.Outlayer={},t.Outlayer.Item=n(t.EvEmitter,t.getSize))})(window,function(n,s){function o(P){for(var R in P)return!1;return R=null,!0}var u=document.documentElement.style,f=typeof u.transition=="string"?"transition":"WebkitTransition",m=typeof u.transform=="string"?"transform":"WebkitTransform",p={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[f],y={transform:m,transition:f,transitionDuration:f+"Duration",transitionProperty:f+"Property",transitionDelay:f+"Delay"};function E(P,R){P&&(this.element=P,this.layout=R,this.position={x:0,y:0},this._create())}var S=E.prototype=Object.create(n.prototype);S.constructor=E,S._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},S.handleEvent=function(P){var R="on"+P.type;this[R]&&this[R](P)},S.getSize=function(){this.size=s(this.element)},S.css=function(P){var R=this.element.style;for(var M in P){var G=y[M]||M;R[G]=P[M]}},S.getPosition=function(){var P=getComputedStyle(this.element),R=this.layout._getOption("originLeft"),M=this.layout._getOption("originTop"),G=P[R?"left":"right"],it=P[M?"top":"bottom"],nt=parseFloat(G),ft=parseFloat(it),V=this.layout.size;G.indexOf("%")!=-1&&(nt=nt/100*V.width),it.indexOf("%")!=-1&&(ft=ft/100*V.height),nt=isNaN(nt)?0:nt,ft=isNaN(ft)?0:ft,nt-=R?V.paddingLeft:V.paddingRight,ft-=M?V.paddingTop:V.paddingBottom,this.position.x=nt,this.position.y=ft},S.layoutPosition=function(){var P=this.layout.size,R={},M=this.layout._getOption("originLeft"),G=this.layout._getOption("originTop"),it=M?"paddingLeft":"paddingRight",nt=M?"left":"right",ft=M?"right":"left",V=this.position.x+P[it];R[nt]=this.getXValue(V),R[ft]="";var I=G?"paddingTop":"paddingBottom",b=G?"top":"bottom",O=G?"bottom":"top",L=this.position.y+P[I];R[b]=this.getYValue(L),R[O]="",this.css(R),this.emitEvent("layout",[this])},S.getXValue=function(P){var R=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!R?P/this.layout.size.width*100+"%":P+"px"},S.getYValue=function(P){var R=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&R?P/this.layout.size.height*100+"%":P+"px"},S._transitionTo=function(P,R){this.getPosition();var M=this.position.x,G=this.position.y,it=P==this.position.x&&R==this.position.y;if(this.setPosition(P,R),it&&!this.isTransitioning){this.layoutPosition();return}var nt=P-M,ft=R-G,V={};V.transform=this.getTranslate(nt,ft),this.transition({to:V,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},S.getTranslate=function(P,R){var M=this.layout._getOption("originLeft"),G=this.layout._getOption("originTop");return P=M?P:-P,R=G?R:-R,"translate3d("+P+"px, "+R+"px, 0)"},S.goTo=function(P,R){this.setPosition(P,R),this.layoutPosition()},S.moveTo=S._transitionTo,S.setPosition=function(P,R){this.position.x=parseFloat(P),this.position.y=parseFloat(R)},S._nonTransition=function(P){this.css(P.to),P.isCleaning&&this._removeStyles(P.to);for(var R in P.onTransitionEnd)P.onTransitionEnd[R].call(this)},S.transition=function(P){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(P);return}var R=this._transn;for(var M in P.onTransitionEnd)R.onEnd[M]=P.onTransitionEnd[M];for(M in P.to)R.ingProperties[M]=!0,P.isCleaning&&(R.clean[M]=!0);P.from&&(this.css(P.from),this.element.offsetHeight),this.enableTransition(P.to),this.css(P.to),this.isTransitioning=!0};function N(P){return P.replace(/([A-Z])/g,function(R){return"-"+R.toLowerCase()})}var C="opacity,"+N(m);S.enableTransition=function(){if(!this.isTransitioning){var P=this.layout.options.transitionDuration;P=typeof P=="number"?P+"ms":P,this.css({transitionProperty:C,transitionDuration:P,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(p,this,!1)}},S.onwebkitTransitionEnd=function(P){this.ontransitionend(P)},S.onotransitionend=function(P){this.ontransitionend(P)};var Q={"-webkit-transform":"transform"};S.ontransitionend=function(P){if(P.target===this.element){var R=this._transn,M=Q[P.propertyName]||P.propertyName;if(delete R.ingProperties[M],o(R.ingProperties)&&this.disableTransition(),M in R.clean&&(this.element.style[P.propertyName]="",delete R.clean[M]),M in R.onEnd){var G=R.onEnd[M];G.call(this),delete R.onEnd[M]}this.emitEvent("transitionEnd",[this])}},S.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},S._removeStyles=function(P){var R={};for(var M in P)R[M]="";this.css(R)};var K={transitionProperty:"",transitionDuration:"",transitionDelay:""};return S.removeTransitionStyles=function(){this.css(K)},S.stagger=function(P){P=isNaN(P)?0:P,this.staggerDelay=P+"ms"},S.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},S.remove=function(){if(!f||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},S.reveal=function(){delete this.isHidden,this.css({display:""});var P=this.layout.options,R={},M=this.getHideRevealTransitionEndProperty("visibleStyle");R[M]=this.onRevealTransitionEnd,this.transition({from:P.hiddenStyle,to:P.visibleStyle,isCleaning:!0,onTransitionEnd:R})},S.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},S.getHideRevealTransitionEndProperty=function(P){var R=this.layout.options[P];if(R.opacity)return"opacity";for(var M in R)return M},S.hide=function(){this.isHidden=!0,this.css({display:""});var P=this.layout.options,R={},M=this.getHideRevealTransitionEndProperty("hiddenStyle");R[M]=this.onHideTransitionEnd,this.transition({from:P.visibleStyle,to:P.hiddenStyle,isCleaning:!0,onTransitionEnd:R})},S.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},S.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},E})}(Ed)),Ed.exports}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var T_;function uS(){return T_||(T_=1,function(r){(function(t,n){r.exports?r.exports=n(t,Zv(),am(),oS(),lS()):t.Outlayer=n(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)})(window,function(n,s,o,u,f){var m=n.console,p=n.jQuery,y=function(){},E=0,S={};function N(R,M){var G=u.getQueryElement(R);if(!G){m&&m.error("Bad element for "+this.constructor.namespace+": "+(G||R));return}this.element=G,p&&(this.$element=p(this.element)),this.options=u.extend({},this.constructor.defaults),this.option(M);var it=++E;this.element.outlayerGUID=it,S[it]=this,this._create();var nt=this._getOption("initLayout");nt&&this.layout()}N.namespace="outlayer",N.Item=f,N.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var C=N.prototype;u.extend(C,s.prototype),C.option=function(R){u.extend(this.options,R)},C._getOption=function(R){var M=this.constructor.compatOptions[R];return M&&this.options[M]!==void 0?this.options[M]:this.options[R]},N.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},C._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),u.extend(this.element.style,this.options.containerStyle);var R=this._getOption("resize");R&&this.bindResize()},C.reloadItems=function(){this.items=this._itemize(this.element.children)},C._itemize=function(R){for(var M=this._filterFindItemElements(R),G=this.constructor.Item,it=[],nt=0;nt<M.length;nt++){var ft=M[nt],V=new G(ft,this);it.push(V)}return it},C._filterFindItemElements=function(R){return u.filterFindElements(R,this.options.itemSelector)},C.getItemElements=function(){return this.items.map(function(R){return R.element})},C.layout=function(){this._resetLayout(),this._manageStamps();var R=this._getOption("layoutInstant"),M=R!==void 0?R:!this._isLayoutInited;this.layoutItems(this.items,M),this._isLayoutInited=!0},C._init=C.layout,C._resetLayout=function(){this.getSize()},C.getSize=function(){this.size=o(this.element)},C._getMeasurement=function(R,M){var G=this.options[R],it;G?(typeof G=="string"?it=this.element.querySelector(G):G instanceof HTMLElement&&(it=G),this[R]=it?o(it)[M]:G):this[R]=0},C.layoutItems=function(R,M){R=this._getItemsForLayout(R),this._layoutItems(R,M),this._postLayout()},C._getItemsForLayout=function(R){return R.filter(function(M){return!M.isIgnored})},C._layoutItems=function(R,M){if(this._emitCompleteOnItems("layout",R),!(!R||!R.length)){var G=[];R.forEach(function(it){var nt=this._getItemLayoutPosition(it);nt.item=it,nt.isInstant=M||it.isLayoutInstant,G.push(nt)},this),this._processLayoutQueue(G)}},C._getItemLayoutPosition=function(){return{x:0,y:0}},C._processLayoutQueue=function(R){this.updateStagger(),R.forEach(function(M,G){this._positionItem(M.item,M.x,M.y,M.isInstant,G)},this)},C.updateStagger=function(){var R=this.options.stagger;if(R==null){this.stagger=0;return}return this.stagger=P(R),this.stagger},C._positionItem=function(R,M,G,it,nt){it?R.goTo(M,G):(R.stagger(nt*this.stagger),R.moveTo(M,G))},C._postLayout=function(){this.resizeContainer()},C.resizeContainer=function(){var R=this._getOption("resizeContainer");if(R){var M=this._getContainerSize();M&&(this._setContainerMeasure(M.width,!0),this._setContainerMeasure(M.height,!1))}},C._getContainerSize=y,C._setContainerMeasure=function(R,M){if(R!==void 0){var G=this.size;G.isBorderBox&&(R+=M?G.paddingLeft+G.paddingRight+G.borderLeftWidth+G.borderRightWidth:G.paddingBottom+G.paddingTop+G.borderTopWidth+G.borderBottomWidth),R=Math.max(R,0),this.element.style[M?"width":"height"]=R+"px"}},C._emitCompleteOnItems=function(R,M){var G=this;function it(){G.dispatchEvent(R+"Complete",null,[M])}var nt=M.length;if(!M||!nt){it();return}var ft=0;function V(){ft++,ft==nt&&it()}M.forEach(function(I){I.once(R,V)})},C.dispatchEvent=function(R,M,G){var it=M?[M].concat(G):G;if(this.emitEvent(R,it),p)if(this.$element=this.$element||p(this.element),M){var nt=p.Event(M);nt.type=R,this.$element.trigger(nt,G)}else this.$element.trigger(R,G)},C.ignore=function(R){var M=this.getItem(R);M&&(M.isIgnored=!0)},C.unignore=function(R){var M=this.getItem(R);M&&delete M.isIgnored},C.stamp=function(R){R=this._find(R),R&&(this.stamps=this.stamps.concat(R),R.forEach(this.ignore,this))},C.unstamp=function(R){R=this._find(R),R&&R.forEach(function(M){u.removeFrom(this.stamps,M),this.unignore(M)},this)},C._find=function(R){if(R)return typeof R=="string"&&(R=this.element.querySelectorAll(R)),R=u.makeArray(R),R},C._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},C._getBoundingRect=function(){var R=this.element.getBoundingClientRect(),M=this.size;this._boundingRect={left:R.left+M.paddingLeft+M.borderLeftWidth,top:R.top+M.paddingTop+M.borderTopWidth,right:R.right-(M.paddingRight+M.borderRightWidth),bottom:R.bottom-(M.paddingBottom+M.borderBottomWidth)}},C._manageStamp=y,C._getElementOffset=function(R){var M=R.getBoundingClientRect(),G=this._boundingRect,it=o(R),nt={left:M.left-G.left-it.marginLeft,top:M.top-G.top-it.marginTop,right:G.right-M.right-it.marginRight,bottom:G.bottom-M.bottom-it.marginBottom};return nt},C.handleEvent=u.handleEvent,C.bindResize=function(){n.addEventListener("resize",this),this.isResizeBound=!0},C.unbindResize=function(){n.removeEventListener("resize",this),this.isResizeBound=!1},C.onresize=function(){this.resize()},u.debounceMethod(N,"onresize",100),C.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},C.needsResizeLayout=function(){var R=o(this.element),M=this.size&&R;return M&&R.innerWidth!==this.size.innerWidth},C.addItems=function(R){var M=this._itemize(R);return M.length&&(this.items=this.items.concat(M)),M},C.appended=function(R){var M=this.addItems(R);M.length&&(this.layoutItems(M,!0),this.reveal(M))},C.prepended=function(R){var M=this._itemize(R);if(M.length){var G=this.items.slice(0);this.items=M.concat(G),this._resetLayout(),this._manageStamps(),this.layoutItems(M,!0),this.reveal(M),this.layoutItems(G)}},C.reveal=function(R){if(this._emitCompleteOnItems("reveal",R),!(!R||!R.length)){var M=this.updateStagger();R.forEach(function(G,it){G.stagger(it*M),G.reveal()})}},C.hide=function(R){if(this._emitCompleteOnItems("hide",R),!(!R||!R.length)){var M=this.updateStagger();R.forEach(function(G,it){G.stagger(it*M),G.hide()})}},C.revealItemElements=function(R){var M=this.getItems(R);this.reveal(M)},C.hideItemElements=function(R){var M=this.getItems(R);this.hide(M)},C.getItem=function(R){for(var M=0;M<this.items.length;M++){var G=this.items[M];if(G.element==R)return G}},C.getItems=function(R){R=u.makeArray(R);var M=[];return R.forEach(function(G){var it=this.getItem(G);it&&M.push(it)},this),M},C.remove=function(R){var M=this.getItems(R);this._emitCompleteOnItems("remove",M),!(!M||!M.length)&&M.forEach(function(G){G.remove(),u.removeFrom(this.items,G)},this)},C.destroy=function(){var R=this.element.style;R.height="",R.position="",R.width="",this.items.forEach(function(G){G.destroy()}),this.unbindResize();var M=this.element.outlayerGUID;delete S[M],delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},N.data=function(R){R=u.getQueryElement(R);var M=R&&R.outlayerGUID;return M&&S[M]},N.create=function(R,M){var G=Q(N);return G.defaults=u.extend({},N.defaults),u.extend(G.defaults,M),G.compatOptions=u.extend({},N.compatOptions),G.namespace=R,G.data=N.data,G.Item=Q(f),u.htmlInit(G,R),p&&p.bridget&&p.bridget(R,G),G};function Q(R){function M(){R.apply(this,arguments)}return M.prototype=Object.create(R.prototype),M.prototype.constructor=M,M}var K={ms:1,s:1e3};function P(R){if(typeof R=="number")return R;var M=R.match(/(^\d*\.?\d*)(\w*)/),G=M&&M[1],it=M&&M[2];if(!G.length)return 0;G=parseFloat(G);var nt=K[it]||1;return G*nt}return N.Item=f,N})}(pd)),pd.exports}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */var A_;function cS(){return A_||(A_=1,function(r){(function(t,n){r.exports?r.exports=n(uS(),am()):t.Masonry=n(t.Outlayer,t.getSize)})(window,function(n,s){var o=n.create("masonry");o.compatOptions.fitWidth="isFitWidth";var u=o.prototype;return u._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var f=0;f<this.cols;f++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},u.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var f=this.items[0],m=f&&f.element;this.columnWidth=m&&s(m).outerWidth||this.containerWidth}var p=this.columnWidth+=this.gutter,y=this.containerWidth+this.gutter,E=y/p,S=p-y%p,N=S&&S<1?"round":"floor";E=Math[N](E),this.cols=Math.max(E,1)},u.getContainerWidth=function(){var f=this._getOption("fitWidth"),m=f?this.element.parentNode:this.element,p=s(m);this.containerWidth=p&&p.innerWidth},u._getItemLayoutPosition=function(f){f.getSize();var m=f.size.outerWidth%this.columnWidth,p=m&&m<1?"round":"ceil",y=Math[p](f.size.outerWidth/this.columnWidth);y=Math.min(y,this.cols);for(var E=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",S=this[E](y,f),N={x:this.columnWidth*S.col,y:S.y},C=S.y+f.size.outerHeight,Q=y+S.col,K=S.col;K<Q;K++)this.colYs[K]=C;return N},u._getTopColPosition=function(f){var m=this._getTopColGroup(f),p=Math.min.apply(Math,m);return{col:m.indexOf(p),y:p}},u._getTopColGroup=function(f){if(f<2)return this.colYs;for(var m=[],p=this.cols+1-f,y=0;y<p;y++)m[y]=this._getColGroupY(y,f);return m},u._getColGroupY=function(f,m){if(m<2)return this.colYs[f];var p=this.colYs.slice(f,f+m);return Math.max.apply(Math,p)},u._getHorizontalColPosition=function(f,m){var p=this.horizontalColIndex%this.cols,y=f>1&&p+f>this.cols;p=y?0:p;var E=m.size.outerWidth&&m.size.outerHeight;return this.horizontalColIndex=E?p+f:this.horizontalColIndex,{col:p,y:this._getColGroupY(p,f)}},u._manageStamp=function(f){var m=s(f),p=this._getElementOffset(f),y=this._getOption("originLeft"),E=y?p.left:p.right,S=E+m.outerWidth,N=Math.floor(E/this.columnWidth);N=Math.max(0,N);var C=Math.floor(S/this.columnWidth);C-=S%this.columnWidth?0:1,C=Math.min(this.cols-1,C);for(var Q=this._getOption("originTop"),K=(Q?p.top:p.bottom)+m.outerHeight,P=N;P<=C;P++)this.colYs[P]=Math.max(K,this.colYs[P])},u._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var f={height:this.maxY};return this._getOption("fitWidth")&&(f.width=this._getContainerFitWidth()),f},u._getContainerFitWidth=function(){for(var f=0,m=this.cols;--m&&this.colYs[m]===0;)f++;return(this.cols-f)*this.columnWidth-this.gutter},u.needsResizeLayout=function(){var f=this.containerWidth;return this.getContainerWidth(),f!=this.containerWidth},o})}(gd)),gd.exports}var hS=cS();const fS=$v(hS),dS=()=>{};var S_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},mS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},tE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let N=(m&15)<<2|y>>6,C=y&63;p||(C=64,f||(N=64)),s.push(n[E],n[S],n[N],n[C])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Jv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new gS;const N=u<<2|m>>4;if(s.push(N),y!==64){const C=m<<4&240|y>>2;if(s.push(C),S!==64){const Q=y<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pS=function(r){const t=Jv(r);return tE.encodeByteArray(t,!0)},Rc=function(r){return pS(r).replace(/\./g,"")},eE=function(r){try{return tE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=()=>yS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof S_>"u")return;const r=S_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ES=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&eE(r[1]);return t&&JSON.parse(t)},Gc=()=>{try{return dS()||_S()||vS()||ES()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nE=r=>{var t,n;return(n=(t=Gc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},TS=r=>{const t=nE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},iE=()=>{var r;return(r=Gc())===null||r===void 0?void 0:r.config},rE=r=>{var t;return(t=Gc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function RS(){var r;const t=(r=Gc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const r=Xe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=VS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?US(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,m,s)}}function US(r,t){return r.replace(PS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const PS=/\{\$([^}]+)}/g;function xS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Us(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(b_(u)&&b_(f)){if(!Us(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function b_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function LS(r,t){const n=new kS(r,t);return n.subscribe.bind(n)}class kS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new AS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HS(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qS(r){return r===Ds?void 0:r}function HS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new BS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const GS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},FS=Nt.INFO,QS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},KS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=QS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=FS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const YS=(r,t)=>t.some(n=>r instanceof n);let R_,w_;function XS(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,Md=new WeakMap,aE=new WeakMap,Ad=new WeakMap,lm=new WeakMap;function $S(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&sE.set(n,r)}).catch(()=>{}),lm.set(t,r),t}function ZS(r){if(Md.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Md.set(r,t)}let Vd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Md.get(r);if(t==="objectStoreNames")return r.objectStoreNames||aE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function JS(r){Vd=r(Vd)}function tb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Sd(this),t,...n);return aE.set(s,t.sort?t.sort():[t]),Lr(s)}:WS().includes(r)?function(...t){return r.apply(Sd(this),t),Lr(sE.get(this))}:function(...t){return Lr(r.apply(Sd(this),t))}}function eb(r){return typeof r=="function"?tb(r):(r instanceof IDBTransaction&&ZS(r),YS(r,XS())?new Proxy(r,Vd):r)}function Lr(r){if(r instanceof IDBRequest)return $S(r);if(Ad.has(r))return Ad.get(r);const t=eb(r);return t!==r&&(Ad.set(r,t),lm.set(t,r)),t}const Sd=r=>lm.get(r);function nb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Lr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ib=["get","getKey","getAll","getAllKeys","count"],rb=["put","add","delete","clear"],bd=new Map;function I_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(bd.get(t))return bd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=rb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ib.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return bd.set(t,u),u}JS(r=>({...r,get:(t,n,s)=>I_(t,n)||r.get(t,n,s),has:(t,n)=>!!I_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ab(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ab(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ud="@firebase/app",C_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new om("@firebase/app"),ob="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",db="@firebase/auth-compat",mb="@firebase/database",gb="@firebase/data-connect",pb="@firebase/database-compat",yb="@firebase/functions",_b="@firebase/functions-compat",vb="@firebase/installations",Eb="@firebase/installations-compat",Tb="@firebase/messaging",Ab="@firebase/messaging-compat",Sb="@firebase/performance",bb="@firebase/performance-compat",Rb="@firebase/remote-config",wb="@firebase/remote-config-compat",Ib="@firebase/storage",Cb="@firebase/storage-compat",Db="@firebase/firestore",Ob="@firebase/vertexai",Nb="@firebase/firestore-compat",Mb="firebase",Vb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="[DEFAULT]",Ub={[Ud]:"fire-core",[ob]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[fb]:"fire-auth",[db]:"fire-auth-compat",[mb]:"fire-rtdb",[gb]:"fire-data-connect",[pb]:"fire-rtdb-compat",[yb]:"fire-fn",[_b]:"fire-fn-compat",[vb]:"fire-iid",[Eb]:"fire-iid-compat",[Tb]:"fire-fcm",[Ab]:"fire-fcm-compat",[Sb]:"fire-perf",[bb]:"fire-perf-compat",[Rb]:"fire-rc",[wb]:"fire-rc-compat",[Ib]:"fire-gcs",[Cb]:"fire-gcs-compat",[Db]:"fire-fst",[Nb]:"fire-fst-compat",[Ob]:"fire-vertex","fire-js":"fire-js",[Mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,Pb=new Map,xd=new Map;function D_(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function qa(r){const t=r.name;if(xd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;xd.set(t,r);for(const n of wc.values())D_(n,r);for(const n of Pb.values())D_(n,r);return!0}function um(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Nl("app","Firebase",xb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=Vb;function oE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Pd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(n||(n=iE()),!n)throw kr.create("no-options");const u=wc.get(o);if(u){if(Us(n,u.options)&&Us(s,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const f=new jS(o);for(const p of xd.values())f.addComponent(p);const m=new Lb(n,s,f);return wc.set(o,m),m}function lE(r=Pd){const t=wc.get(r);if(!t&&r===Pd&&iE())return oE();if(!t)throw kr.create("no-app",{appName:r});return t}function zr(r,t,n){var s;let o=(s=Ub[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(m.join(" "));return}qa(new Ps(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-heartbeat-database",zb=1,Tl="firebase-heartbeat-store";let Rd=null;function uE(){return Rd||(Rd=nb(kb,zb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function Bb(r){try{const n=(await uE()).transaction(Tl),s=await n.objectStore(Tl).get(cE(r));return await n.done,s}catch(t){if(t instanceof Yi)Gi.warn(t.message);else{const n=kr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}async function O_(r,t){try{const s=(await uE()).transaction(Tl,"readwrite");await s.objectStore(Tl).put(t,cE(r)),await s.done}catch(n){if(n instanceof Yi)Gi.warn(n.message);else{const s=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function cE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=1024,Hb=30;class jb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=N_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Hb){const f=Qb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=N_(),{heartbeatsToSend:s,unsentEntries:o}=Gb(this._heartbeatsCache.heartbeats),u=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function N_(){return new Date().toISOString().substring(0,10)}function Gb(r,t=qb){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),M_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),M_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Fb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function M_(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function Qb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){qa(new Ps("platform-logger",t=>new sb(t),"PRIVATE")),qa(new Ps("heartbeat",t=>new jb(t),"PRIVATE")),zr(Ud,C_,r),zr(Ud,C_,"esm2017"),zr("fire-js","")}Kb("");function cm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function hE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yb=hE,fE=new Nl("auth","Firebase",hE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new om("@firebase/auth");function Xb(r,...t){Ic.logLevel<=Nt.WARN&&Ic.warn(`Auth (${$a}): ${r}`,...t)}function gc(r,...t){Ic.logLevel<=Nt.ERROR&&Ic.error(`Auth (${$a}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,...t){throw fm(r,...t)}function jn(r,...t){return fm(r,...t)}function hm(r,t,n){const s=Object.assign(Object.assign({},Yb()),{[t]:n});return new Nl("auth","Firebase",s).create(t,{appName:r.name})}function Ms(r){return hm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wb(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&di(r,"argument-error"),hm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return fE.create(r,...t)}function vt(r,t,...n){if(!r)throw fm(t,...n)}function Hi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw gc(t),new Error(t)}function Fi(r,t){r||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function $b(){return V_()==="http:"||V_()==="https:"}function V_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($b()||IS()||"connection"in navigator)?navigator.onLine:!0}function Jb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=bS()||CS()}get(){return Zb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nR=new Vl(3e4,6e4);function mm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Za(r,t,n,s,o={}){return mE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ml(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return wS()||(y.referrerPolicy="no-referrer"),dE.fetch()(await gE(r,r.config.apiHost,n,m),y)})}async function mE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},tR),t);try{const o=new rR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw lc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw lc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw hm(r,E,y);di(r,E)}}catch(o){if(o instanceof Yi)throw o;di(r,"network-request-failed",{message:String(o)})}}async function iR(r,t,n,s,o={}){const u=await Za(r,t,n,s,o);return"mfaPendingCredential"in u&&di(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function gE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?dm(r.config,o):`${r.config.apiScheme}://${o}`;return eR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),nR.get())})}}function lc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=jn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(r,t){return Za(r,"POST","/v1/accounts:delete",t)}async function Cc(r,t){return Za(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aR(r,t=!1){const n=Pe(r),s=await n.getIdToken(t),o=gm(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:pl(wd(o.auth_time)),issuedAtTime:pl(wd(o.iat)),expirationTime:pl(wd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wd(r){return Number(r)*1e3}function gm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=eE(n);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function U_(r){const t=gm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&oR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function oR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Al(r,Cc(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?pE(u.providerUserInfo):[],m=cR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new kd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function uR(r){const t=Pe(r);await Dc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function pE(r){return r.map(t=>{var{providerId:n}=t,s=cm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(r,t){const n=await mE(r,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await gE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",dE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fR(r,t){return Za(r,"POST","/v2/accounts:revokeToken",mm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):U_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=U_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await hR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new xa;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=cm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new kd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Al(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aR(this,t)}reload(){return uR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new qn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Dc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Al(this,sR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,N=(o=n.email)!==null&&o!==void 0?o:void 0,C=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,R=(y=n.createdAt)!==null&&y!==void 0?y:void 0,M=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:it,isAnonymous:nt,providerData:ft,stsTokenManager:V}=n;vt(G&&V,t,"internal-error");const I=xa.fromJSON(this.name,V);vt(typeof G=="string",t,"internal-error"),Mr(S,t.name),Mr(N,t.name),vt(typeof it=="boolean",t,"internal-error"),vt(typeof nt=="boolean",t,"internal-error"),Mr(C,t.name),Mr(Q,t.name),Mr(K,t.name),Mr(P,t.name),Mr(R,t.name),Mr(M,t.name);const b=new qn({uid:G,auth:t,email:N,emailVerified:it,displayName:S,isAnonymous:nt,photoURL:Q,phoneNumber:C,tenantId:K,stsTokenManager:I,createdAt:R,lastLoginAt:M});return ft&&Array.isArray(ft)&&(b.providerData=ft.map(O=>Object.assign({},O))),P&&(b._redirectEventId=P),b}static async _fromIdTokenResponse(t,n,s=!1){const o=new xa;o.updateFromServerResponse(n);const u=new qn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Dc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new xa;m.updateFromIdToken(s);const p=new qn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new kd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function ji(r){Fi(r instanceof Function,"Expected a class definition");let t=P_.get(r);return t?(Fi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,P_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}yE.type="NONE";const x_=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,u),this.fullPersistenceKey=pc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Cc(this.auth,{idToken:t}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,t):null}return qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(ji(x_),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ji(x_);const f=pc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const N=await Cc(t,{idToken:E}).catch(()=>{});if(!N)break;S=await qn._fromGetAccountInfoResponse(t,N,E)}else S=qn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new La(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new La(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_E(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SE(t))return"Blackberry";if(bE(t))return"Webos";if(vE(t))return"Safari";if((t.includes("chrome/")||EE(t))&&!t.includes("edge/"))return"Chrome";if(AE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _E(r=Xe()){return/firefox\//i.test(r)}function vE(r=Xe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EE(r=Xe()){return/crios\//i.test(r)}function TE(r=Xe()){return/iemobile/i.test(r)}function AE(r=Xe()){return/android/i.test(r)}function SE(r=Xe()){return/blackberry/i.test(r)}function bE(r=Xe()){return/webos/i.test(r)}function pm(r=Xe()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dR(r=Xe()){var t;return pm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function mR(){return DS()&&document.documentMode===10}function RE(r=Xe()){return pm(r)||AE(r)||bE(r)||SE(r)||/windows phone/i.test(r)||TE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r,t=[]){let n;switch(r){case"Browser":n=L_(Xe());break;case"Worker":n=`${L_(Xe())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,t={}){return Za(r,"GET","/v2/passwordPolicy",mm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=6;class _R{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:yR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Cc(this,{idToken:t}),s=await qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Dc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Jb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Ms(this));const n=t?Pe(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pR(this),n=new _R(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Xb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fc(r){return Pe(r)}class k_{constructor(t){this.auth=t,this.observer=null,this.addObserver=LS(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(r){ym=r}function TR(r){return ym.loadJS(r)}function AR(){return ym.gapiScript}function SR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r,t){const n=um(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Us(u,t??{}))return o;di(o,"already-initialized")}return n.initialize({options:t})}function RR(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ji);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function wR(r,t,n){const s=Fc(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=IE(t),{host:f,port:m}=IR(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Us(y,s.config.emulator)&&Us(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,CR()}function IE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function IR(r){const t=IE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:z_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:z_(f)}}}function z_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function CR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,n){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(r,t){return iR(r,"POST","/v1/accounts:signInWithIdp",mm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="http://localhost";class xs extends CE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=cm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ka(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ka(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ka(t,n)}buildRequest(){const t={requestUri:DR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends _m{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ul{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ui.credentialFromTaggedObject(t)}static credentialFromError(t){return ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ui.credential(n,s)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ul{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ul{constructor(){super("twitter.com")}static credential(t,n){return xs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await qn._fromIdTokenResponse(t,s,o),f=B_(s);return new Ha({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=B_(s);return new Ha({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function B_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Yi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Oc(t,n,s,o)}}function DE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(r,u,t,s):u})}async function OR(r,t,n=!1){const s=await Al(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,t,n=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(Ms(s));const o="reauthenticate";try{const u=await Al(r,DE(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=gm(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Ha._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&di(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s="signIn",o=await DE(r,s,t),u=await Ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function VR(r,t,n,s){return Pe(r).onIdTokenChanged(t,n,s)}function UR(r,t,n){return Pe(r).beforeAuthStateChanged(t,n)}function OE(r,t,n,s){return Pe(r).onAuthStateChanged(t,n,s)}function PR(r){return Pe(r).signOut()}const Nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,LR=10;class ME extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);mR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,LR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ME.type="LOCAL";const kR=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VE.type="SESSION";const UE=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Qc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await zR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=vm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(N.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function qR(r){ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function HR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GR(){return PE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",FR=1,Mc="firebaseLocalStorage",LE="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kc(r,t){return r.transaction([Mc],t?"readwrite":"readonly").objectStore(Mc)}function QR(){const r=indexedDB.deleteDatabase(xE);return new Pl(r).toPromise()}function zd(){const r=indexedDB.open(xE,FR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mc,{keyPath:LE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mc)?t(s):(s.close(),await QR(),t(await zd()))})})}async function q_(r,t,n){const s=Kc(r,!0).put({[LE]:t,value:n});return new Pl(s).toPromise()}async function KR(r,t){const n=Kc(r,!1).get(t),s=await new Pl(n).toPromise();return s===void 0?null:s.value}function H_(r,t){const n=Kc(r,!0).delete(t);return new Pl(n).toPromise()}const YR=800,XR=3;class kE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>XR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qc._getInstance(GR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await HR(),!this.activeServiceWorker)return;this.sender=new BR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zd();return await q_(t,Nc,"1"),await H_(t,Nc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>KR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Kc(o,!1).getAll();return new Pl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kE.type="LOCAL";const WR=kE;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r,t){return t?ji(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends CE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ka(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function $R(r){return MR(r.auth,new Em(r),r.bypassAuthState)}function ZR(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),NR(n,new Em(r),r.bypassAuthState)}async function JR(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),OR(n,new Em(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return JR;case"reauthViaPopup":case"reauthViaRedirect":return ZR;default:di(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Vl(2e3,1e4);async function ew(r,t,n){if(Bn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=Fc(r);Wb(r,t,_m);const o=zE(s,n);return new Os(s,"signInViaPopup",t,o).executeNotNull()}class Os extends BE{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tw.get())};t()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="pendingRedirect",yc=new Map;class iw extends BE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=yc.get(this.auth._key());if(!t){try{const s=await rw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}yc.set(this.auth._key(),t)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rw(r,t){const n=ow(t),s=aw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sw(r,t){yc.set(r._key(),t)}function aw(r){return ji(r._redirectPersistence)}function ow(r){return pc(nw,r.config.apiKey,r.name)}async function lw(r,t,n=!1){if(Bn(r.app))return Promise.reject(Ms(r));const s=Fc(r),o=zE(s,t),f=await new iw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=10*60*1e3;class cw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!qE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(t))}saveEventToCache(t){this.cachedEventUids.add(j_(t)),this.lastProcessedEventTime=Date.now()}}function j_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function qE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(r,t={}){return Za(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mw=/^https?/;async function gw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await fw(r);for(const n of t)try{if(pw(n))return}catch{}di(r,"unauthorized-domain")}function pw(r){const t=Ld(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!mw.test(n))return!1;if(dw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Vl(3e4,6e4);function G_(){const r=ci().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _w(r){return new Promise((t,n)=>{var s,o,u;function f(){G_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(jn(r,"network-request-failed"))},timeout:yw.get()})}if(!((o=(s=ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=ci().gapi)===null||u===void 0)&&u.load)f();else{const m=SR("iframefcb");return ci()[m]=()=>{gapi.load?f():n(jn(r,"network-request-failed"))},TR(`${AR()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw _c=null,t})}let _c=null;function vw(r){return _c=_c||_w(r),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Vl(5e3,15e3),Tw="__/auth/iframe",Aw="emulator/auth/iframe",Sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?dm(t,Aw):`https://${r.config.authDomain}/${Tw}`,s={apiKey:t.apiKey,appName:r.name,v:$a},o=bw.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ml(s).slice(1)}`}async function ww(r){const t=await vw(r),n=ci().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:Rw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sw,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=jn(r,"network-request-failed"),m=ci().setTimeout(()=>{u(f)},Ew.get());function p(){ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cw=500,Dw=600,Ow="_blank",Nw="http://localhost";class F_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mw(r,t,n,s=Cw,o=Dw){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Iw),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xe().toLowerCase();n&&(m=EE(y)?Ow:n),_E(y)&&(t=t||Nw,p.scrollbars="yes");const E=Object.entries(p).reduce((N,[C,Q])=>`${N}${C}=${Q},`,"");if(dR(y)&&m!=="_self")return Vw(t||"",m),new F_(null);const S=window.open(t||"",m,E);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new F_(S)}function Vw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__/auth/handler",Pw="emulator/auth/handler",xw=encodeURIComponent("fac");async function Q_(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:$a,eventId:o};if(t instanceof _m){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",xS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof Ul){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${xw}=${encodeURIComponent(p)}`:"";return`${Lw(r)}?${Ml(m).slice(1)}${y}`}function Lw({config:r}){return r.emulator?dm(r,Pw):`https://${r.authDomain}/${Uw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class kw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=lw,this._overrideRedirectResult=sw}async _openPopup(t,n,s,o){var u;Fi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Q_(t,n,s,Ld(),o);return Mw(t,f,vm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Q_(t,n,s,Ld(),o);return qR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await ww(t),s=new cw(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Id,{type:Id},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Id];f!==void 0&&n(!!f),di(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return RE()||vE()||pm()}}const zw=kw;var K_="@firebase/auth",Y_="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hw(r){qa(new Ps("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(r)},y=new vR(s,o,u,p);return RR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),qa(new Ps("auth-internal",t=>{const n=Fc(t.getProvider("auth").getImmediate());return(s=>new Bw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(K_,Y_,qw(r)),zr(K_,Y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=5*60,Gw=rE("authIdTokenMaxAge")||jw;let X_=null;const Fw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Gw)return;const o=n==null?void 0:n.token;X_!==o&&(X_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Qw(r=lE()){const t=um(r,"auth");if(t.isInitialized())return t.getImmediate();const n=bR(r,{popupRedirectResolver:zw,persistence:[WR,kR,UE]}),s=rE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Fw(u.toString());UR(n,f,()=>f(n.currentUser)),VR(n,m=>f(m))}}const o=nE("auth");return o&&wR(n,`http://${o}`),n}function Kw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}ER({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=jn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Kw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hw("Browser");var Yw="firebase",Xw="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(Yw,Xw,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,HE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,I){function b(){}b.prototype=I.prototype,V.D=I.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(O,L,B){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return I.prototype[L].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,b){b||(b=0);var O=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)O[L]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(L=0;16>L;++L)O[L]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=V.g[0],b=V.g[1],L=V.g[2];var B=V.g[3],D=I+(B^b&(L^B))+O[0]+3614090360&4294967295;I=b+(D<<7&4294967295|D>>>25),D=B+(L^I&(b^L))+O[1]+3905402710&4294967295,B=I+(D<<12&4294967295|D>>>20),D=L+(b^B&(I^b))+O[2]+606105819&4294967295,L=B+(D<<17&4294967295|D>>>15),D=b+(I^L&(B^I))+O[3]+3250441966&4294967295,b=L+(D<<22&4294967295|D>>>10),D=I+(B^b&(L^B))+O[4]+4118548399&4294967295,I=b+(D<<7&4294967295|D>>>25),D=B+(L^I&(b^L))+O[5]+1200080426&4294967295,B=I+(D<<12&4294967295|D>>>20),D=L+(b^B&(I^b))+O[6]+2821735955&4294967295,L=B+(D<<17&4294967295|D>>>15),D=b+(I^L&(B^I))+O[7]+4249261313&4294967295,b=L+(D<<22&4294967295|D>>>10),D=I+(B^b&(L^B))+O[8]+1770035416&4294967295,I=b+(D<<7&4294967295|D>>>25),D=B+(L^I&(b^L))+O[9]+2336552879&4294967295,B=I+(D<<12&4294967295|D>>>20),D=L+(b^B&(I^b))+O[10]+4294925233&4294967295,L=B+(D<<17&4294967295|D>>>15),D=b+(I^L&(B^I))+O[11]+2304563134&4294967295,b=L+(D<<22&4294967295|D>>>10),D=I+(B^b&(L^B))+O[12]+1804603682&4294967295,I=b+(D<<7&4294967295|D>>>25),D=B+(L^I&(b^L))+O[13]+4254626195&4294967295,B=I+(D<<12&4294967295|D>>>20),D=L+(b^B&(I^b))+O[14]+2792965006&4294967295,L=B+(D<<17&4294967295|D>>>15),D=b+(I^L&(B^I))+O[15]+1236535329&4294967295,b=L+(D<<22&4294967295|D>>>10),D=I+(L^B&(b^L))+O[1]+4129170786&4294967295,I=b+(D<<5&4294967295|D>>>27),D=B+(b^L&(I^b))+O[6]+3225465664&4294967295,B=I+(D<<9&4294967295|D>>>23),D=L+(I^b&(B^I))+O[11]+643717713&4294967295,L=B+(D<<14&4294967295|D>>>18),D=b+(B^I&(L^B))+O[0]+3921069994&4294967295,b=L+(D<<20&4294967295|D>>>12),D=I+(L^B&(b^L))+O[5]+3593408605&4294967295,I=b+(D<<5&4294967295|D>>>27),D=B+(b^L&(I^b))+O[10]+38016083&4294967295,B=I+(D<<9&4294967295|D>>>23),D=L+(I^b&(B^I))+O[15]+3634488961&4294967295,L=B+(D<<14&4294967295|D>>>18),D=b+(B^I&(L^B))+O[4]+3889429448&4294967295,b=L+(D<<20&4294967295|D>>>12),D=I+(L^B&(b^L))+O[9]+568446438&4294967295,I=b+(D<<5&4294967295|D>>>27),D=B+(b^L&(I^b))+O[14]+3275163606&4294967295,B=I+(D<<9&4294967295|D>>>23),D=L+(I^b&(B^I))+O[3]+4107603335&4294967295,L=B+(D<<14&4294967295|D>>>18),D=b+(B^I&(L^B))+O[8]+1163531501&4294967295,b=L+(D<<20&4294967295|D>>>12),D=I+(L^B&(b^L))+O[13]+2850285829&4294967295,I=b+(D<<5&4294967295|D>>>27),D=B+(b^L&(I^b))+O[2]+4243563512&4294967295,B=I+(D<<9&4294967295|D>>>23),D=L+(I^b&(B^I))+O[7]+1735328473&4294967295,L=B+(D<<14&4294967295|D>>>18),D=b+(B^I&(L^B))+O[12]+2368359562&4294967295,b=L+(D<<20&4294967295|D>>>12),D=I+(b^L^B)+O[5]+4294588738&4294967295,I=b+(D<<4&4294967295|D>>>28),D=B+(I^b^L)+O[8]+2272392833&4294967295,B=I+(D<<11&4294967295|D>>>21),D=L+(B^I^b)+O[11]+1839030562&4294967295,L=B+(D<<16&4294967295|D>>>16),D=b+(L^B^I)+O[14]+4259657740&4294967295,b=L+(D<<23&4294967295|D>>>9),D=I+(b^L^B)+O[1]+2763975236&4294967295,I=b+(D<<4&4294967295|D>>>28),D=B+(I^b^L)+O[4]+1272893353&4294967295,B=I+(D<<11&4294967295|D>>>21),D=L+(B^I^b)+O[7]+4139469664&4294967295,L=B+(D<<16&4294967295|D>>>16),D=b+(L^B^I)+O[10]+3200236656&4294967295,b=L+(D<<23&4294967295|D>>>9),D=I+(b^L^B)+O[13]+681279174&4294967295,I=b+(D<<4&4294967295|D>>>28),D=B+(I^b^L)+O[0]+3936430074&4294967295,B=I+(D<<11&4294967295|D>>>21),D=L+(B^I^b)+O[3]+3572445317&4294967295,L=B+(D<<16&4294967295|D>>>16),D=b+(L^B^I)+O[6]+76029189&4294967295,b=L+(D<<23&4294967295|D>>>9),D=I+(b^L^B)+O[9]+3654602809&4294967295,I=b+(D<<4&4294967295|D>>>28),D=B+(I^b^L)+O[12]+3873151461&4294967295,B=I+(D<<11&4294967295|D>>>21),D=L+(B^I^b)+O[15]+530742520&4294967295,L=B+(D<<16&4294967295|D>>>16),D=b+(L^B^I)+O[2]+3299628645&4294967295,b=L+(D<<23&4294967295|D>>>9),D=I+(L^(b|~B))+O[0]+4096336452&4294967295,I=b+(D<<6&4294967295|D>>>26),D=B+(b^(I|~L))+O[7]+1126891415&4294967295,B=I+(D<<10&4294967295|D>>>22),D=L+(I^(B|~b))+O[14]+2878612391&4294967295,L=B+(D<<15&4294967295|D>>>17),D=b+(B^(L|~I))+O[5]+4237533241&4294967295,b=L+(D<<21&4294967295|D>>>11),D=I+(L^(b|~B))+O[12]+1700485571&4294967295,I=b+(D<<6&4294967295|D>>>26),D=B+(b^(I|~L))+O[3]+2399980690&4294967295,B=I+(D<<10&4294967295|D>>>22),D=L+(I^(B|~b))+O[10]+4293915773&4294967295,L=B+(D<<15&4294967295|D>>>17),D=b+(B^(L|~I))+O[1]+2240044497&4294967295,b=L+(D<<21&4294967295|D>>>11),D=I+(L^(b|~B))+O[8]+1873313359&4294967295,I=b+(D<<6&4294967295|D>>>26),D=B+(b^(I|~L))+O[15]+4264355552&4294967295,B=I+(D<<10&4294967295|D>>>22),D=L+(I^(B|~b))+O[6]+2734768916&4294967295,L=B+(D<<15&4294967295|D>>>17),D=b+(B^(L|~I))+O[13]+1309151649&4294967295,b=L+(D<<21&4294967295|D>>>11),D=I+(L^(b|~B))+O[4]+4149444226&4294967295,I=b+(D<<6&4294967295|D>>>26),D=B+(b^(I|~L))+O[11]+3174756917&4294967295,B=I+(D<<10&4294967295|D>>>22),D=L+(I^(B|~b))+O[2]+718787259&4294967295,L=B+(D<<15&4294967295|D>>>17),D=b+(B^(L|~I))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+B&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var b=I-this.blockSize,O=this.B,L=this.h,B=0;B<I;){if(L==0)for(;B<=b;)o(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<I;)if(O[L++]=V.charCodeAt(B++),L==this.blockSize){o(this,O),L=0;break}}else for(;B<I;)if(O[L++]=V[B++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var b=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=b&255,b/=256;for(this.u(V),V=Array(16),I=b=0;4>I;++I)for(var O=0;32>O;O+=8)V[b++]=this.g[I]>>>O&255;return V};function u(V,I){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=I(V)}function f(V,I){this.h=I;for(var b=[],O=!0,L=V.length-1;0<=L;L--){var B=V[L]|0;O&&B==I||(b[L]=B,O=!1)}this.g=b}var m={};function p(V){return-128<=V&&128>V?u(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return P(y(-V));for(var I=[],b=1,O=0;V>=b;O++)I[O]=V/b|0,b*=4294967296;return new f(I,0)}function E(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return P(E(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(I,8)),O=S,L=0;L<V.length;L+=8){var B=Math.min(8,V.length-L),D=parseInt(V.substring(L,L+B),I);8>B?(B=y(Math.pow(I,B)),O=O.j(B).add(y(D))):(O=O.j(b),O=O.add(y(D)))}return O}var S=p(0),N=p(1),C=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-P(this).m();for(var V=0,I=1,b=0;b<this.g.length;b++){var O=this.i(b);V+=(0<=O?O:4294967296+O)*I,I*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Q(this))return"0";if(K(this))return"-"+P(this).toString(V);for(var I=y(Math.pow(V,6)),b=this,O="";;){var L=it(b,I).g;b=R(b,L.j(I));var B=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=L,Q(b))return B+O;for(;6>B.length;)B="0"+B;O=B+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Q(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=R(this,V),K(V)?-1:Q(V)?0:1};function P(V){for(var I=V.g.length,b=[],O=0;O<I;O++)b[O]=~V.g[O];return new f(b,~V.h).add(N)}r.abs=function(){return K(this)?P(this):this},r.add=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],O=0,L=0;L<=I;L++){var B=O+(this.i(L)&65535)+(V.i(L)&65535),D=(B>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);O=D>>>16,B&=65535,D&=65535,b[L]=D<<16|B}return new f(b,b[b.length-1]&-2147483648?-1:0)};function R(V,I){return V.add(P(I))}r.j=function(V){if(Q(this)||Q(V))return S;if(K(this))return K(V)?P(this).j(P(V)):P(P(this).j(V));if(K(V))return P(this.j(P(V)));if(0>this.l(C)&&0>V.l(C))return y(this.m()*V.m());for(var I=this.g.length+V.g.length,b=[],O=0;O<2*I;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<V.g.length;L++){var B=this.i(O)>>>16,D=this.i(O)&65535,ye=V.i(L)>>>16,ce=V.i(L)&65535;b[2*O+2*L]+=D*ce,M(b,2*O+2*L),b[2*O+2*L+1]+=B*ce,M(b,2*O+2*L+1),b[2*O+2*L+1]+=D*ye,M(b,2*O+2*L+1),b[2*O+2*L+2]+=B*ye,M(b,2*O+2*L+2)}for(O=0;O<I;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=I;O<2*I;O++)b[O]=0;return new f(b,0)};function M(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function G(V,I){this.g=V,this.h=I}function it(V,I){if(Q(I))throw Error("division by zero");if(Q(V))return new G(S,S);if(K(V))return I=it(P(V),I),new G(P(I.g),P(I.h));if(K(I))return I=it(V,P(I)),new G(P(I.g),I.h);if(30<V.g.length){if(K(V)||K(I))throw Error("slowDivide_ only works with positive integers.");for(var b=N,O=I;0>=O.l(V);)b=nt(b),O=nt(O);var L=ft(b,1),B=ft(O,1);for(O=ft(O,2),b=ft(b,2);!Q(O);){var D=B.add(O);0>=D.l(V)&&(L=L.add(b),B=D),O=ft(O,1),b=ft(b,1)}return I=R(V,L.j(I)),new G(L,I)}for(L=S;0<=V.l(I);){for(b=Math.max(1,Math.floor(V.m()/I.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),B=y(b),D=B.j(I);K(D)||0<D.l(V);)b-=O,B=y(b),D=B.j(I);Q(B)&&(B=N),L=L.add(B),V=R(V,D)}return new G(L,V)}r.A=function(V){return it(this,V).h},r.and=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],O=0;O<I;O++)b[O]=this.i(O)&V.i(O);return new f(b,this.h&V.h)},r.or=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],O=0;O<I;O++)b[O]=this.i(O)|V.i(O);return new f(b,this.h|V.h)},r.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],O=0;O<I;O++)b[O]=this.i(O)^V.i(O);return new f(b,this.h^V.h)};function nt(V){for(var I=V.g.length+1,b=[],O=0;O<I;O++)b[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(b,V.h)}function ft(V,I){var b=I>>5;I%=32;for(var O=V.g.length-b,L=[],B=0;B<O;B++)L[B]=0<I?V.i(B+b)>>>I|V.i(B+b+1)<<32-I:V.i(B+b);return new f(L,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Br=f}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,fl,GE,vc,Bd,FE,QE,KE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in _))break t;_=_[q]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,q={next:function(){if(!A&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function N(c,g,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,N.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function Q(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,q,F){for(var et=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)et[Ut-2]=arguments[Ut];return g.prototype[q].apply(A,et)}}function K(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function P(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const q=c.length||0,F=A.length||0;c.length=q+F;for(let et=0;et<F;et++)c[q+et]=A[et]}else c.push(A)}}class R{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var nt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ft(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)c[_]=A[_];for(let F=0;F<b.length;F++)_=b[F],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ht;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const A=ce.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ce=new R(()=>new rt,c=>c.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,Ht=new ye,U=()=>{const c=m.Promise.resolve(void 0);yt=()=>{c.then(tt)}};var tt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){B(_)}var g=ce;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function wt(c,g){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(nt){t:{try{it(g.nodeName);var q=!0;break t}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}Q(wt,st);var bt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),kt=0;function ne(c,g,_,A,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=q,this.key=++kt,this.da=this.fa=!1}function Ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function We(c){this.src=c,this.g={},this.h=0}We.prototype.add=function(c,g,_,A,q){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var et=yn(c,g,A,q);return-1<et?(g=c[et],_||(g.fa=!1)):(g=new ne(g,this.src,F,!!A,q),g.fa=_,c.push(g)),g};function gi(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],q=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=q)&&Array.prototype.splice.call(A,q,1),F&&(Ft(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yn(c,g,_,A){for(var q=0;q<c.length;++q){var F=c[q];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==A)return q}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),Wi={};function pi(c,g,_,A,q){if(Array.isArray(g)){for(var F=0;F<g.length;F++)pi(c,g[F],_,A,q);return null}return _=ql(_),c&&c[he]?c.K(g,_,y(A)?!!A.capture:!1,q):ro(c,g,_,!1,A,q)}function ro(c,g,_,A,q,F){if(!g)throw Error("Invalid event type");var et=y(q)?!!q.capture:!!q,Ut=so(c);if(Ut||(c[Xi]=Ut=new We(c)),_=Ut.add(g,_,A,et,F),_.proxy)return _;if(A=Hs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)at||(q=et),q===void 0&&(q=!1),c.addEventListener(g.toString(),A,q);else if(c.attachEvent)c.attachEvent(Gs(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Hs(){function c(_){return g.call(c.src,c.listener,_)}const g=ch;return c}function js(c,g,_,A,q){if(Array.isArray(g))for(var F=0;F<g.length;F++)js(c,g[F],_,A,q);else A=y(A)?!!A.capture:!!A,_=ql(_),c&&c[he]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=yn(F,_,A,q),-1<_&&(Ft(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=so(c))&&(g=c.g[g.toString()],c=-1,g&&(c=yn(g,_,A,q)),(_=-1<c?g[c]:null)&&$r(_))}function $r(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])gi(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Gs(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=so(g))?(gi(_,c),_.h==0&&(_.src=null,g[Xi]=null)):Ft(c)}}}function Gs(c){return c in Wi?Wi[c]:Wi[c]="on"+c}function ch(c,g){if(c.da)c=!0;else{g=new wt(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&$r(c),c=_.call(A,g)}return c}function so(c){return c=c[Xi],c instanceof We?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(g){return c.handleEvent(g)}),c[nn])}function _e(){ht.call(this),this.i=new We(this),this.M=this,this.F=null}Q(_e,ht),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(c,g,_,A){js(this,c,g,_,A)};function Ie(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new st(g,c);else if(g instanceof st)g.target=g.target||c;else{var q=g;g=new st(A,c),O(g,q)}if(q=!0,_)for(var F=_.length-1;0<=F;F--){var et=g.g=_[F];q=yi(et,A,!0,g)&&q}if(et=g.g=c,q=yi(et,A,!0,g)&&q,q=yi(et,A,!1,g)&&q,_)for(F=0;F<_.length;F++)et=g.g=_[F],q=yi(et,A,!1,g)&&q}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Ft(_[A]);delete c.g[g],c.h--}}this.F=null},_e.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},_e.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function yi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,F=0;F<g.length;++F){var et=g[F];if(et&&!et.da&&et.capture==_){var Ut=et.listener,Ee=et.ha||et.src;et.fa&&gi(c.i,et),q=Ut.call(Ee,A)!==!1&&q}}return q&&!A.defaultPrevented}function Hl(c,g,_){if(typeof c=="function")_&&(c=N(c,_));else if(c&&typeof c.handleEvent=="function")c=N(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ao(c){c.g=Hl(()=>{c.g=null,c.i&&(c.i=!1,ao(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class hh extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(c){ht.call(this),this.h=c,this.g={}}Q(Zr,ht);var $i=[];function je(c){ft(c.g,function(g,_){this.g.hasOwnProperty(_)&&$r(g)},c),c.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),je(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oo=m.JSON.stringify,Qn=m.JSON.parse,$e=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function lo(){}lo.prototype.h=null;function jl(c){return c.h||(c.h=c.i())}function Gl(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){st.call(this,"d")}Q(Zi,st);function Un(){st.call(this,"c")}Q(Un,st);var _n={},Ji=null;function Fs(){return Ji=Ji||new _e}_n.La="serverreachability";function uo(c){st.call(this,_n.La,c)}Q(uo,st);function tr(c){const g=Fs();Ie(g,new uo(g))}_n.STAT_EVENT="statevent";function Qs(c,g){st.call(this,_n.STAT_EVENT,c),this.stat=g}Q(Qs,st);function oe(c){const g=Fs();Ie(g,new Qs(g,c))}_n.Ma="timingevent";function Fl(c,g){st.call(this,_n.Ma,c),this.size=g}Q(Fl,st);function er(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Ql(c,g,_,A,q,F){c.info(function(){if(c.g)if(F)for(var et="",Ut=F.split("&"),Ee=0;Ee<Ut.length;Ee++){var Pt=Ut[Ee].split("=");if(1<Pt.length){var Oe=Pt[0];Pt=Pt[1];var Te=Oe.split("_");et=2<=Te.length&&Te[1]=="type"?et+(Oe+"="+Pt+"&"):et+(Oe+"=redacted&")}}else et=null;else et=F;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+g+`
`+_+`
`+et})}function Kl(c,g,_,A,q,F,et){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+g+`
`+_+`
`+F+" "+et})}function ir(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ce(c,_)+(A?" "+A:"")})}function Yn(c,g){c.info(function(){return"TIMEOUT: "+g})}nr.prototype.info=function(){};function Ce(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var F=q[0];if(F!="noop"&&F!="stop"&&F!="close")for(var et=1;et<q.length;et++)q[et]=""}}}}return oo(_)}catch{return g}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function Ks(){}Q(Ks,lo),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},Jr=new Ks;function Xn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new co}function co(){this.i=null,this.g="",this.h=!1}var rr={},ts={};function Pn(c,g,_){c.L=1,c.v=is(ie(g)),c.m=_,c.P=!0,vi(c,null)}function vi(c,g){c.F=Date.now(),Zt(c),c.A=ie(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ai(_.i,"t",A),c.C=0,_=c.j.J,c.h=new co,c.g=ou(c.j,_?g:null,!c.m),0<c.O&&(c.M=new hh(N(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&($i[0]=q.toString()),q=$i);for(var F=0;F<q.length;F++){var et=pi(_,q[F],A||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),tr(),Ql(c.i,c.u,c.A,c.l,c.R,c.m)}Xn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Sn(c)==3?g.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)t:{const Te=Sn(this.g);var g=this.g.Ba();const wi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Te!=4||g==7||(g==8||0>=wi?tr(3):tr(2)),Ys(this);var _=this.g.Z();this.X=_;e:if(sr(this)){var A=Jl(this.g);c="";var q=A.length,F=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),un(this);var et="";break e}this.h.i=new m.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(F&&g==q-1)});A.length=0,this.h.g+=c,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,Kl(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ee=this.g;if((Ut=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ut)){var Pt=Ut;break e}}Pt=null}if(_=Pt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,oe(12),rn(this),un(this);break t}}if(this.P){_=!0;let xe;for(;!this.J&&this.C<et.length;)if(xe=ar(this,et),xe==ts){Te==4&&(this.s=4,oe(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==rr){this.s=4,oe(15),ir(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,xe,null),cn(this,xe);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||et.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,et,"[Invalid Chunked Response]"),rn(this),un(this);else if(0<et.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),cs(Oe),Oe.M=!0,oe(11))}}else ir(this.i,this.l,et,null),cn(this,et);Te==4&&rn(this),this.o&&!this.J&&(Te==4?ru(this.j,this):(this.o=!1,Zt(this)))}else yh(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),rn(this),un(this)}}}catch{}finally{}};function sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ar(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?ts:(_=Number(g.substring(_,A)),isNaN(_)?rr:(A+=1,A+_>g.length?ts:(g=g.slice(A,A+_),c.C=A+_,g)))}Xn.prototype.cancel=function(){this.J=!0,rn(this)};function Zt(c){c.S=Date.now()+c.I,ho(c,c.I)}function ho(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=er(N(c.ba,c),g)}function Ys(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Xn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yn(this.i,this.A),this.L!=2&&(tr(),oe(17)),rn(this),this.s=2,un(this)):ho(this,this.S-c)};function un(c){c.j.G==0||c.J||ru(c.j,c)}function rn(c){Ys(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,je(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function cn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||or(_.h,c))){if(!c.K&&or(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ra(_),na(_);else break t;So(_),oe(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=er(N(_.Za,_),6e3));if(1>=Yl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ri(_,11)}else if((c.K||_.g==c)&&ra(_),!M(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let Pt=q[g];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const Oe=Pt[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const Te=Pt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const wi=Pt[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const xe=c.g;if(xe){const ni=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var F=A.h;F.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(lr(F,F.h),F.h=null))}if(A.D){const Ro=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(A.ya=Ro,zt(A.I,A.D,Ro))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var et=c;if(A.qa=au(A,A.J?A.ia:null,A.W),et.K){vn(A.h,et);var Ut=et,Ee=A.L;Ee&&(Ut.I=Ee),Ut.B&&(Ys(Ut),Zt(Ut)),A.g=et}else nu(A);0<_.i.length&&ia(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Ri(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ri(_,7):To(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}tr(4)}catch{}}var fh=class{constructor(c,g){this.g=c,this.map=g}};function fo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yl(c){return c.h?1:c.g?c.g.size:0}function or(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function lr(c,g){c.g?c.g.add(g):c.h=g}function vn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}fo.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ze(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return K(c.i)}function Xl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function dh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function es(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=dh(c),A=Xl(c),q=A.length,F=0;F<q;F++)g.call(void 0,A[F],_&&_[F],c)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),q=null;if(0<=A){var F=c[_].substring(0,A);q=c[_].substring(A+1)}else F=c[_];g(F,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,ur(this,c.j),this.o=c.o,this.g=c.g,ns(this,c.s),this.l=c.l;var g=c.i,_=new Wn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ws(this,_),this.m=c.m}else c&&(g=String(c).match(go))?(this.h=!1,ur(this,g[1]||"",!0),this.o=cr(g[2]||""),this.g=cr(g[3]||"",!0),ns(this,g[4]),this.l=cr(g[5]||"",!0),Ws(this,g[6]||"",!0),this.m=cr(g[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(En(g,po,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(En(g,po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(En(_,_.charAt(0)=="/"?yo:Wl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",En(_,ph)),c.join("")};function ie(c){return new Ei(c)}function ur(c,g,_){c.j=_?cr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ns(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ws(c,g,_){g instanceof Wn?(c.i=g,_o(c.i,c.h)):(_||(g=En(g,gh)),c.i=new Wn(g,c.h))}function zt(c,g,_){c.i.set(g,_)}function is(c){return zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function cr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function En(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,mh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,Wl=/[#\?:]/g,yo=/[#\?]/g,gh=/[#\?@]/g,ph=/#/g;function Wn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xs(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Wn.prototype,r.add=function(c,g){Tn(this),this.i=null,c=Si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function $s(c,g){Tn(c),g=Si(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return Tn(c),g=Si(c,g),c.g.has(g)}r.forEach=function(c,g){Tn(this),this.g.forEach(function(_,A){_.forEach(function(q){c.call(g,q,A,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const q=c[A];for(let F=0;F<q.length;F++)_.push(g[A])}return _},r.V=function(c){Tn(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Tn(this),this.i=null,c=Si(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ai(c,g,_){$s(c,g),0<_.length&&(c.i=null,c.g.set(Si(c,g),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const F=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var q=F;et[A]!==""&&(q+="="+encodeURIComponent(String(et[A]))),c.push(q)}}return this.i=c.join("&")};function Si(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function _o(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&($s(this,A),Ai(this,q,_))},c)),c.j=g}function $l(c,g){const _=new nr;if(m.Image){const A=new Image;A.onload=C(An,_,"TestLoadImage: loaded",!0,g,A),A.onerror=C(An,_,"TestLoadImage: error",!1,g,A),A.onabort=C(An,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=C(An,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function rs(c,g){const _=new nr,A=new AbortController,q=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(q),F.ok?An(_,"TestPingServer: ok",!0,g):An(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),An(_,"TestPingServer: error",!1,g)})}function An(c,g,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function ss(){this.g=new $e}function $n(c,g,_){const A=_||"";try{es(c,function(q,F){let et=q;y(q)&&(et=oo(q)),g.push(A+F+"="+encodeURIComponent(et))})}catch(q){throw g.push(A+"type="+encodeURIComponent("_badmap")),q}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(hr,lo),hr.prototype.g=function(){return new bi(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function bi(c,g){_e.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(bi,_e),r=bi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Zn(this):Jn(this),this.readyState==3&&vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Eo(c){let g="";return ft(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function De(c,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Eo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):zt(c,g,_))}function jt(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(jt,_e);var Zs=/^https?$/i,as=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?jl(this.o):jl(Jr),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Zl(this,F);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(as,g,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,et]of _)this.g.setRequestHeader(F,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Zl(this,F)}};function Zl(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Js(c),ti(c)}function Js(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ie(this,"complete"),Ie(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Hl(c.Ea,0,c);else if(Ie(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const et=c.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=et===0){var q=String(c.D).match(go)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!Zs.test(q?q.toLowerCase():"")}_=A}if(_)Ie(c,"complete"),Ie(c,"success");else{c.m=6;try{var F=2<Sn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Js(c)}}finally{ti(c)}}}}function ti(c,g){if(c.g){os(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ie(c,"ready");try{_.onreadystatechange=A}catch{}}}function os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Qn(g)}};function Jl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yh(c){const g={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(M(c[A]))continue;var _=L(c[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[q]||[];g[q]=F,F.push(_)}V(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ea(c){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,c),this.cb=ls("retryDelaySeedMs",1e4,c),this.Wa=ls("forwardChannelMaxRetries",2,c),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(c&&c.concurrentRequestLimit),this.Da=new ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ea.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){oe(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=au(this,null,this.W),ia(this)};function To(c){if(tu(c),c.G==3){var g=c.U++,_=ie(c.I);if(zt(_,"SID",c.K),zt(_,"RID",g),zt(_,"TYPE","terminate"),us(c,_),g=new Xn(c,c.j,g),g.L=2,g.v=is(ie(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=ou(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Zt(g)}su(c)}function na(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function tu(c){na(c),c.u&&(m.clearTimeout(c.u),c.u=null),ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ia(c){if(!mo(c.h)&&!c.s){c.s=!0;var g=c.Ga;yt||U(),mt||(yt(),mt=!0),Ht.add(g,c),c.B=0}}function _h(c,g){return Yl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=er(N(c.Ga,c,g),bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Xn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=I(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(q.H=F,F=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=eu(this,q,g),_=ie(this.I),zt(_,"RID",c),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),us(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Eo(F)))+"&"+g:this.m&&De(_,this.m,F)),lr(this.h,q),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",g),zt(_,"SID","null"),q.T=!0,Pn(q,_,null)):Pn(q,_,g),this.G=2}}else this.G==3&&(c?Ao(this,c):this.i.length==0||mo(this.h)||Ao(this))};function Ao(c,g){var _;g?_=g.l:_=c.U++;const A=ie(c.I);zt(A,"SID",c.K),zt(A,"RID",_),zt(A,"AID",c.T),us(c,A),c.m&&c.o&&De(A,c.m,c.o),_=new Xn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=eu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lr(c.h,_),Pn(_,A,g)}function us(c,g){c.H&&ft(c.H,function(_,A){zt(g,A,_)}),c.l&&es({},function(_,A){zt(g,A,_)})}function eu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?N(c.l.Na,c.l,c):null;t:{var q=c.i;let F=-1;for(;;){const et=["count="+_];F==-1?0<_?(F=q[0].g,et.push("ofs="+F)):F=0:et.push("ofs="+F);let Ut=!0;for(let Ee=0;Ee<_;Ee++){let Pt=q[Ee].g;const Oe=q[Ee].map;if(Pt-=F,0>Pt)F=Math.max(0,q[Ee].g-100),Ut=!1;else try{$n(Oe,et,"req"+Pt+"_")}catch{A&&A(Oe)}}if(Ut){A=et.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,A}function nu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;yt||U(),mt||(yt(),mt=!0),Ht.add(g,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=er(N(c.Fa,c),bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=er(N(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),na(this),iu(this))};function cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function iu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ie(c.qa);zt(g,"RID","rpc"),zt(g,"SID",c.K),zt(g,"AID",c.T),zt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&zt(g,"TO",c.ja),zt(g,"TYPE","xmlhttp"),us(c,g),c.m&&c.o&&De(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=is(ie(g)),_.m=null,_.P=!0,vi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,na(this),So(this),oe(19))};function ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ru(c,g){var _=null;if(c.g==g){ra(c),cs(c),c.g=null;var A=2}else if(or(c.h,g))_=g.D,vn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;A=Fs(),Ie(A,new Fl(A,_)),ia(c)}else nu(c);else if(q=g.s,q==3||q==0&&0<g.X||!(A==1&&_h(c,g)||A==2&&So(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function bo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ri(c,g){if(c.j.info("Error code "+g),g==2){var _=N(c.fb,c),A=c.Xa;const q=!A;A=new Ei(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ur(A,"https"),is(A),q?$l(A.toString(),_):rs(A.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(g),su(c),tu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function su(c){if(c.G=0,c.ka=[],c.l){const g=Ze(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function au(c,g,_){var A=_ instanceof Ei?ie(_):new Ei(_);if(A.g!="")g&&(A.g=g+"."+A.g),ns(A,A.s);else{var q=m.location;A=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var F=new Ei(null);A&&ur(F,A),g&&(F.g=g),q&&ns(F,q),_&&(F.l=_),A=F}return _=c.D,g=c.ya,_&&g&&zt(A,_,g),zt(A,"VER",c.la),us(c,A),A}function ou(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new jt(new hr({eb:_})):new jt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}r=lu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(c,g){return new Je(c,g)};function Je(c,g){_e.call(this),this.g=new ea(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!M(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ei(this)}Q(Je,_e),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){To(this.g)},Je.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=oo(c),c=_);g.i.push(new fh(g.Ya++,c)),g.G==3&&ia(g)},Je.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Je.aa.N.call(this)};function uu(c){Zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}Q(uu,Zi);function cu(){Un.call(this),this.status=1}Q(cu,Un);function ei(c){this.g=c}Q(ei,lu),ei.prototype.ua=function(){Ie(this.g,"a")},ei.prototype.ta=function(c){Ie(this.g,new uu(c))},ei.prototype.sa=function(c){Ie(this.g,new cu)},ei.prototype.ra=function(){Ie(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,KE=function(){return new sa},QE=function(){return Fs()},FE=_n,Bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,vc=ve,_i.COMPLETE="complete",GE=_i,Gl.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,fl=Gl,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,jE=jt}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",Z_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new om("@firebase/firestore");function Ma(){return Ls.logLevel}function ot(r,...t){if(Ls.logLevel<=Nt.DEBUG){const n=t.map(Tm);Ls.debug(`Firestore (${Ja}): ${r}`,...n)}}function Qi(r,...t){if(Ls.logLevel<=Nt.ERROR){const n=t.map(Tm);Ls.error(`Firestore (${Ja}): ${r}`,...n)}}function ja(r,...t){if(Ls.logLevel<=Nt.WARN){const n=t.map(Tm);Ls.warn(`Firestore (${Ja}): ${r}`,...n)}}function Tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const t=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Gt(r,t){r||_t()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class $w{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vs,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vs)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new YE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Ke(t)}}class Jw{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tI{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new Jw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new J_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new J_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function qd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=XE(),f=iI(u.encode(tv(r,n)),u.encode(tv(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function tv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function iI(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function Ga(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-62135596800,nv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*nv);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ev)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__name__";class li{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(),s===void 0?s=t.length-n:s>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const s=li.isNumericId(t),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(t).compare(li.extractNumericId(n)):qd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Br.fromString(t.substring(4,t.length-2))}}class $t extends li{construct(t,n,s){return new $t(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends li{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return rI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new qe([iv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt($t.fromString(t))}static fromName(t){return new gt($t.fromString(t).popFirst(5))}static empty(){return new gt($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new $t(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=-1;function sI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new jr(o,gt.empty(),t)}function aI(r){return new jr(r.readTime,r.key,Sl)}class jr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(Et.min(),gt.empty(),Sl)}static max(){return new jr(Et.max(),gt.empty(),Sl)}}function oI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==lI)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new $((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function cI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Yc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function Xc(r){return r==null}function Vc(r){return r===0&&1/r==-1/0}function hI(r){return typeof r=="number"&&Number.isInteger(r)&&!Vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="";function fI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=rv(t)),t=dI(r.get(n),t);return rv(t)}function dI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case $E:n+="";break;default:n+=u}}return n}function rv(r){return r+$E+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Xr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ZE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cc(this.root,t,this.comparator,!0)}}class cc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(t){return new av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new pn([])}unionWith(t){let n=new we(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JE("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=mI.exec(r);if(Gt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="server_timestamp",eT="__type__",nT="__previous_value__",iT="__local_write_time__";function Sm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[eT])===null||n===void 0?void 0:n.stringValue)===tT}function Wc(r){const t=r.mapValue.fields[nT];return Sm(t)?Wc(t):t}function bl(r){const t=Gr(r.mapValue.fields[iT].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,s,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Uc="(default)";class Rl{constructor(t,n){this.projectId=t,this.database=n||Uc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__type__",pI="__max__",hc={mapValue:{}},sT="__vector__",Pc="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:_I(r)?9007199254740991:yI(r)?10:11:_t()}function mi(r,t){if(r===t)return!0;const n=Qr(r);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return bl(r).isEqual(bl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gr(o.timestampValue),m=Gr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Fr(o.bytesValue).isEqual(Fr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ue(o.geoPointValue.latitude)===ue(u.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ue(o.integerValue)===ue(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ue(o.doubleValue),m=ue(u.doubleValue);return f===m?Vc(f)===Vc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Ga(r.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sv(f)!==sv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!mi(f[p],m[p])))return!1;return!0}(r,t);default:return _t()}}function wl(r,t){return(r.values||[]).find(n=>mi(n,t))!==void 0}function Fa(r,t){if(r===t)return 0;const n=Qr(r),s=Qr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ue(u.integerValue||u.doubleValue),p=ue(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return ov(r.timestampValue,t.timestampValue);case 4:return ov(bl(r),bl(t));case 5:return qd(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Fr(u),p=Fr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ct(m[y],p[y]);if(E!==0)return E}return Ct(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(ue(u.latitude),ue(f.latitude));return m!==0?m:Ct(ue(u.longitude),ue(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return lv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const S=u.fields||{},N=f.fields||{},C=(m=S[Pc])===null||m===void 0?void 0:m.arrayValue,Q=(p=N[Pc])===null||p===void 0?void 0:p.arrayValue,K=Ct(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((E=Q==null?void 0:Q.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:lv(C,Q)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===hc.mapValue&&f===hc.mapValue)return 0;if(u===hc.mapValue)return 1;if(f===hc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const N=qd(p[S],E[S]);if(N!==0)return N;const C=Fa(m[p[S]],y[E[S]]);if(C!==0)return C}return Ct(p.length,E.length)}(r.mapValue,t.mapValue);default:throw _t()}}function ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Gr(r),s=Gr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function lv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Fa(n[o],s[o]);if(u)return u}return Ct(n.length,s.length)}function Qa(r){return Hd(r)}function Hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Fr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return gt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hd(n.fields[f])}`;return o+"}"}(r.mapValue):_t()}function Ec(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(r);return t?16+Ec(t):16;case 5:return 2*r.stringValue.length;case 6:return Fr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ec(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Xr(s.fields,(u,f)=>{o+=u.length+Ec(f)}),o}(r.mapValue);default:throw _t()}}function uv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function jd(r){return!!r&&"integerValue"in r}function bm(r){return!!r&&"arrayValue"in r}function cv(r){return!!r&&"nullValue"in r}function hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function yI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[rT])===null||n===void 0?void 0:n.stringValue)===sT}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Xr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=yl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function _I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Tc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Tc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Xr(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new on(yl(this.value))}}function aT(r){const t=[];return Xr(r.fields,(n,s)=>{const o=new qe([n]);if(Tc(s)){const u=aT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,Et.min(),Et.min(),Et.min(),on.empty(),0)}static newFoundDocument(t,n,s,o){return new Ye(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,Et.min(),Et.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,Et.min(),Et.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n){this.position=t,this.inclusive=n}}function fv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=Fa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(t,n="asc"){this.field=t,this.dir=n}}function vI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class pe extends oT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new TI(t,n,s):n==="array-contains"?new bI(t,s):n==="in"?new RI(t,s):n==="not-in"?new wI(t,s):n==="array-contains-any"?new II(t,s):new pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AI(t,s):new SI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends oT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Fn(t,n)}matches(t){return lT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lT(r){return r.op==="and"}function uT(r){return EI(r)&&lT(r)}function EI(r){for(const t of r.filters)if(t instanceof Fn)return!1;return!0}function Gd(r){if(r instanceof pe)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(uT(r))return r.filters.map(t=>Gd(t)).join(",");{const t=r.filters.map(n=>Gd(n)).join(",");return`${r.op}(${t})`}}function cT(r,t){return r instanceof pe?function(s,o){return o instanceof pe&&s.op===o.op&&s.field.isEqual(o.field)&&mi(s.value,o.value)}(r,t):r instanceof Fn?function(s,o){return o instanceof Fn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&cT(f,o.filters[m]),!0):!1}(r,t):void _t()}function hT(r){return r instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(r):r instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(r):"Filter"}class TI extends pe{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class AI extends pe{constructor(t,n){super(t,"in",n),this.keys=fT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class SI extends pe{constructor(t,n){super(t,"not-in",n),this.keys=fT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class bI extends pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bm(n)&&wl(n.arrayValue,this.value)}}class RI extends pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class wI extends pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!wl(this.value.arrayValue,n)}}class II extends pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function mv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new CI(r,t,n,s,o,u,f)}function Rm(r){const t=At(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Gd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Xc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Qa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Qa(s)).join(",")),t.le=n}return t.le}function wm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!dv(r.startAt,t.startAt)&&dv(r.endAt,t.endAt)}function Fd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function DI(r,t,n,s,o,u,f,m){return new no(r,t,n,s,o,u,f,m)}function Im(r){return new no(r)}function gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dT(r){return r.collectionGroup!==null}function _l(r){const t=At(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new we(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new Il(u,s))}),n.has(qe.keyField().canonicalString())||t.he.push(new Il(qe.keyField(),s))}return t.he}function hi(r){const t=At(r);return t.Pe||(t.Pe=OI(t,_l(r))),t.Pe}function OI(r,t){if(r.limitType==="F")return mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Il(o.field,u)});const n=r.endAt?new xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xc(r.startAt.position,r.startAt.inclusive):null;return mv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Qd(r,t){const n=r.filters.concat([t]);return new no(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Kd(r,t,n){return new no(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function $c(r,t){return wm(hi(r),hi(t))&&r.limitType===t.limitType}function mT(r){return`${Rm(hi(r))}|lt:${r.limitType}`}function Va(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>hT(o)).join(", ")}]`),Xc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Qa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Qa(o)).join(",")),`Target(${s})`}(hi(r))}; limitType=${r.limitType})`}function Zc(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of _l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=fv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,_l(s),o)||s.endAt&&!function(f,m,p){const y=fv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,_l(s),o))}(r,t)}function NI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gT(r){return(t,n)=>{let s=!1;for(const o of _l(r)){const u=MI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MI(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Fa(p,y):_t()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new ee(gt.comparator);function Ki(){return VI}const pT=new ee(gt.comparator);function dl(...r){let t=pT;for(const n of r)t=t.insert(n.key,n);return t}function yT(r){let t=pT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ns(){return vl()}function _T(){return vl()}function vl(){return new zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const UI=new ee(gt.comparator),PI=new we(gt.comparator);function Mt(...r){let t=PI;for(const n of r)t=t.add(n);return t}const xI=new we(Ct);function LI(){return xI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(t)?"-0":t}}function vT(r){return{integerValue:""+r}}function kI(r,t){return hI(t)?vT(t):Cm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function zI(r,t,n){return r instanceof Cl?function(o,u){const f={fields:{[eT]:{stringValue:tT},[iT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sm(u)&&(u=Wc(u)),u&&(f.fields[nT]=u),{mapValue:f}}(n,t):r instanceof Dl?TT(r,t):r instanceof Ol?AT(r,t):function(o,u){const f=ET(o,u),m=pv(f)+pv(o.Ie);return jd(f)&&jd(o.Ie)?vT(m):Cm(o.serializer,m)}(r,t)}function BI(r,t,n){return r instanceof Dl?TT(r,t):r instanceof Ol?AT(r,t):n}function ET(r,t){return r instanceof Lc?function(s){return jd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Cl extends Jc{}class Dl extends Jc{constructor(t){super(),this.elements=t}}function TT(r,t){const n=ST(t);for(const s of r.elements)n.some(o=>mi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ol extends Jc{constructor(t){super(),this.elements=t}}function AT(r,t){let n=ST(t);for(const s of r.elements)n=n.filter(o=>!mi(o,s));return{arrayValue:{values:n}}}class Lc extends Jc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function pv(r){return ue(r.integerValue||r.doubleValue)}function ST(r){return bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,n){this.field=t,this.transform=n}}function HI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Dl&&o instanceof Dl||s instanceof Ol&&o instanceof Ol?Ga(s.elements,o.elements,mi):s instanceof Lc&&o instanceof Lc?mi(s.Ie,o.Ie):s instanceof Cl&&o instanceof Cl}(r.transform,t.transform)}class jI{constructor(t,n){this.version=t,this.transformResults=n}}class Gn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class th{}function bT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Dm(r.key,Gn.none()):new xl(r.key,r.data,Gn.none());{const n=r.data,s=on.empty();let o=new we(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Wr(r.key,s,new pn(o.toArray()),Gn.none())}}function GI(r,t,n){r instanceof xl?function(o,u,f){const m=o.value.clone(),p=_v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Wr?function(o,u,f){if(!Ac(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=_v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(RT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function El(r,t,n,s){return r instanceof xl?function(u,f,m,p){if(!Ac(u.precondition,f))return m;const y=u.value.clone(),E=vv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Wr?function(u,f,m,p){if(!Ac(u.precondition,f))return m;const y=vv(u.fieldTransforms,p,f),E=f.data;return E.setAll(RT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,m){return Ac(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function FI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=ET(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function yv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ga(s,o,(u,f)=>HI(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends th{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Wr extends th{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function RT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function _v(r,t,n){const s=new Map;Gt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,BI(f,m,n[o]))}return s}function vv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,zI(u,f,t))}return s}class Dm extends th{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QI extends th{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&GI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=El(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=El(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=_T();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=bT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,(n,s)=>yv(n,s))&&Ga(this.baseMutations,t.baseMutations,(n,s)=>yv(n,s))}}class Om{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length);let o=function(){return UI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Om(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Lt;function WI(r){switch(r){case Z.OK:return _t();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t()}}function wT(r){if(r===void 0)return Qi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ge.OK:return Z.OK;case ge.CANCELLED:return Z.CANCELLED;case ge.UNKNOWN:return Z.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Z.INTERNAL;case ge.UNAVAILABLE:return Z.UNAVAILABLE;case ge.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ge.NOT_FOUND:return Z.NOT_FOUND;case ge.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ge.ABORTED:return Z.ABORTED;case ge.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ge.DATA_LOSS:return Z.DATA_LOSS;default:return _t()}}(Lt=ge||(ge={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new Br([4294967295,4294967295],0);function Ev(r){const t=XE().encode(r),n=new HE;return n.update(t),new Uint8Array(n.digest())}function Tv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Br([n,s],0),new Br([o,u],0)]}class Nm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Br.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Br.fromNumber(s)));return o.compare($I)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Ev(t),[s,o]=Tv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Nm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=Ev(t),[s,o]=Tv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new eh(Et.min(),o,new ee(Ct),Ki(),Mt())}}class Ll{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class IT{constructor(t,n){this.targetId=t,this.ge=n}}class CT{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Av{constructor(){this.pe=0,this.ye=Sv(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),s=Mt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new Ll(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=Sv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ZI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=fc(),this.Ue=fc(),this.Ke=new ee(Ct)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Fd(u))if(s===0){const f=new gt(u.path);this.ze(n,f,Ye.newNoDocument(f,Et.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Fr(s).toUint8Array()}catch(p){if(p instanceof JE)return ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Nm(f,o,u)}catch(p){return ja(p instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Fd(m.target)){const p=new gt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ye.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Mt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new eh(t,n,this.Ke,this.Qe,s);return this.Qe=Ki(),this.$e=fc(),this.Ue=fc(),this.Ke=new ee(Ct),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Av,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new we(Ct),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(Ct),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Av),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function fc(){return new ee(gt.comparator)}function Sv(){return new ee(gt.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},t1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class n1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Yd(r,t){return r.useProto3Json||Xc(t)?t:{value:t}}function kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function i1(r,t){return kc(r,t.toTimestamp())}function fi(r){return Gt(!!r),Et.fromTimestamp(function(n){const s=Gr(n);return new Re(s.seconds,s.nanos)}(r))}function Mm(r,t){return Xd(r,t).canonicalString()}function Xd(r,t){const n=function(o){return new $t(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function OT(r){const t=$t.fromString(r);return Gt(PT(t)),t}function Wd(r,t){return Mm(r.databaseId,t.path)}function Cd(r,t){const n=OT(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(MT(n))}function NT(r,t){return Mm(r.databaseId,t)}function r1(r){const t=OT(r);return t.length===4?$t.emptyPath():MT(t)}function $d(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function MT(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function bv(r,t,n){return{name:Wd(r,t),fields:n.value.mapValue.fields}}function s1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string"),He.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),He.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?Z.UNKNOWN:wT(y.code);return new lt(E,y.message||"")}(f);n=new CT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cd(r,s.document.name),u=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):Et.min(),m=new on({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Sc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Cd(r,s.document),u=s.readTime?fi(s.readTime):Et.min(),f=Ye.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Cd(r,s.document),u=s.removedTargetIds||[];n=new Sc([],u,o,null)}else{if(!("filter"in t))return _t();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new XI(o,u),m=s.targetId;n=new IT(m,f)}}return n}function a1(r,t){let n;if(t instanceof xl)n={update:bv(r,t.key,t.value)};else if(t instanceof Dm)n={delete:Wd(r,t.key)};else if(t instanceof Wr)n={update:bv(r,t.key,t.data),updateMask:g1(t.fieldMask)};else{if(!(t instanceof QI))return _t();n={verify:Wd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Cl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Dl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ol)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:i1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t()}(r,t.precondition)),n}function o1(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?fi(o.updateTime):fi(u);return f.isEqual(Et.min())&&(f=fi(u)),new jI(f,o.transformResults||[])}(n,t))):[]}function l1(r,t){return{documents:[NT(r,t.path)]}}function u1(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const u=function(y){if(y.length!==0)return UT(Fn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(N){return{field:Ua(N.field),direction:f1(N.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Yd(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function c1(r){let t=r1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(S){const N=VT(S);return N instanceof Fn&&uT(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(N=>function(Q){return new Il(Pa(Q.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(N))}(n.orderBy));let m=null;n.limit&&(m=function(S){let N;return N=typeof S=="object"?S.value:S,Xc(N)?null:N}(n.limit));let p=null;n.startAt&&(p=function(S){const N=!!S.before,C=S.values||[];return new xc(C,N)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const N=!S.before,C=S.values||[];return new xc(C,N)}(n.endAt)),DI(t,o,f,u,m,"F",p,y)}function h1(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function VT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pa(n.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Pa(n.unaryFilter.field);return pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Pa(n.unaryFilter.field);return pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Pa(n.unaryFilter.field);return pe.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(n){return pe.create(Pa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(s=>VT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(r):_t()}function f1(r){return JI[r]}function d1(r){return t1[r]}function m1(r){return e1[r]}function Ua(r){return{fieldPath:r.canonicalString()}}function Pa(r){return qe.fromServerFormat(r.fieldPath)}function UT(r){return r instanceof pe?function(n){if(n.op==="=="){if(hv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(cv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(cv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:d1(n.op),value:n.value}}}(r):r instanceof Fn?function(n){const s=n.getFilters().map(o=>UT(o));return s.length===1?s[0]:{compositeFilter:{op:m1(n.op),filters:s}}}(r):_t()}function g1(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function PT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n,s,o,u=Et.min(),f=Et.min(),m=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.Tt=t}}function y1(r){const t=c1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Tn=new v1}addToCollectionParentIndex(t,n){return this.Tn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(jr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class v1{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new we($t.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new we($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xT=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(xT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ka(0)}static Kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LruGarbageCollector",E1=1048576;function Iv([r,t],[n,s]){const o=Ct(r,n);return o===0?Ct(t,s):o}class T1{constructor(t){this.Hn=t,this.buffer=new we(Iv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Iv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A1{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ot(wv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?ot(wv,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.er(3e5)})}}class S1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Yc.ae);const s=new T1(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Rv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),Ma()<=Nt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function b1(r,t){return new S1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.changes=new zs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&El(s.mutation,o,pn.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Ns();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=dl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ns();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Ki();const f=vl(),m=function(){return vl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Wr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),El(E.mutation,y,E.mutation.getFieldMask(),Re.now())):f.set(y.key,pn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new w1(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,n){const s=vl();let o=new ee((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||pn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=_T();E.forEach(N=>{if(!u.has(N)){const C=bT(n.get(N),s.get(N));C!==null&&S.set(N,C),u=u.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Ns());let m=Sl,p=u;return f.next(y=>$.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(N=>{p=p.insert(E,N)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Mt())).next(E=>({batchId:m,changes:yT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let o=dl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=dl();return this.indexManager.getCollectionParents(t,u).next(m=>$.forEach(m,p=>{const y=function(S,N){return new no(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((S,N)=>{f=f.insert(S,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let m=dl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&El(E.mutation,y,pn.empty(),Re.now()),Zc(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:y1(o.bundledQuery),readTime:fi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.overlays=new ee(gt.comparator),this.Rr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ns();return $.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Ns(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ee((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ns(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ns(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return $.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Mt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Vr=new we(Ue.mr),this.gr=new we(Ue.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ue(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new gt(new $t([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new gt(new $t([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Mt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return gt.comparator(t.key,n.key)||Ct(t.Cr,n.Cr)}static pr(t,n){return Ct(t.Cr,n.Cr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Ue.mr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Am:this.Fr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Ct);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new gt(u),0);let m=new we(Ct);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),$.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t){this.kr=t,this.docs=function(){return new ee(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Ki();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||oI(aI(E),s)<=0||(o.has(E.key)||Zc(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t()}qr(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new V1(this)}getSize(t){return $.resolve(this.size)}}class V1 extends R1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.persistence=t,this.Qr=new zs(n=>Rm(n),wm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vm,this.targetCount=0,this.Kr=Ka.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),$.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ka(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.zn(n),$.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Yc(0),this.zr=!1,this.zr=!0,this.jr=new O1,this.referenceDelegate=t(this),this.Hr=new U1(this),this.indexManager=new _1,this.remoteDocumentCache=function(o){return new M1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new p1(n),this.Yr=new C1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new D1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new N1(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new P1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class P1 extends uI{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.ti=new Vm,this.ni=null}static ri(t){return new Um(t)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class zc{constructor(t,n){this.persistence=t,this.oi=new zs(s=>fI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=b1(this,n)}static ri(t,n){return new zc(t,n)}Zr(){}Xr(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return $.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Et.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),$.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ec(t.data.value)),n}ar(t,n,s){return $.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return OS()?8:cI(Xe())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new x1;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Ma()<=Nt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Ma()<=Nt.DEBUG&&ot("QueryEngine","Query:",Va(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ma()<=Nt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hi(n))):$.resolve())}rs(t,n){if(gv(n))return $.resolve(null);let s=hi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Kd(n,null,"F"),s=hi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(t,Kd(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,o){return gv(n)||o.isEqual(Et.min())?$.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?$.resolve(null):(Ma()<=Nt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Va(n)),this.hs(t,f,n,sI(o,Sl)).next(m=>m))})}cs(t,n){let s=new we(gT(t));return n.forEach((o,u)=>{Zc(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Ma()<=Nt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Va(n)),this.ns.getDocumentsMatchingQuery(t,n,jr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",k1=3e8;class z1{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ee(Ct),this.Is=new zs(u=>Rm(u),wm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function B1(r,t,n,s){return new z1(r,t,n,s)}async function kT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Mt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function q1(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,N=S.keys();let C=$.resolve();return N.forEach(Q=>{C=C.next(()=>E.getEntry(p,Q)).next(K=>{const P=y.docVersions.get(Q);Gt(P!==null),K.version.compareTo(P)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),C.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function zT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function H1(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const N=o.get(S);if(!N)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let C=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?C=C.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(S,C),function(K,P,R){return K.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=k1?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(N,C,E)&&m.push(n.Hr.updateTargetData(u,C))});let p=Ki(),y=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(j1(u,f,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function j1(r,t,n){let s=Mt(),o=Mt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Ki();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ot(xm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function G1(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Am),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function F1(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,$.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new xr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Zd(r,t,n){const s=At(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!eo(f))throw f;ot(xm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function Cv(r,t,n){const s=At(r);let o=Et.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=At(p),N=S.Is.get(E);return N!==void 0?$.resolve(S.Ts.get(N)):S.Hr.getTargetData(y,E)}(s,f,hi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Mt())).next(m=>(Q1(s,NI(t),m),{documents:m,gs:u})))}function Q1(r,t,n){let s=r.Es.get(t)||Et.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class Dv{constructor(){this.activeTargetIds=LI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class K1{constructor(){this.ho=new Dv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Dv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Nv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ot(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Jd(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="RestConnection",X1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Uc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=Jd(),m=this.bo(t,n.toUriEncodedString());ot(Dd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(y=>(ot(Dd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw ja(Dd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=X1[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class Z1 extends W1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=Jd();return new Promise((f,m)=>{const p=new jE;p.setWithCredentials(!0),p.listenOnce(GE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vc.NO_ERROR:const E=p.getResponseJson();ot(Qe,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case vc.TIMEOUT:ot(Qe,`RPC '${t}' ${u} timed out`),m(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const S=p.getStatus();if(ot(Qe,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const C=N==null?void 0:N.error;if(C&&C.status&&C.message){const Q=function(P){const R=P.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(R)>=0?R:Z.UNKNOWN}(C.status);m(new lt(Q,C.message))}else m(new lt(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ot(Qe,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);ot(Qe,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=Jd(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=KE(),m=QE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ot(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let N=!1,C=!1;const Q=new $1({Fo:P=>{C?ot(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(N||(ot(Qe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),N=!0),ot(Qe,`RPC '${t}' stream ${o} sending:`,P),S.send(P))},Mo:()=>S.close()}),K=(P,R,M)=>{P.listen(R,G=>{try{M(G)}catch(it){setTimeout(()=>{throw it},0)}})};return K(S,fl.EventType.OPEN,()=>{C||(ot(Qe,`RPC '${t}' stream ${o} transport opened.`),Q.Qo())}),K(S,fl.EventType.CLOSE,()=>{C||(C=!0,ot(Qe,`RPC '${t}' stream ${o} transport closed`),Q.Uo())}),K(S,fl.EventType.ERROR,P=>{C||(C=!0,ja(Qe,`RPC '${t}' stream ${o} transport errored:`,P),Q.Uo(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),K(S,fl.EventType.MESSAGE,P=>{var R;if(!C){const M=P.data[0];Gt(!!M);const G=M,it=(G==null?void 0:G.error)||((R=G[0])===null||R===void 0?void 0:R.error);if(it){ot(Qe,`RPC '${t}' stream ${o} received error:`,it);const nt=it.status;let ft=function(b){const O=ge[b];if(O!==void 0)return wT(O)}(nt),V=it.message;ft===void 0&&(ft=Z.INTERNAL,V="Unknown error status: "+nt+" with message "+it.message),C=!0,Q.Uo(new lt(ft,V)),S.close()}else ot(Qe,`RPC '${t}' stream ${o} received:`,M),Q.Ko(M)}}),K(m,FE.STAT_EVENT,P=>{P.stat===Bd.PROXY?ot(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===Bd.NOPROXY&&ot(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Q.$o()},0),Q}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r){return new n1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="PersistentStream";class qT{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ot(Mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ot(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J1 extends qT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=s1(this.serializer,t),s=function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?fi(f.readTime):Et.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=$d(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Fd(p)?{documents:l1(u,p)}:{query:u1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=DT(u,f.resumeToken);const y=Yd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=kc(u,f.snapshotVersion.toTimestamp());const y=Yd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=h1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=$d(this.serializer),n.removeTarget=t,this.I_(n)}}class tC extends qT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=o1(t.writeResults,t.commitTime),s=fi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=$d(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>a1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nC extends eC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,Xd(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Z.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Xd(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(Z.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):ot("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class rC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Bs(this)&&(ot(ks,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await kl(y),y.j_.set("Unknown"),y.W_.delete(4),await ih(y)}(this))})}),this.j_=new iC(s,o)}}async function ih(r){if(Bs(r))for(const t of r.G_)await t(!0)}async function kl(r){for(const t of r.G_)await t(!1)}function HT(r,t){const n=At(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Bm(n)?zm(n):io(n).c_()&&km(n,t))}function Lm(r,t){const n=At(r),s=io(n);n.K_.delete(t),s.c_()&&jT(n,t),n.K_.size===0&&(s.c_()?s.P_():Bs(n)&&n.j_.set("Unknown"))}function km(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}io(r).y_(t)}function jT(r,t){r.H_.Ne(t),io(r).w_(t)}function zm(r){r.H_=new ZI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),io(r).start(),r.j_.B_()}function Bm(r){return Bs(r)&&!io(r).u_()&&r.K_.size>0}function Bs(r){return At(r).W_.size===0}function GT(r){r.H_=void 0}async function sC(r){r.j_.set("Online")}async function aC(r){r.K_.forEach((t,n)=>{km(r,t)})}async function oC(r,t){GT(r),Bm(r)?(r.j_.q_(t),zm(r)):r.j_.set("Unknown")}async function lC(r,t,n){if(r.j_.set("Online"),t instanceof CT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ot(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bc(r,s)}else if(t instanceof Sc?r.H_.We(t):t instanceof IT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Et.min()))try{const s=await zT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),jT(u,p);const S=new xr(E.target,p,y,E.sequenceNumber);km(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ot(ks,"Failed to raise snapshot:",s),await Bc(r,s)}}async function Bc(r,t,n){if(!eo(t))throw t;r.W_.add(1),await kl(r),r.j_.set("Offline"),n||(n=()=>zT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(ks,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await ih(r)})}function FT(r,t){return t().catch(n=>Bc(r,n,t))}async function rh(r){const t=At(r),n=Kr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Am;for(;uC(t);)try{const o=await G1(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,cC(t,o)}catch(o){await Bc(t,o)}QT(t)&&KT(t)}function uC(r){return Bs(r)&&r.U_.length<10}function cC(r,t){r.U_.push(t);const n=Kr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function QT(r){return Bs(r)&&!Kr(r).u_()&&r.U_.length>0}function KT(r){Kr(r).start()}async function hC(r){Kr(r).C_()}async function fC(r){const t=Kr(r);for(const n of r.U_)t.b_(n.mutations)}async function dC(r,t,n){const s=r.U_.shift(),o=Om.from(s,t,n);await FT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await rh(r)}async function mC(r,t){t&&Kr(r).S_&&await async function(s,o){if(function(f){return WI(f)&&f!==Z.ABORTED}(o.code)){const u=s.U_.shift();Kr(s).h_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rh(s)}}(r,t),QT(r)&&KT(r)}async function Vv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(ks,"RemoteStore received new credentials");const s=Bs(n);n.W_.add(3),await kl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await ih(n)}async function gC(r,t){const n=At(r);t?(n.W_.delete(2),await ih(n)):t||(n.W_.add(2),await kl(n),n.j_.set("Unknown"))}function io(r){return r.J_||(r.J_=function(n,s,o){const u=At(n);return u.M_(),new J1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:sC.bind(null,r),No:aC.bind(null,r),Lo:oC.bind(null,r),p_:lC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Bm(r)?zm(r):r.j_.set("Unknown")):(await r.J_.stop(),GT(r))})),r.J_}function Kr(r){return r.Y_||(r.Y_=function(n,s,o){const u=At(n);return u.M_(),new tC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:hC.bind(null,r),Lo:mC.bind(null,r),D_:fC.bind(null,r),v_:dC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await rh(r)):(await r.Y_.stop(),r.U_.length>0&&(ot(ks,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new qm(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),eo(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=dl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.Z_=new ee(gt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):_t():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ya{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ya(t,n,za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class yC{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=Pv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Pv(){return new zs(r=>mT(r),$c)}async function _C(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new pC,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hm(f,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&jm(n)}async function vC(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EC(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&jm(n)}function TC(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function jm(r){r.ia.forEach(t=>{t.next()})}var tm,xv;(xv=tm||(tm={}))._a="default",xv.Cache="cache";class AC{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.key=t}}class XT{constructor(t){this.key=t}}class SC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=gT(t),this.wa=new za(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new Uv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const N=o.get(E),C=Zc(this.query,S)?S:null,Q=!!N&&this.mutatedKeys.has(N.key),K=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;N&&C?N.data.isEqual(C.data)?Q!==K&&(s.track({type:3,doc:C}),P=!0):this.va(N,C)||(s.track({type:2,doc:C}),P=!0,(p&&this.ya(C,p)>0||y&&this.ya(C,y)<0)&&(m=!0)):!N&&C?(s.track({type:0,doc:C}),P=!0):N&&!C&&(s.track({type:1,doc:N}),P=!0,(p||y)&&(m=!0)),P&&(C?(f=f.add(C),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,S)=>function(C,Q){const K=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return K(C)-K(Q)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Ya(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Uv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new XT(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new YT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ya.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Gm="SyncEngine";class bC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class RC{constructor(t){this.key=t,this.Ba=!1}}class wC{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new zs(m=>mT(m),$c),this.qa=new Map,this.Qa=new Set,this.$a=new ee(gt.comparator),this.Ua=new Map,this.Ka=new Vm,this.Wa={},this.Ga=new Map,this.za=Ka.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function IC(r,t,n=!0){const s=e0(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await WT(s,t,n,!0),o}async function CC(r,t){const n=e0(r);await WT(n,t,!0,!1)}async function WT(r,t,n,s){const o=await F1(r.localStore,hi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await DC(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&HT(r.remoteStore,o),m}async function DC(r,t,n,s,o){r.Ha=(S,N,C)=>async function(K,P,R,M){let G=P.view.ba(R);G.ls&&(G=await Cv(K.localStore,P.query,!1).then(({documents:V})=>P.view.ba(V,G)));const it=M&&M.targetChanges.get(P.targetId),nt=M&&M.targetMismatches.get(P.targetId)!=null,ft=P.view.applyChanges(G,K.isPrimaryClient,it,nt);return kv(K,P.targetId,ft.Ma),ft.snapshot}(r,S,N,C);const u=await Cv(r.localStore,t,!0),f=new SC(t,u.gs),m=f.ba(u.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);kv(r,n,y.Ma);const E=new bC(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function OC(r,t,n){const s=At(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!$c(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lm(s.remoteStore,o.targetId),em(s,o.targetId)}).catch(to)):(em(s,o.targetId),await Zd(s.localStore,o.targetId,!0))}async function NC(r,t){const n=At(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lm(n.remoteStore,s.targetId))}async function MC(r,t,n){const s=zC(r);try{const o=await function(f,m){const p=At(f),y=Re.now(),E=m.reduce((C,Q)=>C.add(Q.key),Mt());let S,N;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let Q=Ki(),K=Mt();return p.ds.getEntries(C,E).next(P=>{Q=P,Q.forEach((R,M)=>{M.isValidDocument()||(K=K.add(R))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,Q)).next(P=>{S=P;const R=[];for(const M of m){const G=FI(M,S.get(M.key).overlayedDocument);G!=null&&R.push(new Wr(M.key,G,aT(G.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,R,m)}).next(P=>{N=P;const R=P.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(C,P.batchId,R)})}).then(()=>({batchId:N.batchId,changes:yT(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ee(Ct)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await zl(s,o.changes),await rh(s.remoteStore)}catch(o){const u=Hm(o,"Failed to persist write");n.reject(u)}}async function $T(r,t){const n=At(r);try{const s=await H1(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Gt(f.Ba):o.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await zl(n,s,t)}catch(s){await to(s)}}function Lv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const N of S.ta)N.sa(m)&&(y=!0)}),y&&jm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function VC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new ee(gt.comparator);f=f.insert(u,Ye.newNoDocument(u,Et.min()));const m=Mt().add(u),p=new eh(Et.min(),new Map,new ee(Ct),f,m);await $T(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),Fm(s)}else await Zd(s.localStore,t,!1).then(()=>em(s,t,n)).catch(to)}async function UC(r,t){const n=At(r),s=t.batch.batchId;try{const o=await q1(n.localStore,t);JT(n,s,null),ZT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zl(n,o)}catch(o){await to(o)}}async function PC(r,t,n){const s=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Gt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);JT(s,t,n),ZT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await zl(s,o)}catch(o){await to(o)}}function ZT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function JT(r,t,n){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function em(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||t0(r,s)})}function t0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Lm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Fm(r))}function kv(r,t,n){for(const s of n)s instanceof YT?(r.Ka.addReference(s.key,t),xC(r,s)):s instanceof XT?(ot(Gm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||t0(r,s.key)):_t()}function xC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ot(Gm,"New document in limbo: "+n),r.Qa.add(s),Fm(r))}function Fm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new gt($t.fromString(t)),s=r.za.next();r.Ua.set(s,new RC(n)),r.$a=r.$a.insert(n,s),HT(r.remoteStore,new xr(hi(Im(n.path)),s,"TargetPurposeLimboResolution",Yc.ae))}}async function zl(r,t,n){const s=At(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Pm.Yi(p.targetId,y);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$.forEach(y,N=>$.forEach(N.Hi,C=>E.persistence.referenceDelegate.addReference(S,N.targetId,C)).next(()=>$.forEach(N.Ji,C=>E.persistence.referenceDelegate.removeReference(S,N.targetId,C)))))}catch(S){if(!eo(S))throw S;ot(xm,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const C=E.Ts.get(N),Q=C.snapshotVersion,K=C.withLastLimboFreeSnapshotVersion(Q);E.Ts=E.Ts.insert(N,K)}}}(s.localStore,u))}async function LC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(Gm,"User change. New user:",t.toKey());const s=await kT(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new lt(Z.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zl(n,s.Rs)}}function kC(r,t){const n=At(r),s=n.Ua.get(t);if(s&&s.Ba)return Mt().add(s.key);{let o=Mt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function e0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VC.bind(null,t),t.La.p_=EC.bind(null,t.eventManager),t.La.Ja=TC.bind(null,t.eventManager),t}function zC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,t),t}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return B1(this.persistence,new L1,t.initialUser,this.serializer)}Xa(t){return new LT(Um.ri,this.serializer)}Za(t){return new K1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class BC extends qc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof zc);const s=this.persistence.referenceDelegate.garbageCollector;return new A1(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new LT(s=>zc.ri(s,n),this.serializer)}}class nm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LC.bind(null,this.syncEngine),await gC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yC}()}createDatastore(t){const n=nh(t.databaseInfo.databaseId),s=function(u){return new Z1(u)}(t.databaseInfo);return function(u,f,m,p){return new nC(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new rC(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Lv(this.syncEngine,n,0),function(){return Nv.D()?new Nv:new Y1}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,E){const S=new wC(o,u,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=At(o);ot(ks,"RemoteStore shutting down."),u.W_.add(5),await kl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class HC{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=WE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ot(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Hm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Nd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await kT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await jC(r);ot(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Vv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Vv(t.remoteStore,o)),r._onlineComponents=t}async function jC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Yr,"Using user provided OfflineComponentProvider");try{await Nd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Nd(r,new qc)}}else ot(Yr,"Using default OfflineComponentProvider"),await Nd(r,new BC(void 0));return r._offlineComponents}async function n0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Yr,"Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(ot(Yr,"Using default OnlineComponentProvider"),await zv(r,new nm))),r._onlineComponents}function GC(r){return n0(r).then(t=>t.syncEngine)}async function Bv(r){const t=await n0(r),n=t.eventManager;return n.onListen=IC.bind(null,t.syncEngine),n.onUnlisten=OC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function FC(r,t,n,s){if(t===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Hv(r){if(!gt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jv(r){if(gt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t()}function qr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s0,this.ssl=Gv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Gv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E1)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ah{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ww;switch(s.type){case"firstParty":return new tI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=qv.get(n);s&&(ot("ComponentProvider","Removing Datastore"),qv.delete(n),s.terminate())}(this),Promise.resolve()}}function QC(r,t,n,s={}){var o;const u=(r=qr(r,ah))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==s0&&u.host!==m&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Us(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ke.MOCK_USER;else{y=SS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(S)}r._authCredentials=new $w(new YE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new qs(this.firestore,t,this._query)}}class ln{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class Hr extends qs{constructor(t,n,s){super(t,n,Im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new gt(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function im(r,t,...n){if(r=Pe(r),r0("collection","path",t),r instanceof ah){const s=$t.fromString(t,...n);return jv(s),new Hr(r,null,s)}{if(!(r instanceof ln||r instanceof Hr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(t,...n));return jv(s),new Hr(r.firestore,null,s)}}function Hc(r,t,...n){if(r=Pe(r),arguments.length===1&&(t=WE.newId()),r0("doc","path",t),r instanceof ah){const s=$t.fromString(t,...n);return Hv(s),new ln(r,null,new gt(s))}{if(!(r instanceof ln||r instanceof Hr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(t,...n));return Hv(s),new ln(r.firestore,r instanceof Hr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BT(this,"async_queue_retry"),this.Su=()=>{const s=Od();s&&ot(Qv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=Od();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Vs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!eo(t))throw t;ot(Qv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=qm.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Yv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Xa extends ah{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Kv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function KC(r,t){const n=typeof r=="object"?r:lE(),s=typeof r=="string"?r:Uc,o=um(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TS("firestore");u&&QC(o,...u)}return o}function a0(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YC(r),r._firestoreClient}function YC(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new gI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,i0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new HC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wa(He.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wa(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class WC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}class o0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Wr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function l0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Ym{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Ym(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return jc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(l0(this.Lu)&&XC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class $C{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||nh(t)}ju(t,n,s,o=!1){return new Ym({Lu:t,methodName:n,zu:s,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(r){const t=r._freezeSettings(),n=nh(r._databaseId);return new $C(r._databaseId,!!t.ignoreUndefinedProperties,n)}function ZC(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);$m("Data must be an object, but it was:",f,s);const m=u0(s,f);let p,y;if(u.merge)p=new pn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const N=rm(t,S,n);if(!f.contains(N))throw new lt(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);h0(E,N)||E.push(N)}p=new pn(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new WC(new on(m),p,y)}class uh extends lh{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uh}}class Wm extends lh{_toFieldTransform(t){return new qI(t.path,new Cl)}isEqual(t){return t instanceof Wm}}function JC(r,t,n,s){const o=r.ju(1,t,n);$m("Data must be an object, but it was:",o,s);const u=[],f=on.empty();Xr(s,(p,y)=>{const E=Zm(t,p,n);y=Pe(y);const S=o.Uu(E);if(y instanceof uh)u.push(E);else{const N=Bl(y,S);N!=null&&(u.push(E),f.set(E,N))}});const m=new pn(u);return new o0(f,m,o.fieldTransforms)}function tD(r,t,n,s,o,u){const f=r.ju(1,t,n),m=[rm(t,s,n)],p=[o];if(u.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)m.push(rm(t,u[N])),p.push(u[N+1]);const y=[],E=on.empty();for(let N=m.length-1;N>=0;--N)if(!h0(y,m[N])){const C=m[N];let Q=p[N];Q=Pe(Q);const K=f.Uu(C);if(Q instanceof uh)y.push(C);else{const P=Bl(Q,K);P!=null&&(y.push(C),E.set(C,P))}}const S=new pn(y);return new o0(E,S,f.fieldTransforms)}function eD(r,t,n,s=!1){return Bl(n,r.ju(s?4:3,t))}function Bl(r,t){if(c0(r=Pe(r)))return $m("Unsupported field value:",t,r),u0(r,t);if(r instanceof lh)return function(s,o){if(!l0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Bl(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:kc(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(o.serializer,u)}}if(s instanceof Qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wa)return{bytesValue:DT(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Km)return function(f,m){return{mapValue:{fields:{[rT]:{stringValue:sT},[Pc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Cm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${sh(s)}`)}(r,t)}function u0(r,t){const n={};return ZE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(r,(s,o)=>{const u=Bl(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function c0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Qm||r instanceof Wa||r instanceof ln||r instanceof lh||r instanceof Km)}function $m(r,t,n){if(!c0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=sh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function rm(r,t,n){if((t=Pe(t))instanceof oh)return t._internalPath;if(typeof t=="string")return Zm(r,t);throw jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const nD=new RegExp("[~\\*/\\[\\]]");function Zm(r,t,n){if(t.search(nD)>=0)throw jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new oh(...t.split("."))._internalPath}catch{throw jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jc(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new lt(Z.INVALID_ARGUMENT,m+r+p)}function h0(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iD extends f0{data(){return super.data()}}function Jm(r,t){return typeof t=="string"?Zm(r,t):t instanceof oh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class d0 extends tg{}function sD(r,t,...n){let s=[];t instanceof tg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ng).length,m=u.filter(p=>p instanceof eg).length;if(f>1||f>0&&m>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class eg extends d0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new eg(t,n,s)}_apply(t){const n=this._parse(t);return m0(t._query,n),new qs(t.firestore,t.converter,Qd(t._query,n))}_parse(t){const n=Xm(t.firestore);return function(u,f,m,p,y,E,S){let N;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Wv(S,E);const Q=[];for(const K of S)Q.push(Xv(p,u,K));N={arrayValue:{values:Q}}}else N=Xv(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Wv(S,E),N=eD(m,f,S,E==="in"||E==="not-in");return pe.create(y,E,N)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ng extends tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ng(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)m0(f,p),f=Qd(f,p)}(t._query,n),new qs(t.firestore,t.converter,Qd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends d0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new ig(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Il(u,f)}(t._query,this._field,this._direction);return new qs(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new no(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function aD(r,t="asc"){const n=t,s=Jm("orderBy",r);return ig._create(s,n)}function Xv(r,t,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dT(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child($t.fromString(n));if(!gt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uv(r,new gt(s))}if(n instanceof ln)return uv(r,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(n)}.`)}function Wv(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m0(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class oD{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Xr(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Pc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ue(f.doubleValue));return new Km(u)}convertGeoPoint(t){return new Qm(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Wc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const n=Gr(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=$t.fromString(t);Gt(PT(s));const o=new Rl(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class g0 extends f0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class bc extends g0{data(t={}){return super.data(t)}}class uD{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new bc(this._firestore,this._userDataWriter,s.key,s,new gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class p0 extends oD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function hD(r,t,n,...s){r=qr(r,ln);const o=qr(r.firestore,Xa),u=Xm(o);let f;return f=typeof(t=Pe(t))=="string"||t instanceof oh?tD(u,"updateDoc",r._key,t,n,s):JC(u,"updateDoc",r._key,t),rg(o,[f.toMutation(r._key,Gn.exists(!0))])}function y0(r){return rg(qr(r.firestore,Xa),[new Dm(r._key,Gn.none())])}function _0(r,t){const n=qr(r.firestore,Xa),s=Hc(r),o=lD(r.converter,t);return rg(n,[ZC(Xm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function fD(r,...t){var n,s,o;r=Pe(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Yv(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Yv(t[f])){const S=t[f];t[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(r instanceof ln)y=qr(r.firestore,Xa),E=Im(r._key.path),p={next:S=>{t[f]&&t[f](dD(y,r,S))},error:t[f+1],complete:t[f+2]};else{const S=qr(r,qs);y=qr(S.firestore,Xa),E=S._query;const N=new p0(y);p={next:C=>{t[f]&&t[f](new uD(y,N,S,C))},error:t[f+1],complete:t[f+2]},rD(r._query)}return function(N,C,Q,K){const P=new qC(K),R=new AC(C,P,Q);return N.asyncQueue.enqueueAndForget(async()=>_C(await Bv(N),R)),()=>{P.su(),N.asyncQueue.enqueueAndForget(async()=>vC(await Bv(N),R))}}(a0(y),E,m,p)}function rg(r,t){return function(s,o){const u=new Vs;return s.asyncQueue.enqueueAndForget(async()=>MC(await GC(s),o,u)),u.promise}(a0(r),t)}function dD(r,t,n){const s=n.docs.get(t._key),o=new p0(r);return new g0(r,o,t._key,s,new gl(n.hasPendingWrites,n.fromCache),t.converter)}function v0(){return new Wm("serverTimestamp")}(function(t,n=!0){(function(o){Ja=o})($a),qa(new Ps("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Xa(new Zw(s.getProvider("auth-internal")),new eI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),zr($_,Z_,t),zr($_,Z_,"esm2017")})();const mD={apiKey:"AIzaSyBzRuCetPIyiB0IzAEPHuMUHkiMqNug7sY",authDomain:"keepme-only.firebaseapp.com",projectId:"keepme-only",storageBucket:"keepme-only.firebasestorage.app",messagingSenderId:"1007359821453",appId:"1:1007359821453:web:5d644c6a4565e4535704c4",measurementId:"G-H7ZKW33E29"},E0=oE(mD),Hn=Qw(E0);new ui;const Ba=KC(E0),T0=async()=>{try{const r=new ui;r.addScope("profile"),r.addScope("email");const t=await ew(Hn,r);await new Promise(n=>{const s=OE(Hn,o=>{o&&(n(o),s())})}),console.log("User Info:",t.user)}catch(r){console.error("Error signing in:",r.message)}};function A0(r){const t=document.getElementById("user-email"),n=document.getElementById("user-pic"),s=document.getElementById("user-name");r&&t&&s&&n?(t.textContent=r.email||"No Email",n.src=r.photoURL||"../assets/user.png",s.textContent=r.displayName||"No Name"):s&&t&&n&&(t.textContent="Not logged in",n.src="../assets/user.png",s.textContent="Guest")}OE(Hn,r=>{A0(r)});const S0=async()=>{try{await PR(Hn),A0(null),console.log("User signed out")}catch(r){console.error("Error signing out:",r.message)}};function gD({user:r}){const[t,n]=be.useState(!1),s=o=>{o.stopPropagation(),n(u=>!u)};return $A.useEffect(()=>{const o=()=>n(!1);return document.addEventListener("click",o),()=>{document.removeEventListener("click",o)}},[]),St.jsxs("header",{children:[St.jsx("h1",{children:"KeepMe"}),St.jsxs("div",{className:"user-profile",onClick:s,children:[St.jsx("img",{src:(r==null?void 0:r.photoURL)||"../assets/user.png",alt:"Profile",className:"profile-picture",onError:o=>o.target.src="../assets/user.png"}),t&&St.jsxs("div",{className:"user-menu",onClick:o=>o.stopPropagation(),children:[St.jsxs("div",{className:"menu-loggedin",children:[St.jsx("p",{className:"menu-user-email",id:"user-email",children:(r==null?void 0:r.email)||"Not logged in"}),r&&St.jsx("img",{src:(r==null?void 0:r.photoURL)||"../assets/user.png",alt:"User Profile",className:"menu-profile-pic",id:"user-pic",onError:o=>o.target.src="../assets/user.png"}),St.jsxs("p",{className:"menu-user-name",id:"user-name",children:["Hi, ",(r==null?void 0:r.displayName)||"Guest","!"]})]}),St.jsx("div",{className:"add-account",onClick:T0,children:" Add Another Account"}),St.jsx("button",{onClick:S0,style:{color:"black"},children:"Logout"})]})]})]})}const pD=new Date().getFullYear();function yD(){return St.jsx("footer",{className:"footer",children:St.jsx("div",{children:St.jsxs("p",{children:[" KeepMe ",pD.toString()]})})})}const _D=({fetchNotes:r})=>{const[t,n]=be.useState({title:"",content:""}),[s,o]=be.useState(!1),u=be.useRef(null),f=be.useRef(null),m=be.useRef(null),p=(S,N)=>{const C=N.target.innerText;n(Q=>({...Q,[S]:C}))},y=()=>{o(!0)},E=async()=>{if(!Hn.currentUser){alert("You must be logged in to save notes.");return}if(t.title.trim()||t.content.trim())try{const S=im(Ba,"users",Hn.currentUser.uid,"notes");await _0(S,{title:t.title,content:t.content,createdAt:v0()}),n({title:"",content:""}),f.current&&(f.current.innerText=""),m.current&&(m.current.innerText=""),r()}catch(S){console.error("Error adding note: ",S)}};return be.useEffect(()=>{function S(N){u.current&&!u.current.contains(N.target)&&o(!1)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),St.jsx("div",{className:"new-note-container",children:St.jsxs("div",{ref:u,className:`new-note ${s?"expanded":""}`,onClick:y,children:[s&&St.jsx("div",{ref:f,className:"note-title",contentEditable:!0,"data-placeholder":"Title",onInput:S=>p("title",S),suppressContentEditableWarning:!0}),St.jsx("div",{ref:m,className:"note-content",contentEditable:!0,"data-placeholder":"Take a note...",onInput:S=>p("content",S),suppressContentEditableWarning:!0}),s&&St.jsx("div",{className:"add-button",onClick:E,children:"+"})]})})};function vD({id:r,title:t,content:n,onDelete:s}){const[o,u]=be.useState(t),[f,m]=be.useState(n),p=be.useRef(null),y=be.useRef(null),E=async(C,Q)=>{if(!Hn.currentUser)return;const K=Hc(Ba,"users",Hn.currentUser.uid,"notes",r);try{await hD(K,{[C]:Q}),console.log(`Note updated: ${C} = ${Q}`)}catch(P){console.error("Error updating note:",P)}};async function S(){if(Hn.currentUser)try{const C=Hc(Ba,"users",Hn.currentUser.uid,"notes",r);await y0(C),s(r)}catch(C){console.error("Error deleting note:",C)}}const N=(C,Q,K,P)=>{P.preventDefault();const R=window.getSelection(),M=R.getRangeAt(0);Q(P.target.innerText),setTimeout(()=>{R.removeAllRanges(),R.addRange(M)},0)};return St.jsxs("div",{className:"notes",children:[St.jsx("h1",{ref:p,className:"note-title",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C=>E("title",C.target.innerText),onInput:C=>N("title",u),children:o}),St.jsx("p",{ref:y,className:"note-content",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C=>E("content",C.target.innerText),onInput:C=>N("content",m),children:f}),St.jsx("button",{className:"delete-button",onClick:S,children:"-"})]})}function ED(){const[r,t]=be.useState(null),[n,s]=be.useState(!0),[o,u]=be.useState([]),f=be.useRef(null);be.useEffect(()=>{f.current&&new fS(f.current,{itemSelector:".notes",columnWidth:".notes",gutter:3,fitWidth:!0})},[o]);const m=E=>{if(!E)return;const S=im(Ba,"users",E,"notes"),N=sD(S,aD("createdAt","desc"));return fD(N,C=>{const Q=C.docs.map(K=>({id:K.id,...K.data()}));u(Q)})};be.useEffect(()=>Hn.onAuthStateChanged(S=>{if(t(S),s(!1),S){const N=m(S.uid);return()=>N()}else u([])}),[]);const p=async E=>{if(r)try{await _0(im(Ba,"users",r.uid,"notes"),{title:E.title,content:E.content,createdAt:v0()}),m(r.uid)}catch(S){console.error("Error adding note:",S)}},y=async E=>{if(r)try{await y0(Hc(Ba,"users",r.uid,"notes",E)),console.log("Note deleted:",E),m(r.uid)}catch(S){console.error("Error deleting note:",S)}};return n?St.jsx("div",{className:"ispinner",children:[...Array(12)].map((E,S)=>St.jsx("div",{className:"ispinner-blade"},S))}):n?St.jsx("div",{className:"ispinner",children:[...Array(12)].map((E,S)=>St.jsx("div",{className:"ispinner-blade"},S))}):St.jsx(St.Fragment,{children:St.jsx("div",{className:"main-container",children:r?St.jsxs(St.Fragment,{children:[St.jsx(gD,{user:r,onLogout:S0}),St.jsx(_D,{fetchNotes:m,onAdd:p}),St.jsx("div",{className:"notes-container",ref:f,children:o.map(E=>St.jsx(vD,{id:E.id,title:E.title,content:E.content,onDelete:y},E.id))}),St.jsx(yD,{})]}):St.jsxs("div",{className:"login-page",children:[St.jsx("h1",{children:"KeepMe"}),St.jsx("button",{className:"login-w-google",onClick:T0,children:"Login with Google"})]})})})}rS.createRoot(document.getElementById("root")).render(St.jsx(be.StrictMode,{children:St.jsx(ED,{})}));
