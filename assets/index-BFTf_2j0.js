(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function IA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nd={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function CA(){if(F_)return ll;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var Q_;function DA(){return Q_||(Q_=1,nd.exports=CA()),nd.exports}var bt=DA(),id={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function OA(){if(K_)return At;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function $(D,Y,at){this.props=D,this.context=Y,this.refs=J,this.updater=at||H}$.prototype.isReactComponent={},$.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function pt(){}pt.prototype=$.prototype;function ht(D,Y,at){this.props=D,this.context=Y,this.refs=J,this.updater=at||H}var _t=ht.prototype=new pt;_t.constructor=ht,X(_t,$.prototype),_t.isPureReactComponent=!0;var qt=Array.isArray,yt={H:null,A:null,T:null,S:null},Dt=Object.prototype.hasOwnProperty;function M(D,Y,at,tt,et,St){return at=St.ref,{$$typeof:r,type:D,key:Y,ref:at!==void 0?at:null,props:St}}function w(D,Y){return M(D.type,Y,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function C(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return Y[at]})}var V=/\/+/g;function P(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):Y.toString(36)}function R(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ce(D,Y,at,tt,et){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case r:case t:Tt=!0;break;case A:return Tt=D._init,ce(Tt(D._payload),Y,at,tt,et)}}if(Tt)return et=et(D),Tt=tt===""?"."+P(D,0):tt,qt(et)?(at="",Tt!=null&&(at=Tt.replace(V,"$&/")+"/"),ce(et,Y,at,"",function(ne){return ne})):et!=null&&(S(et)&&(et=w(et,at+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(V,"$&/")+"/")+Tt)),Y.push(et)),1;Tt=0;var he=tt===""?".":tt+":";if(qt(D))for(var Lt=0;Lt<D.length;Lt++)tt=D[Lt],St=he+P(tt,Lt),Tt+=ce(tt,Y,at,St,et);else if(Lt=x(D),typeof Lt=="function")for(D=Lt.call(D),Lt=0;!(tt=D.next()).done;)tt=tt.value,St=he+P(tt,Lt++),Tt+=ce(tt,Y,at,St,et);else if(St==="object"){if(typeof D.then=="function")return ce(_e(D),Y,at,tt,et);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function W(D,Y,at){if(D==null)return D;var tt=[],et=0;return ce(D,tt,"","",function(St){return Y.call(at,St,et++)}),tt}function ft(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var lt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ht(){}return At.Children={map:W,forEach:function(D,Y,at){W(D,function(){Y.apply(this,arguments)},at)},count:function(D){var Y=0;return W(D,function(){Y++}),Y},toArray:function(D){return W(D,function(Y){return Y})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=$,At.Fragment=n,At.Profiler=l,At.PureComponent=ht,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,Y,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=X({},D.props),et=D.key,St=void 0;if(Y!=null)for(Tt in Y.ref!==void 0&&(St=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!Dt.call(Y,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&Y.ref===void 0||(tt[Tt]=Y[Tt]);var Tt=arguments.length-2;if(Tt===1)tt.children=at;else if(1<Tt){for(var he=Array(Tt),Lt=0;Lt<Tt;Lt++)he[Lt]=arguments[Lt+2];tt.children=he}return M(D.type,et,void 0,void 0,St,tt)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,Y,at){var tt,et={},St=null;if(Y!=null)for(tt in Y.key!==void 0&&(St=""+Y.key),Y)Dt.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var Tt=arguments.length-2;if(Tt===1)et.children=at;else if(1<Tt){for(var he=Array(Tt),Lt=0;Lt<Tt;Lt++)he[Lt]=arguments[Lt+2];et.children=he}if(D&&D.defaultProps)for(tt in Tt=D.defaultProps,Tt)et[tt]===void 0&&(et[tt]=Tt[tt]);return M(D,St,void 0,void 0,null,et)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=S,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:ft}},At.memo=function(D,Y){return{$$typeof:v,type:D,compare:Y===void 0?null:Y}},At.startTransition=function(D){var Y=yt.T,at={};yt.T=at;try{var tt=D(),et=yt.S;et!==null&&et(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Ht,lt)}catch(St){lt(St)}finally{yt.T=Y}},At.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},At.use=function(D){return yt.H.use(D)},At.useActionState=function(D,Y,at){return yt.H.useActionState(D,Y,at)},At.useCallback=function(D,Y){return yt.H.useCallback(D,Y)},At.useContext=function(D){return yt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,Y){return yt.H.useDeferredValue(D,Y)},At.useEffect=function(D,Y){return yt.H.useEffect(D,Y)},At.useId=function(){return yt.H.useId()},At.useImperativeHandle=function(D,Y,at){return yt.H.useImperativeHandle(D,Y,at)},At.useInsertionEffect=function(D,Y){return yt.H.useInsertionEffect(D,Y)},At.useLayoutEffect=function(D,Y){return yt.H.useLayoutEffect(D,Y)},At.useMemo=function(D,Y){return yt.H.useMemo(D,Y)},At.useOptimistic=function(D,Y){return yt.H.useOptimistic(D,Y)},At.useReducer=function(D,Y,at){return yt.H.useReducer(D,Y,at)},At.useRef=function(D){return yt.H.useRef(D)},At.useState=function(D){return yt.H.useState(D)},At.useSyncExternalStore=function(D,Y,at){return yt.H.useSyncExternalStore(D,Y,at)},At.useTransition=function(){return yt.H.useTransition()},At.version="19.0.0",At}var Y_;function Fd(){return Y_||(Y_=1,id.exports=OA()),id.exports}var dn=Fd();const NA=IA(dn);var rd={exports:{}},ul={},sd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function VA(){return X_||(X_=1,function(r){function t(W,ft){var lt=W.length;W.push(ft);t:for(;0<lt;){var Ht=lt-1>>>1,D=W[Ht];if(0<l(D,ft))W[Ht]=ft,W[lt]=D,lt=Ht;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ft=W[0],lt=W.pop();if(lt!==ft){W[0]=lt;t:for(var Ht=0,D=W.length,Y=D>>>1;Ht<Y;){var at=2*(Ht+1)-1,tt=W[at],et=at+1,St=W[et];if(0>l(tt,lt))et<D&&0>l(St,tt)?(W[Ht]=St,W[et]=lt,Ht=et):(W[Ht]=tt,W[at]=lt,Ht=at);else if(et<D&&0>l(St,lt))W[Ht]=St,W[et]=lt,Ht=et;else break t}}return ft}function l(W,ft){var lt=W.sortIndex-ft.sortIndex;return lt!==0?lt:W.id-ft.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,I=null,x=3,H=!1,X=!1,J=!1,$=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function _t(W){for(var ft=n(v);ft!==null;){if(ft.callback===null)s(v);else if(ft.startTime<=W)s(v),ft.sortIndex=ft.expirationTime,t(p,ft);else break;ft=n(v)}}function qt(W){if(J=!1,_t(W),!X)if(n(p)!==null)X=!0,_e();else{var ft=n(v);ft!==null&&ce(qt,ft.startTime-W)}}var yt=!1,Dt=-1,M=5,w=-1;function S(){return!(r.unstable_now()-w<M)}function C(){if(yt){var W=r.unstable_now();w=W;var ft=!0;try{t:{X=!1,J&&(J=!1,pt(Dt),Dt=-1),H=!0;var lt=x;try{e:{for(_t(W),I=n(p);I!==null&&!(I.expirationTime>W&&S());){var Ht=I.callback;if(typeof Ht=="function"){I.callback=null,x=I.priorityLevel;var D=Ht(I.expirationTime<=W);if(W=r.unstable_now(),typeof D=="function"){I.callback=D,_t(W),ft=!0;break e}I===n(p)&&s(p),_t(W)}else s(p);I=n(p)}if(I!==null)ft=!0;else{var Y=n(v);Y!==null&&ce(qt,Y.startTime-W),ft=!1}}break t}finally{I=null,x=lt,H=!1}ft=void 0}}finally{ft?V():yt=!1}}}var V;if(typeof ht=="function")V=function(){ht(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,R=P.port2;P.port1.onmessage=C,V=function(){R.postMessage(null)}}else V=function(){$(C,0)};function _e(){yt||(yt=!0,V())}function ce(W,ft){Dt=$(function(){W(r.unstable_now())},ft)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){X||H||(X=!0,_e())},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(W){switch(x){case 1:case 2:case 3:var ft=3;break;default:ft=x}var lt=x;x=ft;try{return W()}finally{x=lt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,ft){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var lt=x;x=W;try{return ft()}finally{x=lt}},r.unstable_scheduleCallback=function(W,ft,lt){var Ht=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ht+lt:Ht):lt=Ht,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=lt+D,W={id:A++,callback:ft,priorityLevel:W,startTime:lt,expirationTime:D,sortIndex:-1},lt>Ht?(W.sortIndex=lt,t(v,W),n(p)===null&&W===n(v)&&(J?(pt(Dt),Dt=-1):J=!0,ce(qt,lt-Ht))):(W.sortIndex=D,t(p,W),X||H||(X=!0,_e())),W},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(W){var ft=x;return function(){var lt=x;x=ft;try{return W.apply(this,arguments)}finally{x=lt}}}}(ad)),ad}var $_;function MA(){return $_||($_=1,sd.exports=VA()),sd.exports}var od={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function UA(){if(Z_)return je;Z_=1;var r=Fd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},je.flushSync=function(p){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=v,s.p=A,s.d.f()}},je.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(p,v))},je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},je.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:H}):A==="script"&&s.d.X(p,{crossOrigin:I,integrity:x,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(p)},je.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(p,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(p)},je.requestFormReset=function(p){s.d.r(p)},je.unstable_batchedUpdates=function(p,v){return p(v)},je.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var W_;function kA(){if(W_)return od.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),od.exports=UA(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function PA(){if(J_)return ul;J_=1;var r=MA(),t=Fd(),n=kA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),_t=Symbol.for("react.offscreen"),qt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function Dt(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case g:return"Portal";case A:return"Profiler";case v:return"StrictMode";case J:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case X:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pt:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case ht:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,V,P;function R(e){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",P=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+P}var _e=!1;function ce(e,i){if(!e||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===N.length)for(o=b.length-1,h=N.length-1;1<=o&&0<=h&&b[o]!==N[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==N[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==N[h]){var j=`
`+b[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?R(a):""}function W(e){switch(e.tag){case 26:case 27:case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ft(e){try{var i="";do i+=W(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function lt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function D(e){if(lt(e)!==e)throw Error(s(188))}function Y(e){var i=e.alternate;if(!i){if(i=lt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return D(h),e;if(f===o)return D(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function at(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=at(e),i!==null)return i;e=e.sibling}return null}var tt=Array.isArray,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Tt=[],he=-1;function Lt(e){return{current:e}}function ne(e){0>he||(e.current=Tt[he],Tt[he]=null,he--)}function Ft(e,i){he++,Tt[he]=e.current,e.current=i}var Ye=Lt(null),di=Lt(null),gn=Lt(null),Xi=Lt(null);function $i(e,i){switch(Ft(gn,i),Ft(di,e),Ft(Ye,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?E_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=E_(e),i=T_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Ye),Ft(Ye,i)}function mi(){ne(Ye),ne(di),ne(gn)}function no(e){e.memoizedState!==null&&Ft(Xi,e);var i=Ye.current,a=T_(i,e.type);i!==a&&(Ft(di,e),Ft(Ye,a))}function qs(e){di.current===e&&(ne(Ye),ne(di)),Xi.current===e&&(ne(Xi),il._currentValue=St)}var Hs=Object.prototype.hasOwnProperty,Yr=r.unstable_scheduleCallback,js=r.unstable_cancelCallback,ih=r.unstable_shouldYield,io=r.unstable_requestPaint,en=r.unstable_now,Bl=r.unstable_getCurrentPriorityLevel,ye=r.unstable_ImmediatePriority,Re=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,ql=r.unstable_LowPriority,ro=r.unstable_IdlePriority,rh=r.log,Xr=r.unstable_setDisableYieldValue,Zi=null,qe=null;function so(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}function jn(e){if(typeof rh=="function"&&Xr(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Zi,e)}catch{}}var Xe=Math.clz32?Math.clz32:jl,ao=Math.log,Hl=Math.LN2;function jl(e){return e>>>=0,e===0?32:31-(ao(e)/Hl|0)|0}var Gn=128,Wi=4194304;function Mn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pn(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Mn(a):(f&=E,f!==0?o=Mn(f):e||(y=E&~y,y!==0&&(o=Mn(y))))):(E=a&~h,E!==0?o=Mn(E):f!==0?o=Mn(f):e||(y=a&~y,y!==0&&(o=Mn(y)))),o===0?0:i!==0&&i!==o&&(i&h)===0&&(h=o&-o,y=i&-i,h>=y||h===32&&(y&4194176)!==0)?i:o}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Gs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Gn;return Gn<<=1,(Gn&4194176)===0&&(Gn=128),e}function tr(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function Fs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gl(e,i,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(a=y&~a;0<a;){var j=31-Xe(a),K=1<<j;E[j]=0,b[j]=-1;var z=N[j];if(z!==null)for(N[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&er(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Xe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Xe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ql(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function ir(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var Fn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Fn,ve="__reactProps$"+Fn,pi="__reactContainer$"+Fn,$r="__reactEvents$"+Fn,Qs="__reactListeners$"+Fn,Qn="__reactHandles$"+Fn,lo="__reactResources$"+Fn,rr="__reactMarker$"+Fn;function Zr(e){delete e[Ie],delete e[ve],delete e[$r],delete e[Qs],delete e[Qn]}function Un(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[Ie])return a;e=b_(e)}return i}e=a,a=e.parentNode}return null}function _i(e){if(e=e[Ie]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function sr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ar(e){var i=e[lo];return i||(i=e[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(e){e[rr]=!0}var uo=new Set,Ks={};function an(e,i){nn(e,i),nn(e+"Capture",i)}function nn(e,i){for(Ks[e]=i,e=0;e<i.length;e++)uo.add(i[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Kl(e){return Hs.call(ho,e)?!0:Hs.call(co,e)?!1:sh.test(e)?ho[e]=!0:(co[e]=!0,!1)}function or(e,i,a){if(Kl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function lr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function _n(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ah(e){var i=Yl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Wr(e){e._valueTracker||(e._valueTracker=ah(e))}function fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=Yl(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function ie(e){return e.replace(yi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(e,i,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Xs(e,y,$e(i)):a!=null?Xs(e,y,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Jr(e,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Xs(e,i,a){i==="number"&&Ys(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ts(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function cr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function yn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||oh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Xl(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&mo(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&mo(e,f,i[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(e){return uh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vn=null;function $s(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function Ti(e){var i=_i(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[ve]||null;if(!h)throw Error(s(90));ur(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&fo(o)}break t;case"textarea":ts(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&xt(e,!!a.multiple,i,!1)}}}var po=!1;function $l(e,i,a){if(po)return e(i,a);po=!0;try{var o=e(i);return o}finally{if(po=!1,(vi!==null||Ei!==null)&&(qu(),vi&&(i=vi,e=Ei,Ei=vi=null,Ti(i),e)))for(i=0;i<e.length;i++)Ti(e[i])}}function es(e,i){var a=e.stateNode;if(a===null)return null;var o=a[ve]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var En=!1;if(on)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){En=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{En=!1}var Yn=null,hr=null,Ai=null;function _o(){if(Ai)return Ai;var e,i=hr,a=i.length,o,h="value"in Yn?Yn.value:Yn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return Ai=h.slice(e,1<o?1-o:void 0)}function Xn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function yo(){return!1}function Ce(e){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$n:yo,this.isPropagationStopped=yo,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Ce(jt),is=C({},jt,{view:0,detail:0}),Zl=Ce(is),Ws,Js,Zn,rs=C({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Ws=e.screenX-Zn.screenX,Js=e.screenY-Zn.screenY):Js=Ws=0,Zn=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Tn=Ce(rs),Wl=C({},rs,{dataTransfer:0}),ch=Ce(Wl),ss=C({},is,{relatedTarget:0}),ta=Ce(ss),vo=C({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Ce(vo),Jl=C({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=Ce(Jl),hh=C({},jt,{data:0}),Eo=Ce(hh),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=eu[e])?!!i[e]:!1}function os(){return To}var nu=C({},is,{key:function(e){if(e.key){var i=as[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=Ce(nu),iu=C({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ce(iu),Si=C({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),ru=Ce(Si),su=C({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Ce(su),ou=C({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Ce(ou),Ze=C({},jt,{newState:0,oldState:0}),lu=Ce(Ze),uu=[9,13,27,32],Wn=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var m=on&&"TextEvent"in window&&!u,_=on&&(!Wn||u&&8<u&&11>=u),T=" ",k=!1;function B(e,i){switch(e){case"keyup":return uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ee(e,i){switch(e){case"compositionend":return Z(i);case"keypress":return i.which!==32?null:(k=!0,T);case"textInput":return e=i.data,e===T&&k?null:e;default:return null}}function Ut(e,i){if(Mt)return e==="compositionend"||!Wn&&B(e,i)?(e=_o(),Ai=hr=Yn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function bi(e,i,a,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,i=Qu(i,"onChange"),0<i.length&&(a=new Zs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ue=null,Jn=null;function So(e){g_(e,0)}function cu(e){var i=sr(e);if(fo(i))return e}function Gm(e,i){if(e==="change")return i}var Fm=!1;if(on){var fh;if(on){var dh="oninput"in document;if(!dh){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),dh=typeof Qm.oninput=="function"}fh=dh}else fh=!1;Fm=fh&&(!document.documentMode||9<document.documentMode)}function Km(){Ue&&(Ue.detachEvent("onpropertychange",Ym),Jn=Ue=null)}function Ym(e){if(e.propertyName==="value"&&cu(Jn)){var i=[];bi(i,Jn,e,$s(e)),$l(So,i)}}function i0(e,i,a){e==="focusin"?(Km(),Ue=i,Jn=a,Ue.attachEvent("onpropertychange",Ym)):e==="focusout"&&Km()}function r0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(Jn)}function s0(e,i){if(e==="click")return cu(i)}function a0(e,i){if(e==="input"||e==="change")return cu(i)}function o0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:o0;function bo(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Hs.call(i,h)||!ln(e[h],i[h]))return!1}return!0}function Xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $m(e,i){var a=Xm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xm(a)}}function Zm(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Zm(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Wm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ys(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ys(e.document)}return i}function mh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function l0(e,i){var a=Wm(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&Zm(i.ownerDocument.documentElement,i)){if(o!==null&&mh(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,f=Math.min(o.start,h);o=o.end===void 0?f:Math.min(o.end,h),!a.extend&&f>o&&(h=o,o=f,f=h),h=$m(i,f);var y=$m(i,o);h&&y&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>o?(a.addRange(e),a.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var u0=on&&"documentMode"in document&&11>=document.documentMode,sa=null,gh=null,wo=null,ph=!1;function Jm(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ph||sa==null||sa!==Ys(o)||(o=sa,"selectionStart"in o&&mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&bo(wo,o)||(wo=o,o=Qu(gh,"onSelect"),0<o.length&&(i=new Zs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=sa)))}function ls(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var aa={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},_h={},tg={};on&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function us(e){if(_h[e])return _h[e];if(!aa[e])return e;var i=aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return _h[e]=i[a];return e}var eg=us("animationend"),ng=us("animationiteration"),ig=us("animationstart"),c0=us("transitionrun"),h0=us("transitionstart"),f0=us("transitioncancel"),rg=us("transitionend"),sg=new Map,ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(e,i){sg.set(e,i),an(i,[e])}var An=[],oa=0,yh=0;function hu(){for(var e=oa,i=yh=oa=0;i<e;){var a=An[i];An[i++]=null;var o=An[i];An[i++]=null;var h=An[i];An[i++]=null;var f=An[i];if(An[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&og(a,h,f)}}function fu(e,i,a,o){An[oa++]=e,An[oa++]=i,An[oa++]=a,An[oa++]=o,yh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vh(e,i,a,o){return fu(e,i,a,o),du(e)}function fr(e,i){return fu(e,null,null,i),du(e)}function og(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&i!==null&&e.tag===3&&(f=e.stateNode,h=31-Xe(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[i]:e.push(i),i.lane=a|536870912)}function du(e){if(50<$o)throw $o=0,Rf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var la={},lg=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ft(i)},lg.set(e,i),i)}return{value:e,source:i,stack:ft(i)}}var ua=[],ca=0,mu=null,gu=0,bn=[],wn=0,cs=null,wi=1,Ri="";function hs(e,i){ua[ca++]=gu,ua[ca++]=mu,mu=e,gu=i}function ug(e,i,a){bn[wn++]=wi,bn[wn++]=Ri,bn[wn++]=cs,cs=e;var o=wi;e=Ri;var h=32-Xe(o)-1;o&=~(1<<h),a+=1;var f=32-Xe(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,wi=1<<32-Xe(i)+h|a<<h|o,Ri=f+e}else wi=1<<f|a<<h|o,Ri=e}function Eh(e){e.return!==null&&(hs(e,1),ug(e,1,0))}function Th(e){for(;e===mu;)mu=ua[--ca],ua[ca]=null,gu=ua[--ca],ua[ca]=null;for(;e===cs;)cs=bn[--wn],bn[wn]=null,Ri=bn[--wn],bn[wn]=null,wi=bn[--wn],bn[wn]=null}var We=null,ke=null,zt=!1,Pn=null,ti=!1,Ah=Error(s(519));function fs(e){var i=Error(s(418,""));throw Co(Sn(i,e)),Ah}function cg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ie]=e,i[ve]=o,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Wo.length;a++)Vt(Wo[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Jr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Wr(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),cr(i,o.value,o.defaultValue,o.children),Wr(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||v_(i.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),o.onScroll!=null&&Vt("scroll",i),o.onScrollEnd!=null&&Vt("scrollend",i),o.onClick!=null&&(i.onclick=Ku),i=!0):i=!1,i||fs(e)}function hg(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:ti=!0;return;case 5:case 13:ti=!1;return;default:We=We.return}}function Ro(e){if(e!==We)return!1;if(!zt)return hg(e),zt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jf(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&ke&&fs(e),hg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ke=xn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ke=null}}else ke=We?xn(e.stateNode.nextSibling):null;return!0}function Io(){ke=We=null,zt=!1}function Co(e){Pn===null?Pn=[e]:Pn.push(e)}var Do=Error(s(460)),fg=Error(s(474)),Sh={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(){}function mg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(pu,pu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e;default:if(typeof i.status=="string")i.then(pu,pu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e}throw Oo=i,Do}}var Oo=null;function gg(){if(Oo===null)throw Error(s(459));var e=Oo;return Oo=null,e}var ha=null,No=0;function _u(e){var i=No;return No+=1,ha===null&&(ha=[]),mg(ha,e,i)}function Vo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function yu(e,i){throw i.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function pg(e){var i=e._init;return i(e._payload)}function _g(e){function i(U,O){if(e){var L=U.deletions;L===null?(U.deletions=[O],U.flags|=16):L.push(O)}}function a(U,O){if(!e)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=br(U,O),U.index=0,U.sibling=null,U}function f(U,O,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<O?(U.flags|=33554434,O):L):(U.flags|=33554434,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,O,L,G){return O===null||O.tag!==6?(O=yf(L,U.mode,G),O.return=U,O):(O=h(O,L),O.return=U,O)}function b(U,O,L,G){var it=L.type;return it===p?j(U,O,L.props.children,G,L.key):O!==null&&(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ht&&pg(it)===O.type)?(O=h(O,L.props),Vo(O,L),O.return=U,O):(O=Pu(L.type,L.key,L.props,null,U.mode,G),Vo(O,L),O.return=U,O)}function N(U,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=vf(L,U.mode,G),O.return=U,O):(O=h(O,L.children||[]),O.return=U,O)}function j(U,O,L,G,it){return O===null||O.tag!==7?(O=As(L,U.mode,G,it),O.return=U,O):(O=h(O,L),O.return=U,O)}function K(U,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=yf(""+O,U.mode,L),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return L=Pu(O.type,O.key,O.props,null,U.mode,L),Vo(L,O),L.return=U,L;case g:return O=vf(O,U.mode,L),O.return=U,O;case ht:var G=O._init;return O=G(O._payload),K(U,O,L)}if(tt(O)||Dt(O))return O=As(O,U.mode,L,null),O.return=U,O;if(typeof O.then=="function")return K(U,_u(O),L);if(O.$$typeof===H)return K(U,Mu(U,O),L);yu(U,O)}return null}function z(U,O,L,G){var it=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(U,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?b(U,O,L,G):null;case g:return L.key===it?N(U,O,L,G):null;case ht:return it=L._init,L=it(L._payload),z(U,O,L,G)}if(tt(L)||Dt(L))return it!==null?null:j(U,O,L,G,null);if(typeof L.then=="function")return z(U,O,_u(L),G);if(L.$$typeof===H)return z(U,O,Mu(U,L),G);yu(U,L)}return null}function q(U,O,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(O,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?L:G.key)||null,b(O,U,G,it);case g:return U=U.get(G.key===null?L:G.key)||null,N(O,U,G,it);case ht:var It=G._init;return G=It(G._payload),q(U,O,L,G,it)}if(tt(G)||Dt(G))return U=U.get(L)||null,j(O,U,G,it,null);if(typeof G.then=="function")return q(U,O,L,_u(G),it);if(G.$$typeof===H)return q(U,O,L,Mu(O,G),it);yu(O,G)}return null}function st(U,O,L,G){for(var it=null,It=null,ot=O,ct=O=0,Ve=null;ot!==null&&ct<L.length;ct++){ot.index>ct?(Ve=ot,ot=null):Ve=ot.sibling;var Bt=z(U,ot,L[ct],G);if(Bt===null){ot===null&&(ot=Ve);break}e&&ot&&Bt.alternate===null&&i(U,ot),O=f(Bt,O,ct),It===null?it=Bt:It.sibling=Bt,It=Bt,ot=Ve}if(ct===L.length)return a(U,ot),zt&&hs(U,ct),it;if(ot===null){for(;ct<L.length;ct++)ot=K(U,L[ct],G),ot!==null&&(O=f(ot,O,ct),It===null?it=ot:It.sibling=ot,It=ot);return zt&&hs(U,ct),it}for(ot=o(ot);ct<L.length;ct++)Ve=q(ot,U,ct,L[ct],G),Ve!==null&&(e&&Ve.alternate!==null&&ot.delete(Ve.key===null?ct:Ve.key),O=f(Ve,O,ct),It===null?it=Ve:It.sibling=Ve,It=Ve);return e&&ot.forEach(function(Nr){return i(U,Nr)}),zt&&hs(U,ct),it}function vt(U,O,L,G){if(L==null)throw Error(s(151));for(var it=null,It=null,ot=O,ct=O=0,Ve=null,Bt=L.next();ot!==null&&!Bt.done;ct++,Bt=L.next()){ot.index>ct?(Ve=ot,ot=null):Ve=ot.sibling;var Nr=z(U,ot,Bt.value,G);if(Nr===null){ot===null&&(ot=Ve);break}e&&ot&&Nr.alternate===null&&i(U,ot),O=f(Nr,O,ct),It===null?it=Nr:It.sibling=Nr,It=Nr,ot=Ve}if(Bt.done)return a(U,ot),zt&&hs(U,ct),it;if(ot===null){for(;!Bt.done;ct++,Bt=L.next())Bt=K(U,Bt.value,G),Bt!==null&&(O=f(Bt,O,ct),It===null?it=Bt:It.sibling=Bt,It=Bt);return zt&&hs(U,ct),it}for(ot=o(ot);!Bt.done;ct++,Bt=L.next())Bt=q(ot,U,ct,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?ct:Bt.key),O=f(Bt,O,ct),It===null?it=Bt:It.sibling=Bt,It=Bt);return e&&ot.forEach(function(RA){return i(U,RA)}),zt&&hs(U,ct),it}function ae(U,O,L,G){if(typeof L=="object"&&L!==null&&L.type===p&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;O!==null;){if(O.key===it){if(it=L.type,it===p){if(O.tag===7){a(U,O.sibling),G=h(O,L.props.children),G.return=U,U=G;break t}}else if(O.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ht&&pg(it)===O.type){a(U,O.sibling),G=h(O,L.props),Vo(G,L),G.return=U,U=G;break t}a(U,O);break}else i(U,O);O=O.sibling}L.type===p?(G=As(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Pu(L.type,L.key,L.props,null,U.mode,G),Vo(G,L),G.return=U,U=G)}return y(U);case g:t:{for(it=L.key;O!==null;){if(O.key===it)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(U,O.sibling),G=h(O,L.children||[]),G.return=U,U=G;break t}else{a(U,O);break}else i(U,O);O=O.sibling}G=vf(L,U.mode,G),G.return=U,U=G}return y(U);case ht:return it=L._init,L=it(L._payload),ae(U,O,L,G)}if(tt(L))return st(U,O,L,G);if(Dt(L)){if(it=Dt(L),typeof it!="function")throw Error(s(150));return L=it.call(L),vt(U,O,L,G)}if(typeof L.then=="function")return ae(U,O,_u(L),G);if(L.$$typeof===H)return ae(U,O,Mu(U,L),G);yu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(U,O.sibling),G=h(O,L),G.return=U,U=G):(a(U,O),G=yf(L,U.mode,G),G.return=U,U=G),y(U)):a(U,O)}return function(U,O,L,G){try{No=0;var it=ae(U,O,L,G);return ha=null,it}catch(ot){if(ot===Do)throw ot;var It=Dn(29,ot,null,U.mode);return It.lanes=G,It.return=U,It}finally{}}}var ds=_g(!0),yg=_g(!1),fa=Lt(null),vu=Lt(0);function vg(e,i){e=Li,Ft(vu,e),Ft(fa,i),Li=e|i.baseLanes}function bh(){Ft(vu,Li),Ft(fa,fa.current)}function wh(){Li=vu.current,ne(fa),ne(vu)}var Rn=Lt(null),ei=null;function dr(e){var i=e.alternate;Ft(Ae,Ae.current&1),Ft(Rn,e),ei===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(ei=e)}function Eg(e){if(e.tag===22){if(Ft(Ae,Ae.current),Ft(Rn,e),ei===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ei=e)}}else mr()}function mr(){Ft(Ae,Ae.current),Ft(Rn,Rn.current)}function Ii(e){ne(Rn),ei===e&&(ei=null),ne(Ae)}var Ae=Lt(0);function Eu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var d0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},m0=r.unstable_scheduleCallback,g0=r.unstable_NormalPriority,Se={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new d0,data:new Map,refCount:0}}function Mo(e){e.refCount--,e.refCount===0&&m0(g0,function(){e.controller.abort()})}var Uo=null,Ih=0,da=0,ma=null;function p0(e,i){if(Uo===null){var a=Uo=[];Ih=0,da=Uf(),ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ih++,i.then(Tg,Tg),i}function Tg(){if(--Ih===0&&Uo!==null){ma!==null&&(ma.status="fulfilled");var e=Uo;Uo=null,da=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function _0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Ag=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&p0(e,i),Ag!==null&&Ag(e,i)};var ms=Lt(null);function Ch(){var e=ms.current;return e!==null?e:Xt.pooledCache}function Tu(e,i){i===null?Ft(ms,ms.current):Ft(ms,i.pool)}function Sg(){var e=Ch();return e===null?null:{parent:Se._currentValue,pool:e}}var gr=0,wt=null,Qt=null,fe=null,Au=!1,ga=!1,gs=!1,Su=0,ko=0,pa=null,y0=0;function le(){throw Error(s(321))}function Dh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!ln(e[a],i[a]))return!1;return!0}function Oh(e,i,a,o,h,f){return gr=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?ps:pr,gs=!1,f=a(o,h),gs=!1,ga&&(f=wg(i,a,o,h)),bg(e),f}function bg(e){S.H=ni;var i=Qt!==null&&Qt.next!==null;if(gr=0,fe=Qt=wt=null,Au=!1,ko=0,pa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Vu(e)&&(Oe=!0))}function wg(e,i,a,o){wt=e;var h=0;do{if(ga&&(pa=null),ko=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,fe=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=_s,f=i(a,o)}while(ga);return f}function v0(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Po(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(wt.flags|=1024),i}function Nh(){var e=Su!==0;return Su=0,e}function Vh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Mh(e){if(Au){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Au=!1}gr=0,fe=Qt=wt=null,ga=!1,ko=Su=0,pa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?wt.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Qt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=fe===null?wt.memoizedState:fe.next;if(i!==null)fe=i,Qt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?wt.memoizedState=fe=e:fe=fe.next=e}return fe}var bu;bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Po(e){var i=ko;return ko+=1,pa===null&&(pa=[]),e=mg(pa,e,i),i=wt,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ps:pr),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===H)return He(e)}throw Error(s(438,String(e)))}function Uh(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=bu(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=qt;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Ru(e){var i=de();return kh(i,Qt,e)}function kh(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=y=null,b=null,N=i,j=!1;do{var K=N.lane&-536870913;if(K!==N.lane?(kt&K)===K:(gr&K)===K){var z=N.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),K===da&&(j=!0);else if((gr&z)===z){N=N.next,z===da&&(j=!0);continue}else K={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,wt.lanes|=z,wr|=z;K=N.action,gs&&a(f,K),f=N.hasEagerState?N.eagerState:a(f,K)}else z={lane:K,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=z,y=f):b=b.next=z,wt.lanes|=K,wr|=K;N=N.next}while(N!==null&&N!==i);if(b===null?y=f:b.next=E,!ln(f,e.memoizedState)&&(Oe=!0,j&&(a=ma,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ph(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);ln(f,i.memoizedState)||(Oe=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Rg(e,i,a){var o=wt,h=de(),f=zt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!ln((Qt||h).memoizedState,a);if(y&&(h.memoizedState=a,Oe=!0),h=h.queue,zh(Dg.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,_a(9,Cg.bind(null,o,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(gr&60)!==0||Ig(o,i,a)}return a}function Ig(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=bu(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Cg(e,i,a,o){i.value=a,i.getSnapshot=o,Og(i)&&Ng(e)}function Dg(e,i,a){return a(function(){Og(i)&&Ng(e)})}function Og(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!ln(e,a)}catch{return!0}}function Ng(e){var i=fr(e,2);i!==null&&Je(i,e,2)}function Lh(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),gs){jn(!0);try{a()}finally{jn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function Vg(e,i,a,o){return e.baseState=a,kh(e,Qt,typeof o=="function"?o:Ci)}function E0(e,i,a,o,h){if(Du(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Mg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Mg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=S.T,y={};S.T=y;try{var E=a(h,o),b=S.S;b!==null&&b(y,E),Ug(e,i,E)}catch(N){xh(e,i,N)}finally{S.T=f}}else try{f=a(h,o),Ug(e,i,f)}catch(N){xh(e,i,N)}}function Ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){kg(e,i,o)},function(o){return xh(e,i,o)}):kg(e,i,a)}function kg(e,i,a){i.status="fulfilled",i.value=a,Pg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Mg(e,a)))}function xh(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Pg(i),i=i.next;while(i!==o)}e.action=null}function Pg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Lg(e,i){return i}function xg(e,i){if(zt){var a=Xt.formState;if(a!==null){t:{var o=wt;if(zt){if(ke){e:{for(var h=ke,f=ti;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ke=xn(h.nextSibling),o=h.data==="F!";break t}}fs(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:i},a.queue=o,a=np.bind(null,wt,o),o.dispatch=a,o=Lh(!1),f=Gh.bind(null,wt,!1,o.queue),o=rn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=E0.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function zg(e){var i=de();return Bg(i,Qt,e)}function Bg(e,i,a){i=kh(e,i,Lg)[0],e=Ru(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Po(i):i;var o=de(),h=o.queue,f=h.dispatch;return a!==o.memoizedState&&(wt.flags|=2048,_a(9,T0.bind(null,h,a),{destroy:void 0},null)),[i,f,e]}function T0(e,i){e.action=i}function qg(e){var i=de(),a=Qt;if(a!==null)return Bg(i,a,e);de(),i=i.memoizedState,a=de();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function _a(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=wt.updateQueue,i===null&&(i=bu(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Hg(){return de().memoizedState}function Iu(e,i,a,o){var h=rn();wt.flags|=e,h.memoizedState=_a(1|i,a,{destroy:void 0},o===void 0?null:o)}function Cu(e,i,a,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&Dh(o,Qt.memoizedState.deps)?h.memoizedState=_a(i,a,f,o):(wt.flags|=e,h.memoizedState=_a(1|i,a,f,o))}function jg(e,i){Iu(8390656,8,e,i)}function zh(e,i){Cu(2048,8,e,i)}function Gg(e,i){return Cu(4,2,e,i)}function Fg(e,i){return Cu(4,4,e,i)}function Qg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Kg(e,i,a){a=a!=null?a.concat([e]):null,Cu(4,4,Qg.bind(null,i,e),a)}function Bh(){}function Yg(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Dh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Xg(e,i){var a=de();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Dh(i,o[1]))return o[0];if(o=e(),gs){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[o,i],o}function qh(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Zp(),wt.lanes|=e,wr|=e,a)}function $g(e,i,a,o){return ln(a,i)?a:fa.current!==null?(e=qh(e,a,o),ln(e,i)||(Oe=!0),e):(gr&42)===0?(Oe=!0,e.memoizedState=a):(e=Zp(),wt.lanes|=e,wr|=e,i)}function Zg(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,Gh(e,!1,i,a);try{var b=h(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=_0(b,o);Lo(e,i,j,fn(e))}else Lo(e,i,o,fn(e))}catch(K){Lo(e,i,{then:function(){},status:"rejected",reason:K},fn())}finally{et.p=f,S.T=y}}function A0(){}function Hh(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Wg(e).queue;Zg(e,h,i,St,a===null?A0:function(){return Jg(e),a(o)})}function Wg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:St},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Jg(e){var i=Wg(e).next.queue;Lo(e,i,{},fn())}function jh(){return He(il)}function tp(){return de().memoizedState}function ep(){return de().memoizedState}function S0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=vr(a);var o=Er(i,e,a);o!==null&&(Je(o,i,a),Bo(o,i,a)),i={cache:Rh()},e.payload=i;return}i=i.return}}function b0(e,i,a){var o=fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Du(e)?ip(i,a):(a=vh(e,i,a,o),a!==null&&(Je(a,e,o),rp(a,i,o)))}function np(e,i,a){var o=fn();Lo(e,i,a,o)}function Lo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Du(e))ip(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,ln(E,y))return fu(e,i,h,0),Xt===null&&hu(),!1}catch{}finally{}if(a=vh(e,i,h,o),a!==null)return Je(a,e,o),rp(a,i,o),!0}return!1}function Gh(e,i,a,o){if(o={lane:2,revertLane:Uf(),action:o,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(i)throw Error(s(479))}else i=vh(e,a,o,2),i!==null&&Je(i,e,2)}function Du(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function ip(e,i){ga=Au=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function rp(e,i,a){if((a&4194176)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,nr(e,a)}}var ni={readContext:He,use:wu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ni.useCacheRefresh=le,ni.useMemoCache=le,ni.useHostTransitionStatus=le,ni.useFormState=le,ni.useActionState=le,ni.useOptimistic=le;var ps={readContext:He,use:wu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:jg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Iu(4194308,4,Qg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Iu(4194308,4,e,i)},useInsertionEffect:function(e,i){Iu(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var o=e();if(gs){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=rn();if(a!==void 0){var h=a(i);if(gs){jn(!0);try{a(i)}finally{jn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b0.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Lh(e);var i=e.queue,a=np.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Bh,useDeferredValue:function(e,i){var a=rn();return qh(a,e,i)},useTransition:function(){var e=Lh(!1);return e=Zg.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=rn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(kt&60)!==0||Ig(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,jg(Dg.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,Cg.bind(null,o,f,a,i),{destroy:void 0},null),a},useId:function(){var e=rn(),i=Xt.identifierPrefix;if(zt){var a=Ri,o=wi;a=(o&~(1<<32-Xe(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=Su++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=y0++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return rn().memoizedState=S0.bind(null,wt)}};ps.useMemoCache=Uh,ps.useHostTransitionStatus=jh,ps.useFormState=xg,ps.useActionState=xg,ps.useOptimistic=function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gh.bind(null,wt,!0,a),a.dispatch=i,[e,i]};var pr={readContext:He,use:wu,useCallback:Yg,useContext:He,useEffect:zh,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Fg,useMemo:Xg,useReducer:Ru,useRef:Hg,useState:function(){return Ru(Ci)},useDebugValue:Bh,useDeferredValue:function(e,i){var a=de();return $g(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Ru(Ci)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Po(e),i]},useSyncExternalStore:Rg,useId:tp};pr.useCacheRefresh=ep,pr.useMemoCache=Uh,pr.useHostTransitionStatus=jh,pr.useFormState=zg,pr.useActionState=zg,pr.useOptimistic=function(e,i){var a=de();return Vg(a,Qt,e,i)};var _s={readContext:He,use:wu,useCallback:Yg,useContext:He,useEffect:zh,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Fg,useMemo:Xg,useReducer:Ph,useRef:Hg,useState:function(){return Ph(Ci)},useDebugValue:Bh,useDeferredValue:function(e,i){var a=de();return Qt===null?qh(a,e,i):$g(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Ph(Ci)[0],i=de().memoizedState;return[typeof e=="boolean"?e:Po(e),i]},useSyncExternalStore:Rg,useId:tp};_s.useCacheRefresh=ep,_s.useMemoCache=Uh,_s.useHostTransitionStatus=jh,_s.useFormState=qg,_s.useActionState=qg,_s.useOptimistic=function(e,i){var a=de();return Qt!==null?Vg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Fh(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qh={isMounted:function(e){return(e=e._reactInternals)?lt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=fn(),h=vr(o);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,o),i!==null&&(Je(i,e,o),Bo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=fn(),h=vr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,o),i!==null&&(Je(i,e,o),Bo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),o=vr(a);o.tag=2,i!=null&&(o.callback=i),i=Er(e,o,a),i!==null&&(Je(i,e,a),Bo(i,e,a))}};function sp(e,i,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!bo(a,o)||!bo(h,f):!0}function ap(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Qh.enqueueReplaceState(i,i.state,null)}function ys(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function op(e){Ou(e)}function lp(e){console.error(e)}function up(e){Ou(e)}function Nu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function cp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(e,i)},a}function hp(e){return e=vr(e),e.tag=3,e}function fp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){cp(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){cp(i,a,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function w0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&zo(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ei===null?Df():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Sh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Nf(e,o,h)),!1;case 22:return a.flags|=65536,o===Sh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Nf(e,o,h)),!1}throw Error(s(435,a.tag))}return Nf(e,o,h),Df(),!1}if(zt)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Ah&&(e=Error(s(422),{cause:o}),Co(Sn(e,a)))):(o!==Ah&&(i=Error(s(423),{cause:o}),Co(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Sn(o,a),h=Kh(e.stateNode,o,h),uf(e,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:o});if(f=Sn(f,a),Yo===null?Yo=[f]:Yo.push(f),se!==4&&(se=2),i===null)return!0;o=Sn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Kh(a.stateNode,o,e),uf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=hp(h),fp(h,e,a,o),uf(a,h),!1}a=a.return}while(a!==null);return!1}var dp=Error(s(461)),Oe=!1;function Pe(e,i,a,o){i.child=e===null?yg(i,null,a,o):ds(i,e.child,a,o)}function mp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Es(i),o=Oh(e,i,a,y,f,h),E=Nh(),e!==null&&!Oe?(Vh(e,i,h),Di(e,i,h)):(zt&&E&&Eh(i),i.flags|=1,Pe(e,i,o,h),i.child)}function gp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!_f(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,pp(e,i,f,o,h)):(e=Pu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!nf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(y,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=br(f,o),e.ref=i.ref,e.return=i,i.child=e}function pp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=o=f,nf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Di(e,i,h)}return Yh(e,i,a,o,h)}function _p(e,i,a){var o=i.pendingProps,h=o.children,f=(i.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(xo(e,i),o.mode==="hidden"||f){if((i.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return yp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(i,y!==null?y.cachePool:null),y!==null?vg(i,y):bh(),Eg(i);else return i.lanes=i.childLanes=536870912,yp(e,i,y!==null?y.baseLanes|a:a,a)}else y!==null?(Tu(i,y.cachePool),vg(i,y),mr(),i.memoizedState=null):(e!==null&&Tu(i,null),bh(),mr());return Pe(e,i,h,a),i.child}function yp(e,i,a,o){var h=Ch();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Tu(i,null),bh(),Eg(i),e!==null&&zo(e,i,o,!0),null}function xo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Yh(e,i,a,o,h){return Es(i),a=Oh(e,i,a,o,void 0,h),o=Nh(),e!==null&&!Oe?(Vh(e,i,h),Di(e,i,h)):(zt&&o&&Eh(i),i.flags|=1,Pe(e,i,a,h),i.child)}function vp(e,i,a,o,h,f){return Es(i),i.updateQueue=null,a=wg(i,o,a,h),bg(e),o=Nh(),e!==null&&!Oe?(Vh(e,i,f),Di(e,i,f)):(zt&&o&&Eh(i),i.flags|=1,Pe(e,i,a,f),i.child)}function Ep(e,i,a,o,h){if(Es(i),i.stateNode===null){var f=la,y=a.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Qh,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},of(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?He(y):la,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Fh(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Qh.enqueueReplaceState(f,f.state,null),Ho(i,o,f,h),qo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=ys(a,E);f.props=b;var N=f.context,j=a.contextType;y=la,typeof j=="object"&&j!==null&&(y=He(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&ap(i,f,o,y),yr=!1;var z=i.memoizedState;f.state=z,Ho(i,o,f,h),qo(),N=i.memoizedState,E||z!==N||yr?(typeof K=="function"&&(Fh(i,a,K,o),N=i.memoizedState),(b=yr||sp(i,a,b,o,z,N,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=N),f.props=o,f.state=N,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,lf(e,i),y=i.memoizedProps,j=ys(a,y),f.props=j,K=i.pendingProps,z=f.context,N=a.contextType,b=la,typeof N=="object"&&N!==null&&(b=He(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||z!==b)&&ap(i,f,o,b),yr=!1,z=i.memoizedState,f.state=z,Ho(i,o,f,h),qo();var q=i.memoizedState;y!==K||z!==q||yr||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Fh(i,a,E,o),q=i.memoizedState),(j=yr||sp(i,a,j,o,z,q,b)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=b,o=j):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,xo(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ds(i,e.child,null,h),i.child=ds(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Di(e,i,h),e}function Tp(e,i,a,o){return Io(),i.flags|=256,Pe(e,i,a,o),i.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function $h(e){return{baseLanes:e,cachePool:Sg()}}function Zh(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function Ap(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?dr(i):mr(),zt){var E=ke,b;if(b=E){t:{for(b=E,E=ti;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:cs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,ke=null,b=!0):b=!1}b||fs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ii(i)}return E=o.children,o=o.fallback,h?(mr(),h=i.mode,E=Jh({mode:"hidden",children:E},h),o=As(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=$h(a),h.childLanes=Zh(e,y,a),i.memoizedState=Xh,o):(dr(i),Wh(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(dr(i),i.flags&=-257,i=tf(e,i,a)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=o.fallback,E=i.mode,o=Jh({mode:"visible",children:o.children},E),h=As(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ds(i,e.child,null,a),o=i.child,o.memoizedState=$h(a),o.childLanes=Zh(e,y,a),i.memoizedState=Xh,i=h);else if(dr(i),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,o=Error(s(419)),o.stack="",o.digest=y,Co({value:o,source:null,stack:null}),i=tf(e,i,a)}else if(Oe||zo(e,i,a,!1),y=(a&e.childLanes)!==0,Oe||y){if(y=Xt,y!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,fr(e,o),Je(y,e,o),dp}E.data==="$?"||Df(),i=tf(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=B0.bind(null,e),E._reactRetry=i,i=null):(e=b.treeContext,ke=xn(E.nextSibling),We=i,zt=!0,Pn=null,ti=!1,e!==null&&(bn[wn++]=wi,bn[wn++]=Ri,bn[wn++]=cs,wi=e.id,Ri=e.overflow,cs=i),i=Wh(i,o.children),i.flags|=4096);return i}return h?(mr(),h=o.fallback,E=i.mode,b=e.child,N=b.sibling,o=br(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,N!==null?h=br(N,h):(h=As(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=$h(a):(b=E.cachePool,b!==null?(N=Se._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=Sg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Zh(e,y,a),i.memoizedState=Xh,o):(dr(i),a=e.child,e=a.sibling,a=br(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Wh(e,i){return i=Jh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Jh(e,i){return Yp(e,i,0,null)}function tf(e,i,a){return ds(i,e.child,null,a),e=Wh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Sp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),sf(e.return,i,a)}function ef(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function bp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sp(e,a,i);else if(e.tag===19)Sp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Ft(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Eu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ef(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Eu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ef(i,!0,a,null,f);break;case"together":ef(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),wr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(zo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=br(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=br(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function nf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function R0(e,i,a){switch(i.tag){case 3:$i(i,i.stateNode.containerInfo),_r(i,Se,e.memoizedState.cache),Io();break;case 27:case 5:no(i);break;case 4:$i(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ap(e,i,a):(dr(i),e=Di(e,i,a),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(zo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return bp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,_p(e,i,a);case 24:_r(i,Se,e.memoizedState.cache)}return Di(e,i,a)}function wp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!nf(e,a)&&(i.flags&128)===0)return Oe=!1,R0(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,zt&&(i.flags&1048576)!==0&&ug(i,gu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")_f(o)?(e=ys(o,e),i.tag=1,i=Ep(null,i,o,e,a)):(i.tag=0,i=Yh(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===X){i.tag=11,i=mp(null,i,o,e,a);break t}else if(h===pt){i.tag=14,i=gp(null,i,o,e,a);break t}}throw i=w(o)||o,Error(s(306,i,""))}}return i;case 0:return Yh(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ys(o,i.pendingProps),Ep(e,i,o,h,a);case 3:t:{if($i(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var f=i.pendingProps;h=i.memoizedState,o=h.element,lf(e,i),Ho(i,f,null,a);var y=i.memoizedState;if(f=y.cache,_r(i,Se,f),f!==h.cache&&af(i,[Se],a,!0),qo(),f=y.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Tp(e,i,f,a);break t}else if(f!==o){o=Sn(Error(s(424)),i),Co(o),i=Tp(e,i,f,a);break t}else for(ke=xn(i.stateNode.containerInfo.firstChild),We=i,zt=!0,Pn=null,ti=!0,a=yg(i,null,f,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),f===o){i=Di(e,i,a);break t}Pe(e,i,f,a)}i=i.child}return i;case 26:return xo(e,i),e===null?(a=C_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,o=Yu(gn.current).createElement(a),o[Ie]=i,o[ve]=e,Le(o,a,e),Wt(o),i.stateNode=o):i.memoizedState=C_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return no(i),e===null&&zt&&(o=i.stateNode=w_(i.type,i.pendingProps,gn.current),We=i,ti=!0,ke=xn(o.firstChild)),o=i.pendingProps.children,e!==null||zt?Pe(e,i,o,a):i.child=ds(i,null,o,a),xo(e,i),i.child;case 5:return e===null&&zt&&((h=o=ke)&&(o=nA(o,i.type,i.pendingProps,ti),o!==null?(i.stateNode=o,We=i,ke=xn(o.firstChild),ti=!1,h=!0):h=!1),h||fs(i)),no(i),h=i.type,f=i.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,jf(h,f)?o=null:y!==null&&jf(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Oh(e,i,v0,null,null,a),il._currentValue=h),xo(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&zt&&((e=a=ke)&&(a=iA(a,i.pendingProps,ti),a!==null?(i.stateNode=a,We=i,ke=null,e=!0):e=!1),e||fs(i)),null;case 13:return Ap(e,i,a);case 4:return $i(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ds(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return mp(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,_r(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Es(i),h=He(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return gp(e,i,i.type,i.pendingProps,a);case 15:return pp(e,i,i.type,i.pendingProps,a);case 19:return bp(e,i,a);case 22:return _p(e,i,a);case 24:return Es(i),o=He(Se),e===null?(h=Ch(),h===null&&(h=Xt,f=Rh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},of(i),_r(i,Se,h)):((e.lanes&a)!==0&&(lf(e,i),Ho(i,null,null,a),qo()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,Se,o)):(o=f.cache,_r(i,Se,o),o!==h.cache&&af(i,[Se],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var rf=Lt(null),vs=null,Oi=null;function _r(e,i,a){Ft(rf,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=rf.current,ne(rf)}function sf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function af(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sf(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),sf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function zo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;ln(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Xi.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&af(i,e,a,o),i.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Rp(vs,e)}function Mu(e,i){return vs===null&&Es(e),Rp(e,i)}function Rp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Oi=Oi.next=i;return a}var yr=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(te&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=du(e),og(e,null,a),i}return fu(e,o,i,a),du(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,nr(e,a)}}function uf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var cf=!1;function qo(){if(cf){var e=ma;if(e!==null)throw e}}function Ho(e,i,a,o){cf=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=N:E.next=N,j.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;y=0,j=N=b=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(kt&z)===z:(o&z)===z){z!==0&&z===da&&(cf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,vt=E;z=i;var ae=a;switch(vt.tag){case 1:if(st=vt.payload,typeof st=="function"){K=st.call(ae,K,z);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=vt.payload,z=typeof st=="function"?st.call(ae,K,z):st,z==null)break t;K=C({},K,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(N=j=q,b=K):j=j.next=q,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(b=K),h.baseState=b,h.firstBaseUpdate=N,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),wr|=y,e.lanes=y,e.memoizedState=K}}function Ip(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Cp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ip(a[e],i)}function jo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(i,i.return,E)}}function Tr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var b=a;try{E()}catch(N){Yt(h,b,N)}}}o=o.next}while(o!==f)}}catch(N){Yt(i,i.return,N)}}function Dp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cp(i,a)}catch(o){Yt(e,e.return,o)}}}function Op(e,i,a){a.props=ys(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,i,o)}}function Ts(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){Yt(e,i,f)}}function un(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Np(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Vp(e,i,a){try{var o=e.stateNode;Z0(o,e.type,a,i),o[ve]=i}catch(h){Yt(e,e.return,h)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ff(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ku));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(ff(e,i,a),e=e.sibling;e!==null;)ff(e,i,a),e=e.sibling}function Uu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Uu(e,i,a),e=e.sibling;e!==null;)Uu(e,i,a),e=e.sibling}var Vi=!1,re=!1,df=!1,Up=typeof WeakSet=="function"?WeakSet:Set,Ne=null,kp=!1;function I0(e,i){if(e=e.containerInfo,qf=tc,e=Wm(e),mh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,N=0,j=0,K=e,z=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=y+h),K!==f||o!==0&&K.nodeType!==3||(b=y+o),K.nodeType===3&&(y+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===a&&++N===h&&(E=y),z===f&&++j===o&&(b=y),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hf={focusedElem:e,selectionRange:a},tc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var st=ys(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Yt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Qf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}return st=kp,kp=!1,st}function Pp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(e,a),o&4&&jo(5,a);break;case 1:if(Ui(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=ys(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}o&64&&Dp(a),o&512&&Ts(a,a.return);break;case 3:if(Ui(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Cp(o,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Ui(e,a),o&512&&Ts(a,a.return);break;case 27:case 5:Ui(e,a),i===null&&o&4&&Np(a),o&512&&Ts(a,a.return);break;case 12:Ui(e,a);break;case 13:Ui(e,a),o&4&&zp(e,a);break;case 22:if(h=a.memoizedState!==null||Vi,!h){i=i!==null&&i.memoizedState!==null||re;var f=Vi,y=re;Vi=h,(re=i)&&!y?Ar(e,a,(a.subtreeFlags&8772)!==0):Ui(e,a),Vi=f,re=y}o&512&&(a.memoizedProps.mode==="manual"?Ts(a,a.return):un(a,a.return));break;default:Ui(e,a)}}function Lp(e){var i=e.alternate;i!==null&&(e.alternate=null,Lp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,cn=!1;function Mi(e,i,a){for(a=a.child;a!==null;)xp(e,i,a),a=a.sibling}function xp(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 26:re||un(a,i),Mi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||un(a,i);var o=me,h=cn;for(me=a.stateNode,Mi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Zr(a),me=o,cn=h;break;case 5:re||un(a,i);case 6:h=me;var f=cn;if(me=null,Mi(e,i,a),me=h,cn=f,me!==null)if(cn)try{e=me,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Yt(a,i,y)}else try{me.removeChild(a.stateNode)}catch(y){Yt(a,i,y)}break;case 18:me!==null&&(cn?(i=me,a=a.stateNode,i.nodeType===8?Ff(i.parentNode,a):i.nodeType===1&&Ff(i,a),ol(i)):Ff(me,a.stateNode));break;case 4:o=me,h=cn,me=a.stateNode.containerInfo,cn=!0,Mi(e,i,a),me=o,cn=h;break;case 0:case 11:case 14:case 15:re||Tr(2,a,i),re||Tr(4,a,i),Mi(e,i,a);break;case 1:re||(un(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Op(a,i,o)),Mi(e,i,a);break;case 21:Mi(e,i,a);break;case 22:re||un(a,i),re=(o=re)||a.memoizedState!==null,Mi(e,i,a),re=o;break;default:Mi(e,i,a)}}function zp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){Yt(i,i.return,a)}}function C0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Up),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Up),i;default:throw Error(s(435,e.tag))}}function mf(e,i){var a=C0(e);i.forEach(function(o){var h=q0.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function In(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,cn=!1;break t;case 3:me=E.stateNode.containerInfo,cn=!0;break t;case 4:me=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(me===null)throw Error(s(160));xp(f,y,h),me=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Bp(i,e),i=i.sibling}var Ln=null;function Bp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(i,e),Cn(e),o&4&&(Tr(3,e,e.return),jo(3,e),Tr(5,e,e.return));break;case 1:In(i,e),Cn(e),o&512&&(re||a===null||un(a,a.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ln;if(In(i,e),Cn(e),o&512&&(re||a===null||un(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[rr]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Le(f,o,a),f[Ie]=e,Wt(f),o=f;break t;case"link":var y=N_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;case"meta":if(y=N_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Le(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,Wt(f),o=f}e.stateNode=o}else V_(h,e.type,e.stateNode);else e.stateNode=O_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?V_(h,e.type,e.stateNode):O_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var b=h.firstChild;b;){var N=b.nextSibling,j=b.nodeName;b[rr]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=N}for(var K=e.type,z=h.attributes;z.length;)h.removeAttributeNode(z[0]);Le(h,K,f),h[Ie]=e,h[ve]=f}catch(st){Yt(e,e.return,st)}}case 5:if(In(i,e),Cn(e),o&512&&(re||a===null||un(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(st){Yt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vp(e,h,a!==null?a.memoizedProps:h)),o&1024&&(df=!0);break;case 6:if(In(i,e),Cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(st){Yt(e,e.return,st)}}break;case 3:if(Zu=null,h=Ln,Ln=Xu(i.containerInfo),In(i,e),Ln=h,Cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(st){Yt(e,e.return,st)}df&&(df=!1,qp(e));break;case 4:o=Ln,Ln=Xu(e.stateNode.containerInfo),In(i,e),Cn(e),Ln=o;break;case 12:In(i,e),Cn(e);break;case 13:In(i,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sf=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mf(e,o)));break;case 22:if(o&512&&(re||a===null||un(a,a.return)),b=e.memoizedState!==null,N=a!==null&&a.memoizedState!==null,j=Vi,K=re,Vi=j||b,re=K||N,In(i,e),re=K,Vi=j,Cn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=b?i._visibility&-2:i._visibility|1,b&&(i=Vi||re,a===null||N||i||ya(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){N=a=i;try{if(h=N.stateNode,b)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Yt(N,N.return,st)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(st){Yt(N,N.return,st)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mf(e,a))));break;case 19:In(i,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,mf(e,o)));break;case 21:break;default:In(i,e),Cn(e)}}function Cn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Mp(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,f=hf(e);Uu(e,f,h);break;case 5:var y=o.stateNode;o.flags&32&&(yn(y,""),o.flags&=-33);var E=hf(e);Uu(e,E,y);break;case 3:case 4:var b=o.stateNode.containerInfo,N=hf(e);ff(e,N,b);break;default:throw Error(s(161))}}}catch(j){Yt(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ui(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pp(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),ya(i);break;case 1:un(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Op(i,i.return,a),ya(i);break;case 26:case 27:case 5:un(i,i.return),ya(i);break;case 22:un(i,i.return),i.memoizedState===null&&ya(i);break;default:ya(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ar(h,f,a),jo(4,f);break;case 1:if(Ar(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Yt(o,o.return,N)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Ip(b[h],E)}catch(N){Yt(o,o.return,N)}}a&&y&64&&Dp(f),Ts(f,f.return);break;case 26:case 27:case 5:Ar(h,f,a),a&&o===null&&y&4&&Np(f),Ts(f,f.return);break;case 12:Ar(h,f,a);break;case 13:Ar(h,f,a),a&&y&4&&zp(h,f);break;case 22:f.memoizedState===null&&Ar(h,f,a),Ts(f,f.return);break;default:Ar(h,f,a)}i=i.sibling}}function gf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Mo(a))}function pf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Mo(e))}function Sr(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hp(e,i,a,o),i=i.sibling}function Hp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,a,o),h&2048&&jo(9,i);break;case 3:Sr(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Mo(e)));break;case 12:if(h&2048){Sr(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(i,i.return,b)}}else Sr(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,i.memoizedState!==null?f._visibility&4?Sr(e,i,a,o):Go(e,i):f._visibility&4?Sr(e,i,a,o):(f._visibility|=4,va(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&gf(i.alternate,i);break;case 24:Sr(e,i,a,o),h&2048&&pf(i.alternate,i);break;default:Sr(e,i,a,o)}}function va(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,y=i,E=a,b=o,N=y.flags;switch(y.tag){case 0:case 11:case 15:va(f,y,E,b,h),jo(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&4?va(f,y,E,b,h):Go(f,y):(j._visibility|=4,va(f,y,E,b,h)),h&&N&2048&&gf(y.alternate,y);break;case 24:va(f,y,E,b,h),h&&N&2048&&pf(y.alternate,y);break;default:va(f,y,E,b,h)}i=i.sibling}}function Go(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Go(a,o),h&2048&&gf(o.alternate,o);break;case 24:Go(a,o),h&2048&&pf(o.alternate,o);break;default:Go(a,o)}i=i.sibling}}var Fo=8192;function Ea(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 26:Ea(e),e.flags&Fo&&e.memoizedState!==null&&pA(Ln,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var i=Ln;Ln=Xu(e.stateNode.containerInfo),Ea(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Fo,Fo=16777216,Ea(e),Fo=i):Ea(e));break;default:Ea(e)}}function Gp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Qo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Qp(o,e)}Gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,ku(e)):Qo(e);break;default:Qo(e)}}function ku(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ne=o,Qp(o,e)}Gp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),ku(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,ku(i));break;default:ku(i)}e=e.sibling}}function Qp(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Mo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(Lp(o),o===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function D0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,i,a,o){return new D0(e,i,a,o)}function _f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,i){var a=e.alternate;return a===null?(a=Dn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kp(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Pu(e,i,a,o,h,f){var y=0;if(o=e,typeof e=="function")_f(e)&&(y=1);else if(typeof e=="string")y=mA(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return As(a.children,h,f,i);case v:y=8,h|=24;break;case A:return e=Dn(12,a,i,h|2),e.elementType=A,e.lanes=f,e;case J:return e=Dn(13,a,i,h),e.elementType=J,e.lanes=f,e;case $:return e=Dn(19,a,i,h),e.elementType=$,e.lanes=f,e;case _t:return Yp(a,h,f,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case H:y=10;break t;case x:y=9;break t;case X:y=11;break t;case pt:y=14;break t;case ht:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=Dn(y,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function As(e,i,a,o){return e=Dn(7,e,o,i),e.lanes=a,e}function Yp(e,i,a,o){e=Dn(22,e,o,i),e.elementType=_t,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var y=fr(f,2);y!==null&&(h._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var y=fr(f,2);y!==null&&(h._pendingVisibility&=-3,Je(y,f,2))}}};return e.stateNode=h,e}function yf(e,i,a){return e=Dn(6,e,null,i),e.lanes=a,e}function vf(e,i,a){return i=Dn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function ki(e){e.flags|=4}function Xp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(i)){if(i=Rn.current,i!==null&&((kt&4194176)===kt?ei!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ei))throw Oo=Sh,fg;e.flags|=8192}}function Lu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,Aa|=i)}function Ko(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function O0(e,i,a){var o=i.pendingProps;switch(Th(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ni(Se),mi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pn!==null&&(If(Pn),Pn=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(Jt(i),Xp(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),Jt(i),Xp(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==o&&ki(i),Jt(i),i.flags&=-16777217),null;case 27:qs(i),a=gn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=Ye.current,Ro(i)?cg(i):(e=w_(h,o,a),i.stateNode=e,ki(i))}return Jt(i),null;case 5:if(qs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=Ye.current,Ro(i))cg(i);else{switch(h=Yu(gn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=i,e[ve]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=gn.current,Ro(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||v_(e.nodeValue,a)),e||fs(i)}else e=Yu(e).createTextNode(o),e[Ie]=i,i.stateNode=e}return Jt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ro(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else Pn!==null&&(If(Pn),Pn=null),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Lu(i,i.updateQueue),Jt(i),null;case 4:return mi(),e===null&&xf(i.stateNode.containerInfo),Jt(i),null;case 10:return Ni(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Ko(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Eu(e),f!==null){for(i.flags|=128,Ko(h,!1),e=f.updateQueue,i.updateQueue=e,Lu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Kp(a,e),a=a.sibling;return Ft(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&en()>xu&&(i.flags|=128,o=!0,Ko(h,!1),i.lanes=4194304)}else{if(!o)if(e=Eu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Lu(i,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return Jt(i),null}else 2*en()-h.renderingStartTime>xu&&a!==536870912&&(i.flags|=128,o=!0,Ko(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=en(),i.sibling=null,e=Ae.current,Ft(Ae,o?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Ii(i),wh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&Lu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&ne(ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(Se),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function N0(e,i){switch(Th(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(Se),mi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return qs(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return mi(),null;case 10:return Ni(i.type),null;case 22:case 23:return Ii(i),wh(),e!==null&&ne(ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(Se),null;case 25:return null;default:return null}}function $p(e,i){switch(Th(i),i.tag){case 3:Ni(Se),mi();break;case 26:case 27:case 5:qs(i);break;case 4:mi();break;case 13:Ii(i);break;case 19:ne(Ae);break;case 10:Ni(i.type);break;case 22:case 23:Ii(i),wh(),e!==null&&ne(ms);break;case 24:Ni(Se)}}var V0={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},M0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Ct=null,kt=0,$t=0,hn=null,Pi=!1,Ta=!1,Ef=!1,Li=0,se=0,wr=0,Ss=0,Tf=0,On=0,Aa=0,Yo=null,ii=null,Af=!1,Sf=0,xu=1/0,zu=null,Rr=null,Bu=!1,bs=null,Xo=0,bf=0,wf=null,$o=0,Rf=null;function fn(){if((te&2)!==0&&kt!==0)return kt&-kt;if(S.T!==null){var e=da;return e!==0?e:Uf()}return Ql()}function Zp(){On===0&&(On=(kt&536870912)===0||zt?oo():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),On}function Je(e,i,a){(e===Xt&&$t===2||e.cancelPendingCommit!==null)&&(Sa(e,0),xi(e,kt,On,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(Ss|=a),se===4&&xi(e,kt,On,!1)),ri(e))}function Wp(e,i,a){if((te&6)!==0)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Ji(e,i),h=o?P0(e,i):Of(e,i,!0),f=o;do{if(h===0){Ta&&!o&&xi(e,i,0,!1);break}else if(h===6)xi(e,i,0,!Pi);else{if(a=e.current.alternate,f&&!U0(a)){h=Of(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=Yo;var b=E.current.memoizedState.isDehydrated;if(b&&(Sa(E,y).flags|=256),y=Of(E,y,!1),y!==2){if(Ef&&!b){E.errorRecoveryDisabledLanes|=f,Ss|=f,h=4;break t}f=ii,ii=h,f!==null&&If(f)}h=y}if(f=!1,h!==2)continue}}if(h===1){Sa(e,0),xi(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){xi(o,i,On,!Pi);break t}break;case 2:ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(f=Sf+300-en(),10<f)){if(xi(o,i,On,!Pi),pn(o,0)!==0)break t;o.timeoutHandle=A_(Jp.bind(null,o,a,ii,zu,Af,i,On,Ss,Aa,Pi,2,-0,0),f);break t}Jp(o,a,ii,zu,Af,i,On,Ss,Aa,Pi,0,-0,0)}}break}while(!0);ri(e)}function If(e){ii===null?ii=e:ii.push.apply(ii,e)}function Jp(e,i,a,o,h,f,y,E,b,N,j,K,z){var q=i.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:gA},jp(i),i=_A(),i!==null)){e.cancelPendingCommit=i(a_.bind(null,e,a,o,h,y,E,b,1,K,z)),xi(e,f,y,!N);return}a_(e,a,o,h,y,E,b,j,K,z)}function U0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(e,i,a,o){i&=~Tf,i&=~Ss,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Xe(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&er(e,a,i)}function qu(){return(te&6)===0?(Zo(0),!1):!0}function Cf(){if(Ct!==null){if($t===0)var e=Ct.return;else e=Ct,Oi=vs=null,Mh(e),ha=null,No=0,e=Ct;for(;e!==null;)$p(e.alternate,e),e=e.return;Ct=null}}function Sa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Cf(),Xt=e,Ct=a=br(e.current,null),kt=i,$t=0,hn=null,Pi=!1,Ta=Ji(e,i),Ef=!1,Aa=On=Tf=Ss=wr=se=0,ii=Yo=null,Af=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Xe(o),f=1<<h;i|=e[h],o&=~f}return Li=i,hu(),a}function t_(e,i){wt=null,S.H=ni,i===Do?(i=gg(),$t=3):i===fg?(i=gg(),$t=4):$t=i===dp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Ct===null&&(se=1,Nu(e,Sn(i,e.current)))}function e_(){var e=S.H;return S.H=ni,e===null?ni:e}function n_(){var e=S.A;return S.A=V0,e}function Df(){se=4,Pi||(kt&4194176)!==kt&&Rn.current!==null||(Ta=!0),(wr&134217727)===0&&(Ss&134217727)===0||Xt===null||xi(Xt,kt,On,!1)}function Of(e,i,a){var o=te;te|=2;var h=e_(),f=n_();(Xt!==e||kt!==i)&&(zu=null,Sa(e,i)),i=!1;var y=se;t:do try{if($t!==0&&Ct!==null){var E=Ct,b=hn;switch($t){case 8:Cf(),y=6;break t;case 3:case 2:case 6:Rn.current===null&&(i=!0);var N=$t;if($t=0,hn=null,ba(e,E,b,N),a&&Ta){y=0;break t}break;default:N=$t,$t=0,hn=null,ba(e,E,b,N)}}k0(),y=se;break}catch(j){t_(e,j)}while(!0);return i&&e.shellSuspendCounter++,Oi=vs=null,te=o,S.H=h,S.A=f,Ct===null&&(Xt=null,kt=0,hu()),y}function k0(){for(;Ct!==null;)i_(Ct)}function P0(e,i){var a=te;te|=2;var o=e_(),h=n_();Xt!==e||kt!==i?(zu=null,xu=en()+500,Sa(e,i)):Ta=Ji(e,i);t:do try{if($t!==0&&Ct!==null){i=Ct;var f=hn;e:switch($t){case 1:$t=0,hn=null,ba(e,i,f,1);break;case 2:if(dg(f)){$t=0,hn=null,r_(i);break}i=function(){$t===2&&Xt===e&&($t=7),ri(e)},f.then(i,i);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:dg(f)?($t=0,hn=null,r_(i)):($t=0,hn=null,ba(e,i,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||M_(y)){$t=0,hn=null;var b=E.sibling;if(b!==null)Ct=b;else{var N=E.return;N!==null?(Ct=N,Hu(N)):Ct=null}break e}}$t=0,hn=null,ba(e,i,f,5);break;case 6:$t=0,hn=null,ba(e,i,f,6);break;case 8:Cf(),se=6;break t;default:throw Error(s(462))}}L0();break}catch(j){t_(e,j)}while(!0);return Oi=vs=null,S.H=o,S.A=h,te=a,Ct!==null?0:(Xt=null,kt=0,hu(),se)}function L0(){for(;Ct!==null&&!ih();)i_(Ct)}function i_(e){var i=wp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?Hu(e):Ct=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=vp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=vp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Mh(i);default:$p(a,i),i=Ct=Kp(i,Li),i=wp(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?Hu(e):Ct=i}function ba(e,i,a,o){Oi=vs=null,Mh(i),ha=null,No=0;var h=i.return;try{if(w0(e,h,i,a,kt)){se=1,Nu(e,Sn(a,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;se=1,Nu(e,Sn(a,e.current)),Ct=null;return}i.flags&32768?(zt||o===1?e=!0:Ta||(kt&536870912)!==0?e=!1:(Pi=e=!0,(o===2||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),s_(i,e)):Hu(i)}function Hu(e){var i=e;do{if((i.flags&32768)!==0){s_(i,Pi);return}e=i.return;var a=O0(i.alternate,i,Li);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);se===0&&(se=5)}function s_(e,i){do{var a=N0(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);se=6,Ct=null}function a_(e,i,a,o,h,f,y,E,b,N){var j=S.T,K=et.p;try{et.p=2,S.T=null,x0(e,i,a,o,K,h,f,y,E,b,N)}finally{S.T=j,et.p=K}}function x0(e,i,a,o,h,f,y,E){do wa();while(bs!==null);if((te&6)!==0)throw Error(s(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=yh,Gl(e,o,N,f,y,E),e===Xt&&(Ct=Xt=null,kt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||Bu||(Bu=!0,bf=N,wf=a,H0(gi,function(){return wa(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,f=et.p,et.p=2,y=te,te|=4,I0(e,b),Bp(b,e),l0(Hf,e.containerInfo),tc=!!qf,Hf=qf=null,e.current=b,Pp(e,b.alternate,b),io(),te=y,et.p=f,S.T=a):e.current=b,Bu?(Bu=!1,bs=e,Xo=o):o_(e,N),N=e.pendingLanes,N===0&&(Rr=null),so(b.stateNode),ri(e),i!==null)for(h=e.onRecoverableError,b=0;b<i.length;b++)N=i[b],h(N.value,{componentStack:N.stack});return(Xo&3)!==0&&wa(),N=e.pendingLanes,(o&4194218)!==0&&(N&42)!==0?e===Rf?$o++:($o=0,Rf=e):$o=0,Zo(0),null}function o_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Mo(i)))}function wa(){if(bs!==null){var e=bs,i=bf;bf=0;var a=Fl(Xo),o=S.T,h=et.p;try{if(et.p=32>a?32:a,S.T=null,bs===null)var f=!1;else{a=wf,wf=null;var y=bs,E=Xo;if(bs=null,Xo=0,(te&6)!==0)throw Error(s(331));var b=te;if(te|=4,Fp(y.current),Hp(y,y.current,E,a),te=b,Zo(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Zi,y)}catch{}f=!0}return f}finally{et.p=h,S.T=o,o_(e,i)}}return!1}function l_(e,i,a){i=Sn(a,i),i=Kh(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(oe(e,2),ri(e))}function Yt(e,i,a){if(e.tag===3)l_(e,e,a);else for(;i!==null;){if(i.tag===3){l_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Sn(a,e),a=hp(2),o=Er(i,a,2),o!==null&&(fp(a,o,i,e),oe(o,2),ri(o));break}}i=i.return}}function Nf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new M0;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Ef=!0,h.add(a),e=z0.bind(null,e,i,a),i.then(e,e))}function z0(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(kt&a)===a&&(se===4||se===3&&(kt&62914560)===kt&&300>en()-Sf?(te&2)===0&&Sa(e,0):Tf|=a,Aa===kt&&(Aa=0)),ri(e)}function u_(e,i){i===0&&(i=tr()),e=fr(e,i),e!==null&&(oe(e,i),ri(e))}function B0(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(e,a)}function q0(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),u_(e,a)}function H0(e,i){return Yr(e,i)}var ju=null,Ra=null,Vf=!1,Gu=!1,Mf=!1,ws=0;function ri(e){e!==Ra&&e.next===null&&(Ra===null?ju=Ra=e:Ra=Ra.next=e),Gu=!0,Vf||(Vf=!0,G0(j0))}function Zo(e,i){if(!Mf&&Gu){Mf=!0;do for(var a=!1,o=ju;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Xe(42|e)+1)-1,f&=h&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,f_(o,f))}else f=kt,f=pn(o,o===Xt?f:0),(f&3)===0||Ji(o,f)||(a=!0,f_(o,f));o=o.next}while(a);Mf=!1}}function j0(){Gu=Vf=!1;var e=0;ws!==0&&(W0()&&(e=ws),ws=0);for(var i=en(),a=null,o=ju;o!==null;){var h=o.next,f=c_(o,i);f===0?(o.next=null,a===null?ju=h:a.next=h,h===null&&(Ra=a)):(a=o,(e!==0||(f&3)!==0)&&(Gu=!0)),o=h}Zo(e)}function c_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Xe(f),E=1<<y,b=h[y];b===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Gs(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Xt,a=kt,a=pn(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&$t===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&js(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&js(o),Fl(a)){case 2:case 8:a=Re;break;case 32:a=gi;break;case 268435456:a=ro;break;default:a=gi}return o=h_.bind(null,e),a=Yr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&js(o),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,i){var a=e.callbackNode;if(wa()&&e.callbackNode!==a)return null;var o=kt;return o=pn(e,e===Xt?o:0),o===0?null:(Wp(e,o,i),c_(e,en()),e.callbackNode!=null&&e.callbackNode===a?h_.bind(null,e):null)}function f_(e,i){if(wa())return null;Wp(e,i,!0)}function G0(e){tA(function(){(te&6)!==0?Yr(ye,e):e()})}function Uf(){return ws===0&&(ws=oo()),ws}function d_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kn(""+e)}function m_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function F0(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=d_((h[ve]||null).action),y=o.submitter;y&&(i=(i=y[ve]||null)?d_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new Zs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ws!==0){var b=y?m_(h,y):new FormData(h);Hh(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?m_(h,y):new FormData(h),Hh(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var kf=0;kf<ag.length;kf++){var Pf=ag[kf],Q0=Pf.toLowerCase(),K0=Pf[0].toUpperCase()+Pf.slice(1);kn(Q0,"on"+K0)}kn(eg,"onAnimationEnd"),kn(ng,"onAnimationIteration"),kn(ig,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(c0,"onTransitionRun"),kn(h0,"onTransitionStart"),kn(f0,"onTransitionCancel"),kn(rg,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wo));function g_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(j){Ou(j)}h.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=N;try{f(h)}catch(j){Ou(j)}h.currentTarget=null,f=b}}}}function Vt(e,i){var a=i[$r];a===void 0&&(a=i[$r]=new Set);var o=e+"__bubble";a.has(o)||(p_(i,e,2,!1),a.add(o))}function Lf(e,i,a){var o=0;i&&(o|=4),p_(a,e,o,i)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[Fu]){e[Fu]=!0,uo.forEach(function(a){a!=="selectionchange"&&(Y0.has(a)||Lf(a,!1,e),Lf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Fu]||(i[Fu]=!0,Lf("selectionchange",!1,i))}}function p_(e,i,a,o){switch(z_(i)){case 2:var h=EA;break;case 8:h=TA;break;default:h=Zf}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function zf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;y=y.return}for(;E!==null;){if(y=Un(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}$l(function(){var N=f,j=$s(a),K=[];t:{var z=sg.get(e);if(z!==void 0){var q=Zs,st=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":q=ia;break;case"focusin":st="focus",q=ta;break;case"focusout":st="blur",q=ta;break;case"beforeblur":case"afterblur":q=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=ru;break;case eg:case ng:case ig:q=ea;break;case rg:q=au;break;case"scroll":case"scrollend":q=Zl;break;case"wheel":q=ra;break;case"copy":case"cut":case"paste":q=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ao;break;case"toggle":case"beforetoggle":q=lu}var vt=(i&4)!==0,ae=!vt&&(e==="scroll"||e==="scrollend"),U=vt?z!==null?z+"Capture":null:z;vt=[];for(var O=N,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=es(O,U),G!=null&&vt.push(Jo(O,G,L))),ae)break;O=O.return}0<vt.length&&(z=new q(z,st,null,a,j),K.push({event:z,listeners:vt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==vn&&(st=a.relatedTarget||a.fromElement)&&(Un(st)||st[pi]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=N,st=st?Un(st):null,st!==null&&(ae=lt(st),vt=st.tag,st!==ae||vt!==5&&vt!==27&&vt!==6)&&(st=null)):(q=null,st=N),q!==st)){if(vt=Tn,G="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ao,G="onPointerLeave",U="onPointerEnter",O="pointer"),ae=q==null?z:sr(q),L=st==null?z:sr(st),z=new vt(G,O+"leave",q,a,j),z.target=ae,z.relatedTarget=L,G=null,Un(j)===N&&(vt=new vt(U,O+"enter",st,a,j),vt.target=L,vt.relatedTarget=ae,G=vt),ae=G,q&&st)e:{for(vt=q,U=st,O=0,L=vt;L;L=Ia(L))O++;for(L=0,G=U;G;G=Ia(G))L++;for(;0<O-L;)vt=Ia(vt),O--;for(;0<L-O;)U=Ia(U),L--;for(;O--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=Ia(vt),U=Ia(U)}vt=null}else vt=null;q!==null&&__(K,z,q,vt,!1),st!==null&&ae!==null&&__(K,ae,st,vt,!0)}}t:{if(z=N?sr(N):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var it=Gm;else if(Te(z))if(Fm)it=a0;else{it=r0;var It=i0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&go(N.elementType)&&(it=Gm):it=s0;if(it&&(it=it(e,N))){bi(K,it,a,j);break t}It&&It(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&Xs(z,"number",z.value)}switch(It=N?sr(N):window,e){case"focusin":(Te(It)||It.contentEditable==="true")&&(sa=It,gh=N,wo=null);break;case"focusout":wo=gh=sa=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Jm(K,a,j);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":Jm(K,a,j)}var ot;if(Wn)t:{switch(e){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Mt?B(e,a)&&(ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ct="onCompositionStart");ct&&(_&&a.locale!=="ko"&&(Mt||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Mt&&(ot=_o()):(Yn=j,hr="value"in Yn?Yn.value:Yn.textContent,Mt=!0)),It=Qu(N,ct),0<It.length&&(ct=new Eo(ct,e,null,a,j),K.push({event:ct,listeners:It}),ot?ct.data=ot:(ot=Z(a),ot!==null&&(ct.data=ot)))),(ot=m?Ee(e,a):Ut(e,a))&&(ct=Qu(N,"onBeforeInput"),0<ct.length&&(It=new Eo("onBeforeInput","beforeinput",null,a,j),K.push({event:It,listeners:ct}),It.data=ot)),F0(K,e,N,a,j)}g_(K,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Qu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=es(e,a),h!=null&&o.unshift(Jo(e,h,f)),h=es(e,i),h!=null&&o.push(Jo(e,h,f))),e=e.return}return o}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function __(e,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||N===null||(b=N,h?(N=es(a,f),N!=null&&y.unshift(Jo(a,N,b))):h||(N=es(a,f),N!=null&&y.push(Jo(a,N,b)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var X0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(X0,`
`).replace($0,"")}function v_(e,i){return i=y_(i),y_(e)===i}function Ku(){}function Kt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&yn(e,""+o);break;case"className":lr(e,"class",o);break;case"tabIndex":lr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,o);break;case"style":Xl(e,o,f);break;case"data":if(i!=="object"){lr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Kn(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Kt(e,i,"name",h.name,h,null),Kt(e,i,"formEncType",h.formEncType,h,null),Kt(e,i,"formMethod",h.formMethod,h,null),Kt(e,i,"formTarget",h.formTarget,h,null)):(Kt(e,i,"encType",h.encType,h,null),Kt(e,i,"method",h.method,h,null),Kt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Kn(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Kn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),or(e,"popover",o);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":or(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lh.get(a)||a,or(e,a,o))}}function Bf(e,i,a,o,h,f){switch(a){case"style":Xl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):or(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,f,y,a,null)}}h&&Kt(e,i,"srcSet",a.srcSet,a,null),o&&Kt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=f=y=h=null,b=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":h=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":N=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Kt(e,i,o,j,a,null)}}Jr(e,f,E,b,N,y,h,!1),Wr(e);return;case"select":Vt("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Kt(e,i,h,E,a,null)}i=f,a=y,e.multiple=!!o,i!=null?xt(e,!!o,i,!1):a!=null&&xt(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,i,y,E,a,null)}cr(e,o,h,f),Wr(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,i,b,o,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<Wo.length;o++)Vt(Wo[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,N,o,a,null)}return;default:if(go(i)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&Bf(e,i,j,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Kt(e,i,E,o,a,null))}function Z0(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,b=null,N=null,j=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(q)||Kt(e,i,q,null,o,K)}}for(var z in o){var q=o[z];if(K=a[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":N=q;break;case"defaultChecked":j=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==K&&Kt(e,i,z,q,o,K)}}ur(e,y,E,b,N,j,f,h);return;case"select":q=y=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:o.hasOwnProperty(f)||Kt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Kt(e,i,h,f,o,b)}i=E,a=y,o=q,z!=null?xt(e,!!a,z,!1):!!o!=!!a&&(i!=null?xt(e,!!a,i,!0):xt(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,i,y,h,o,f)}ts(e,z,q);return;case"option":for(var st in a)if(z=a[st],a.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Kt(e,i,st,null,o,z)}for(b in o)if(z=o[b],q=a[b],o.hasOwnProperty(b)&&z!==q&&(z!=null||q!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,i,b,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt)&&Kt(e,i,vt,null,o,z);for(N in o)if(z=o[N],q=a[N],o.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Kt(e,i,N,z,o,q)}return;default:if(go(i)){for(var ae in a)z=a[ae],a.hasOwnProperty(ae)&&z!==void 0&&!o.hasOwnProperty(ae)&&Bf(e,i,ae,void 0,o,z);for(j in o)z=o[j],q=a[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||Bf(e,i,j,z,o,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Kt(e,i,U,null,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Kt(e,i,K,z,o,q)}var qf=null,Hf=null;function Yu(e){return e.nodeType===9?e:e.ownerDocument}function E_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function jf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gf=null;function W0(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(e){return S_.resolve(null).then(e).catch(eA)}:A_;function eA(e){setTimeout(function(){throw e})}function Ff(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),ol(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);ol(i)}function Qf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qf(a),Zr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function nA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[rr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function iA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function b_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function w_(e,i,a){switch(i=Yu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Nn=new Map,R_=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var zi=et.d;et.d={f:rA,r:sA,D:aA,C:oA,L:lA,m:uA,X:hA,S:cA,M:fA};function rA(){var e=zi.f(),i=qu();return e||i}function sA(e){var i=_i(e);i!==null&&i.tag===5&&i.type==="form"?Jg(i):zi.r(e)}var Ca=typeof document>"u"?null:document;function I_(e,i,a){var o=Ca;if(o&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),Wt(i),o.head.appendChild(i)))}}function aA(e){zi.D(e),I_("dns-prefetch",e,null)}function oA(e,i){zi.C(e,i),I_("preconnect",e,i)}function lA(e,i,a){zi.L(e,i,a);var o=Ca;if(o&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var f=h;switch(i){case"style":f=Da(e);break;case"script":f=Oa(e)}Nn.has(f)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(tl(f))||i==="script"&&o.querySelector(el(f))||(i=o.createElement("link"),Le(i,"link",e),Wt(i),o.head.appendChild(i)))}}function uA(e,i){zi.m(e,i);var a=Ca;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(o)+'"][href="'+ie(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Nn.has(f)&&(e=C({rel:"modulepreload",href:e},i),Nn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(f)))return}o=a.createElement("link"),Le(o,"link",e),Wt(o),a.head.appendChild(o)}}}function cA(e,i,a){zi.S(e,i,a);var o=Ca;if(o&&e){var h=ar(o).hoistableStyles,f=Da(e);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(tl(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(f))&&Kf(e,a);var b=y=o.createElement("link");Wt(b),Le(b,"link",e),b._p=new Promise(function(N,j){b.onload=N,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,$u(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function hA(e,i){zi.X(e,i);var a=Ca;if(a&&e){var o=ar(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=C({src:e,async:!0},i),(i=Nn.get(h))&&Yf(e,i),f=a.createElement("script"),Wt(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fA(e,i){zi.M(e,i);var a=Ca;if(a&&e){var o=ar(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(el(h)),f||(e=C({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&Yf(e,i),f=a.createElement("script"),Wt(f),Le(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C_(e,i,a,o){var h=(h=gn.current)?Xu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=ar(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var f=ar(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(tl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),f||dA(h,e,a,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=ar(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+ie(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function D_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function dA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),Wt(i),e.head.appendChild(i))}function Oa(e){return'[src="'+ie(e)+'"]'}function el(e){return"script[async]"+e}function O_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(o)return i.instance=o,Wt(o),o;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Wt(o),Le(o,"style",h),$u(o,a.precedence,e),i.instance=o;case"stylesheet":h=Da(a.href);var f=e.querySelector(tl(h));if(f)return i.state.loading|=4,i.instance=f,Wt(f),f;o=D_(a),(h=Nn.get(h))&&Kf(o,h),f=(e.ownerDocument||e).createElement("link"),Wt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",o),i.state.loading|=4,$u(f,a.precedence,e),i.instance=f;case"script":return f=Oa(a.src),(h=e.querySelector(el(f)))?(i.instance=h,Wt(h),h):(o=a,(h=Nn.get(f))&&(o=C({},a),Yf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,$u(o,a.precedence,e));return i.instance}function $u(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Kf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Yf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Zu=null;function N_(e,i,a){if(Zu===null){var o=new Map,h=Zu=new Map;h.set(a,o)}else h=Zu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[rr]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function V_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function mA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function gA(){}function pA(e,i,a){if(nl===null)throw Error(s(475));var o=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),f=e.querySelector(tl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Wu.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,Wt(f);return}f=e.ownerDocument||e,a=D_(a),(h=Nn.get(h))&&Kf(a,h),f=f.createElement("link"),Wt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Wu.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function _A(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function Xf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,i.forEach(yA,e),Ju=null,Wu.call(e))}function yA(e,i){if(!(i.state.loading&4)){var a=Ju.get(e);if(a)var o=a.get(null);else{a=new Map,Ju.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Wu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:H,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function vA(e,i,a,o,h,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function U_(e,i,a,o,h,f,y,E,b,N,j,K){return e=new vA(e,i,a,y,E,b,N,K),i=1,f===!0&&(i|=24),f=Dn(3,null,null,i),e.current=f,f.stateNode=e,i=Rh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},of(f),e}function k_(e){return e?(e=la,e):la}function P_(e,i,a,o,h,f){h=k_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Er(e,o,i),a!==null&&(Je(a,e,i),Bo(a,e,i))}function L_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function $f(e,i){L_(e,i),(e=e.alternate)&&L_(e,i)}function x_(e){if(e.tag===13){var i=fr(e,67108864);i!==null&&Je(i,e,67108864),$f(e,67108864)}}var tc=!0;function EA(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=2,Zf(e,i,a,o)}finally{et.p=f,S.T=h}}function TA(e,i,a,o){var h=S.T;S.T=null;var f=et.p;try{et.p=8,Zf(e,i,a,o)}finally{et.p=f,S.T=h}}function Zf(e,i,a,o){if(tc){var h=Wf(o);if(h===null)zf(e,i,o,ec,a),B_(e,o);else if(SA(h,e,i,a,o))o.stopPropagation();else if(B_(e,o),i&4&&-1<AA.indexOf(e)){for(;h!==null;){var f=_i(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Mn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Xe(y);E.entanglements[1]|=b,y&=~b}ri(f),(te&6)===0&&(xu=en()+500,Zo(0))}}break;case 13:E=fr(f,2),E!==null&&Je(E,f,2),qu(),$f(f,2)}if(f=Wf(o),f===null&&zf(e,i,o,ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else zf(e,i,o,null,a)}}function Wf(e){return e=$s(e),Jf(e)}var ec=null;function Jf(e){if(ec=null,e=Un(e),e!==null){var i=lt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ec=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bl()){case ye:return 2;case Re:return 8;case gi:case ql:return 32;case ro:return 268435456;default:return 32}default:return 32}}var td=!1,Ir=null,Cr=null,Dr=null,rl=new Map,sl=new Map,Or=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&x_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function SA(e,i,a,o,h){switch(i){case"focusin":return Ir=al(Ir,e,i,a,o,h),!0;case"dragenter":return Cr=al(Cr,e,i,a,o,h),!0;case"mouseover":return Dr=al(Dr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,al(rl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,sl.set(f,al(sl.get(f)||null,e,i,a,o,h)),!0}return!1}function q_(e){var i=Un(e.target);if(i!==null){var a=lt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,ir(e.priority,function(){if(a.tag===13){var o=fn(),h=fr(a,o);h!==null&&Je(h,a,o),$f(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Wf(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);vn=o,a.target.dispatchEvent(o),vn=null}else return i=_i(a),i!==null&&x_(i),e.blockedOn=a,!1;i.shift()}return!0}function H_(e,i,a){nc(e)&&a.delete(i)}function bA(){td=!1,Ir!==null&&nc(Ir)&&(Ir=null),Cr!==null&&nc(Cr)&&(Cr=null),Dr!==null&&nc(Dr)&&(Dr=null),rl.forEach(H_),sl.forEach(H_)}function ic(e,i){e.blockedOn===i&&(e.blockedOn=null,td||(td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bA)))}var rc=null;function j_(e){rc!==e&&(rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Jf(o||a)===null)continue;break}var f=_i(a);f!==null&&(e.splice(i,3),i-=3,Hh(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ol(e){function i(b){return ic(b,e)}Ir!==null&&ic(Ir,e),Cr!==null&&ic(Cr,e),Dr!==null&&ic(Dr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<Or.length;a++){var o=Or[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[ve]||null;if(typeof f=="function")y||j_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ve]||null)E=y.formAction;else if(Jf(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),j_(a)}}}function ed(e){this._internalRoot=e}sc.prototype.render=ed.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=fn();P_(a,o,e,i,null,null)},sc.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&wa(),P_(e.current,2,null,e,null,null),qu(),i[pi]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ql();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&q_(e)}};var G_=t.version;if(G_!=="19.0.0")throw Error(s(527,G_,"19.0.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Y(i),e=e!==null?at(e):null,e=e===null?null:e.stateNode,e};var wA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Zi=ac.inject(wA),qe=ac}catch{}}return ul.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=op,f=lp,y=up,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=U_(e,1,!1,null,null,a,o,h,f,y,E,null),e[pi]=i.current,xf(e.nodeType===8?e.parentNode:e),new ed(i)},ul.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=op,y=lp,E=up,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),i=U_(e,1,!0,i,a??null,o,h,f,y,E,b,N),i.context=k_(null),a=i.current,o=fn(),h=vr(o),h.callback=null,Er(a,h,o),i.current.lanes=o,oe(i,o),ri(i),e[pi]=i.current,xf(e),new sc(i)},ul.version="19.0.0",ul}var ty;function LA(){if(ty)return rd.exports;ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rd.exports=PA(),rd.exports}var xA=LA();const zA=()=>{};var ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},BA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let x=(g&15)<<2|v>>6,H=v&63;p||(H=64,d||(x=64)),s.push(n[A],n[I],n[x],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Dv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):BA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const v=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||I==null)throw new qA;const x=c<<2|g>>4;if(s.push(x),v!==64){const H=g<<4&240|v>>2;if(s.push(H),I!==64){const X=v<<6&192|I;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HA=function(r){const t=Dv(r);return Ov.encodeByteArray(t,!0)},Sc=function(r){return HA(r).replace(/\./g,"")},Nv=function(r){try{return Ov.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>jA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof ey>"u")return;const r=ey.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Nv(r[1]);return t&&JSON.parse(t)},Bc=()=>{try{return zA()||GA()||FA()||QA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Vv=r=>{var t,n;return(n=(t=Bc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},KA=r=>{const t=Vv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Mv=()=>{var r;return(r=Bc())===null||r===void 0?void 0:r.config},Uv=r=>{var t;return(t=Bc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function ZA(){var r;const t=(r=Bc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=sS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?aS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Yi(l,g,s)}}function aS(r,t){return r.replace(oS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const oS=/\{\$([^}]+)}/g;function lS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ns(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(ny(c)&&ny(d)){if(!Ns(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function ny(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function uS(r,t){const n=new cS(r,t);return n.subscribe.bind(n)}class cS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=ld),l.error===void 0&&(l.error=ld),l.complete===void 0&&(l.complete=ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new YA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rs){return this.instances.has(t)}getOptions(t=Rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Rs){return this.component?this.component.multipleInstances?t:Rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===Rs?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new fS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const pS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},_S=Ot.INFO,yS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},vS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=yS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qd{constructor(t){this.name=t,this._logLevel=_S,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const ES=(r,t)=>t.some(n=>r instanceof n);let iy,ry;function TS(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AS(){return ry||(ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,vd=new WeakMap,Pv=new WeakMap,ud=new WeakMap,Kd=new WeakMap;function SS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Lr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&kv.set(n,r)}).catch(()=>{}),Kd.set(t,r),t}function bS(r){if(vd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});vd.set(r,t)}let Ed={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return vd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Pv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function wS(r){Ed=r(Ed)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(cd(this),t,...n);return Pv.set(s,t.sort?t.sort():[t]),Lr(s)}:AS().includes(r)?function(...t){return r.apply(cd(this),t),Lr(kv.get(this))}:function(...t){return Lr(r.apply(cd(this),t))}}function IS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&bS(r),ES(r,TS())?new Proxy(r,Ed):r)}function Lr(r){if(r instanceof IDBRequest)return SS(r);if(ud.has(r))return ud.get(r);const t=IS(r);return t!==r&&(ud.set(r,t),Kd.set(t,r)),t}const cd=r=>Kd.get(r);function CS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Lr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Lr(d.result),p.oldVersion,p.newVersion,Lr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const DS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],hd=new Map;function sy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=OS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),l&&p.done]))[0]};return hd.set(t,c),c}wS(r=>({...r,get:(t,n,s)=>sy(t,n)||r.get(t,n,s),has:(t,n)=>!!sy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Td="@firebase/app",ay="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Qd("@firebase/app"),MS="@firebase/app-compat",US="@firebase/analytics-compat",kS="@firebase/analytics",PS="@firebase/app-check-compat",LS="@firebase/app-check",xS="@firebase/auth",zS="@firebase/auth-compat",BS="@firebase/database",qS="@firebase/data-connect",HS="@firebase/database-compat",jS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",KS="@firebase/messaging",YS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",WS="@firebase/remote-config-compat",JS="@firebase/storage",tb="@firebase/storage-compat",eb="@firebase/firestore",nb="@firebase/vertexai",ib="@firebase/firestore-compat",rb="firebase",sb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="[DEFAULT]",ab={[Td]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[US]:"fire-analytics-compat",[LS]:"fire-app-check",[PS]:"fire-app-check-compat",[xS]:"fire-auth",[zS]:"fire-auth-compat",[BS]:"fire-rtdb",[qS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[jS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[KS]:"fire-fcm",[YS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[WS]:"fire-rc-compat",[JS]:"fire-gcs",[tb]:"fire-gcs-compat",[eb]:"fire-fst",[ib]:"fire-fst-compat",[nb]:"fire-vertex","fire-js":"fire-js",[rb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,ob=new Map,Sd=new Map;function oy(r,t){try{r.container.addComponent(t)}catch(n){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ba(r){const t=r.name;if(Sd.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;Sd.set(t,r);for(const n of bc.values())oy(n,r);for(const n of ob.values())oy(n,r);return!0}function Yd(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Nl("app","Firebase",lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=sb;function Lv(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ad,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw xr.create("bad-app-name",{appName:String(l)});if(n||(n=Mv()),!n)throw xr.create("no-options");const c=bc.get(l);if(c){if(Ns(n,c.options)&&Ns(s,c.config))return c;throw xr.create("duplicate-app",{appName:l})}const d=new gS(l);for(const p of Sd.values())d.addComponent(p);const g=new ub(n,s,d);return bc.set(l,g),g}function xv(r=Ad){const t=bc.get(r);if(!t&&r===Ad&&Mv())return Lv();if(!t)throw xr.create("no-app",{appName:r});return t}function zr(r,t,n){var s;let l=(s=ab[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(g.join(" "));return}Ba(new Vs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebase-heartbeat-database",hb=1,El="firebase-heartbeat-store";let fd=null;function zv(){return fd||(fd=CS(cb,hb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),fd}async function fb(r){try{const n=(await zv()).transaction(El),s=await n.objectStore(El).get(Bv(r));return await n.done,s}catch(t){if(t instanceof Yi)ji.warn(t.message);else{const n=xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ji.warn(n.message)}}}async function ly(r,t){try{const s=(await zv()).transaction(El,"readwrite");await s.objectStore(El).put(t,Bv(r)),await s.done}catch(n){if(n instanceof Yi)ji.warn(n.message);else{const s=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(s.message)}}}function Bv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=1024,mb=30;class gb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _b(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=uy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>mb){const d=yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uy(),{heartbeatsToSend:s,unsentEntries:l}=pb(this._heartbeatsCache.heartbeats),c=Sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ji.warn(n),""}}}function uy(){return new Date().toISOString().substring(0,10)}function pb(r,t=db){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),cy(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),cy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _b{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function cy(r){return Sc(JSON.stringify({version:2,heartbeats:r})).length}function yb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r){Ba(new Vs("platform-logger",t=>new NS(t),"PRIVATE")),Ba(new Vs("heartbeat",t=>new gb(t),"PRIVATE")),zr(Td,ay,r),zr(Td,ay,"esm2017"),zr("fire-js","")}vb("");function Xd(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Eb=qv,Hv=new Nl("auth","Firebase",qv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Qd("@firebase/auth");function Tb(r,...t){wc.logLevel<=Ot.WARN&&wc.warn(`Auth (${Xa}): ${r}`,...t)}function dc(r,...t){wc.logLevel<=Ot.ERROR&&wc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...t){throw Zd(r,...t)}function qn(r,...t){return Zd(r,...t)}function $d(r,t,n){const s=Object.assign(Object.assign({},Eb()),{[t]:n});return new Nl("auth","Firebase",s).create(t,{appName:r.name})}function Ds(r){return $d(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ab(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&hi(r,"argument-error"),$d(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zd(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Hv.create(r,...t)}function mt(r,t,...n){if(!r)throw Zd(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw dc(t),new Error(t)}function Gi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Sb(){return hy()==="http:"||hy()==="https:"}function hy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sb()||JA()||"connection"in navigator)?navigator.onLine:!0}function wb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=$A()||tS()}get(){return bb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Ml(3e4,6e4);function Jd(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function $a(r,t,n,s,l={}){return Gv(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Vl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return WA()||(v.referrerPolicy="no-referrer"),jv.fetch()(Fv(r,r.config.apiHost,n,g),v)})}async function Gv(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Rb),t);try{const l=new Db(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw oc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw oc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw $d(r,A,v);hi(r,A)}}catch(l){if(l instanceof Yi)throw l;hi(r,"network-request-failed",{message:String(l)})}}async function Cb(r,t,n,s,l={}){const c=await $a(r,t,n,s,l);return"mfaPendingCredential"in c&&hi(r,"multi-factor-auth-required",{_serverResponse:c}),c}function Fv(r,t,n,s){const l=`${t}${n}?${s}`;return r.config.emulator?Wd(r.config,l):`${r.config.apiScheme}://${l}`}class Db{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qn(this.auth,"network-request-failed")),Ib.get())})}}function oc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=qn(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(r,t){return $a(r,"POST","/v1/accounts:delete",t)}async function Qv(r,t){return $a(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Nb(r,t=!1){const n=tn(r),s=await n.getIdToken(t),l=tm(s);mt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:ml(dd(l.auth_time)),issuedAtTime:ml(dd(l.iat)),expirationTime:ml(dd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function dd(r){return Number(r)*1e3}function tm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Nv(n);return l?JSON.parse(l):(dc("Failed to decode base64 JWT payload"),null)}catch(l){return dc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function fy(r){const t=tm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&Vb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Vb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Tl(r,Qv(n,{idToken:s}));mt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Kv(c.providerUserInfo):[],g=kb(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new wd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,I)}async function Ub(r){const t=tn(r);await Rc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kb(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Kv(r){return r.map(t=>{var{providerId:n}=t,s=Xd(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(r,t){const n=await Gv(r,{},async()=>{const s=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=Fv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",jv.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lb(r,t){return $a(r,"POST","/v2/accounts:revokeToken",Jd(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const n=fy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await Pb(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new ka;return s&&(mt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qi{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=Xd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new wd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Nb(this,t)}reload(){return Ub(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Rc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Ds(this.auth));const t=await this.getIdToken();return await Tl(this,Ob(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,v,A;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(l=n.email)!==null&&l!==void 0?l:void 0,H=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,X=(d=n.photoURL)!==null&&d!==void 0?d:void 0,J=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,pt=(v=n.createdAt)!==null&&v!==void 0?v:void 0,ht=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:_t,emailVerified:qt,isAnonymous:yt,providerData:Dt,stsTokenManager:M}=n;mt(_t&&M,t,"internal-error");const w=ka.fromJSON(this.name,M);mt(typeof _t=="string",t,"internal-error"),Vr(I,t.name),Vr(x,t.name),mt(typeof qt=="boolean",t,"internal-error"),mt(typeof yt=="boolean",t,"internal-error"),Vr(H,t.name),Vr(X,t.name),Vr(J,t.name),Vr($,t.name),Vr(pt,t.name),Vr(ht,t.name);const S=new qi({uid:_t,auth:t,email:x,emailVerified:qt,displayName:I,isAnonymous:yt,photoURL:X,phoneNumber:H,tenantId:J,stsTokenManager:w,createdAt:pt,lastLoginAt:ht});return Dt&&Array.isArray(Dt)&&(S.providerData=Dt.map(C=>Object.assign({},C))),$&&(S._redirectEventId=$),S}static async _fromIdTokenResponse(t,n,s=!1){const l=new ka;l.updateFromServerResponse(n);const c=new qi({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Rc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Kv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new ka;g.updateFromIdToken(s);const p=new qi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function Hi(r){Gi(r instanceof Function,"Expected a class definition");let t=dy.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,dy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Yv.type="NONE";const my=Yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r,t,n){return`firebase:${r}:${t}:${n}`}class Pa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=mc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Pa(Hi(my),t,s);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Hi(my);const d=mc(s,t.config.apiKey,t.name);let g=null;for(const v of n)try{const A=await v._get(d);if(A){const I=qi._fromJSON(t,A);v!==c&&(g=I),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Pa(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Pa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tE(t))return"Blackberry";if(eE(t))return"Webos";if($v(t))return"Safari";if((t.includes("chrome/")||Zv(t))&&!t.includes("edge/"))return"Chrome";if(Jv(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Xv(r=Ke()){return/firefox\//i.test(r)}function $v(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zv(r=Ke()){return/crios\//i.test(r)}function Wv(r=Ke()){return/iemobile/i.test(r)}function Jv(r=Ke()){return/android/i.test(r)}function tE(r=Ke()){return/blackberry/i.test(r)}function eE(r=Ke()){return/webos/i.test(r)}function em(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xb(r=Ke()){var t;return em(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function zb(){return eS()&&document.documentMode===10}function nE(r=Ke()){return em(r)||Jv(r)||eE(r)||tE(r)||/windows phone/i.test(r)||Wv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(r,t=[]){let n;switch(r){case"Browser":n=gy(Ke());break;case"Worker":n=`${gy(Ke())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(r,t={}){return $a(r,"GET","/v2/passwordPolicy",Jd(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=6;class jb{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:Hb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new py(this),this.idTokenSubscription=new py(this),this.beforeStateQueue=new Bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Qv(this,{idToken:t}),s=await qi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(zn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Ds(this));const n=t?tn(t):null;return n&&mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qb(this),n=new jb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Lb(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;mt(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Tb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qc(r){return tn(r)}class py{constructor(t){this.auth=t,this.observer=null,this.addObserver=uS(n=>this.observer=n)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fb(r){nm=r}function Qb(r){return nm.loadJS(r)}function Kb(){return nm.gapiScript}function Yb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r,t){const n=Yd(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ns(c,t??{}))return l;hi(l,"already-initialized")}return n.initialize({options:t})}function $b(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function Zb(r,t,n){const s=qc(r);mt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=rE(t),{host:d,port:g}=Wb(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){mt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),mt(Ns(v,s.config.emulator)&&Ns(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Jb()}function rE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Wb(r){const t=rE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:_y(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:_y(d)}}}function _y(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Jb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(r,t){return Cb(r,"POST","/v1/accounts:signInWithIdp",Jd(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="http://localhost";class Ms extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=Xd(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ms(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return La(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,La(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,La(t,n)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Vl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends im{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ul{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ms._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ai.credentialFromTaggedObject(t)}static credentialFromError(t){return ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ai.credential(n,s)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ul{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ul{constructor(){super("twitter.com")}static credential(t,n){return Ms._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await qi._fromIdTokenResponse(t,s,l),d=yy(s);return new qa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=yy(s);return new qa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function yy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Yi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Ic(t,n,s,l)}}function aE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(r,c,t,s):c})}async function ew(r,t,n=!1){const s=await Tl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return qa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Ds(s));const l="reauthenticate";try{const c=await Tl(r,aE(s,l,t,r),n);mt(c.idToken,s,"internal-error");const d=tm(c.idToken);mt(d,s,"internal-error");const{sub:g}=d;return mt(r.uid===g,s,"user-mismatch"),qa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,t,n=!1){if(zn(r.app))return Promise.reject(Ds(r));const s="signIn",l=await aE(r,s,t),c=await qa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function rw(r,t,n,s){return tn(r).onIdTokenChanged(t,n,s)}function sw(r,t,n){return tn(r).beforeAuthStateChanged(t,n)}function oE(r,t,n,s){return tn(r).onAuthStateChanged(t,n,s)}function aw(r){return tn(r).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1e3,lw=10;class uE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);zb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,lw):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uE.type="LOCAL";const uw=uE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}cE.type="SESSION";const hE=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Hc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(n.origin,c)),p=await cw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=rm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const x=I;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function fw(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function dw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function gw(){return fE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebaseLocalStorageDb",pw=1,Dc="firebaseLocalStorage",mE="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jc(r,t){return r.transaction([Dc],t?"readwrite":"readonly").objectStore(Dc)}function _w(){const r=indexedDB.deleteDatabase(dE);return new kl(r).toPromise()}function Rd(){const r=indexedDB.open(dE,pw);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dc,{keyPath:mE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dc)?t(s):(s.close(),await _w(),t(await Rd()))})})}async function vy(r,t,n){const s=jc(r,!0).put({[mE]:t,value:n});return new kl(s).toPromise()}async function yw(r,t){const n=jc(r,!1).get(t),s=await new kl(n).toPromise();return s===void 0?null:s.value}function Ey(r,t){const n=jc(r,!0).delete(t);return new kl(n).toPromise()}const vw=800,Ew=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Ew)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hc._getInstance(gw()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rd();return await vy(t,Cc,"1"),await Ey(t,Cc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>yw(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ey(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=jc(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const Tw=gE;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r,t){return t?Hi(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends sE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return La(t,this._buildIdpRequest())}_linkToIdToken(t,n){return La(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return La(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Aw(r){return iw(r.auth,new sm(r),r.bypassAuthState)}function Sw(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),nw(n,new sm(r),r.bypassAuthState)}async function bw(r){const{auth:t,user:n}=r;return mt(n,t,"internal-error"),ew(n,new sm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:hi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Ml(2e3,1e4);async function Rw(r,t,n){if(zn(r.app))return Promise.reject(qn(r,"operation-not-supported-in-this-environment"));const s=qc(r);Ab(r,t,im);const l=pE(s,n);return new Is(s,"signInViaPopup",t,l).executeNotNull()}class Is extends _E{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ww.get())};t()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="pendingRedirect",gc=new Map;class Cw extends _E{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=gc.get(this.auth._key());if(!t){try{const s=await Dw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}gc.set(this.auth._key(),t)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dw(r,t){const n=Vw(t),s=Nw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Ow(r,t){gc.set(r._key(),t)}function Nw(r){return Hi(r._redirectPersistence)}function Vw(r){return mc(Iw,r.config.apiKey,r.name)}async function Mw(r,t,n=!1){if(zn(r.app))return Promise.reject(Ds(r));const s=qc(r),l=pE(s,t),d=await new Cw(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=10*60*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Pw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!yE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Uw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ty(t))}saveEventToCache(t){this.cachedEventUids.add(Ty(t)),this.lastProcessedEventTime=Date.now()}}function Ty(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function yE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Pw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(r,t={}){return $a(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function Bw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Lw(r);for(const n of t)try{if(qw(n))return}catch{}hi(r,"unauthorized-domain")}function qw(r){const t=bd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!zw.test(n))return!1;if(xw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Ml(3e4,6e4);function Ay(){const r=oi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jw(r){return new Promise((t,n)=>{var s,l,c;function d(){Ay(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ay(),n(qn(r,"network-request-failed"))},timeout:Hw.get()})}if(!((l=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=oi().gapi)===null||c===void 0)&&c.load)d();else{const g=Yb("iframefcb");return oi()[g]=()=>{gapi.load?d():n(qn(r,"network-request-failed"))},Qb(`${Kb()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw pc=null,t})}let pc=null;function Gw(r){return pc=pc||jw(r),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Ml(5e3,15e3),Qw="__/auth/iframe",Kw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Wd(t,Kw):`https://${r.config.authDomain}/${Qw}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=Xw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Vl(s).slice(1)}`}async function Zw(r){const t=await Gw(r),n=oi().gapi;return mt(n,r,"internal-error"),t.open({where:document.body,url:$w(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=qn(r,"network-request-failed"),g=oi().setTimeout(()=>{c(d)},Fw.get());function p(){oi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jw=500,tR=600,eR="_blank",nR="http://localhost";class Sy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iR(r,t,n,s=Jw,l=tR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Ww),{width:s.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();n&&(g=Zv(v)?eR:n),Xv(v)&&(t=t||nR,p.scrollbars="yes");const A=Object.entries(p).reduce((x,[H,X])=>`${x}${H}=${X},`,"");if(xb(v)&&g!=="_self")return rR(t||"",g),new Sy(null);const I=window.open(t||"",g,A);mt(I,r,"popup-blocked");try{I.focus()}catch{}return new Sy(I)}function rR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__/auth/handler",aR="emulator/auth/handler",oR=encodeURIComponent("fac");async function by(r,t,n,s,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:l};if(t instanceof im){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",lS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Ul){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${oR}=${encodeURIComponent(p)}`:"";return`${lR(r)}?${Vl(g).slice(1)}${v}`}function lR({config:r}){return r.emulator?Wd(r,aR):`https://${r.authDomain}/${sR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="webStorageSupport";class uR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=Mw,this._overrideRedirectResult=Ow}async _openPopup(t,n,s,l){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await by(t,n,s,bd(),l);return iR(t,d,rm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await by(t,n,s,bd(),l);return fw(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Zw(t),s=new kw(t);return n.register("authEvent",l=>(mt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(md,{type:md},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[md];d!==void 0&&n(!!d),hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nE()||$v()||em()}}const cR=uR;var wy="@firebase/auth",Ry="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dR(r){Ba(new Vs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(r)},v=new Gb(s,l,c,p);return $b(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ba(new Vs("auth-internal",t=>{const n=qc(t.getProvider("auth").getImmediate());return(s=>new hR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(wy,Ry,fR(r)),zr(wy,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=5*60,gR=Uv("authIdTokenMaxAge")||mR;let Iy=null;const pR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gR)return;const l=n==null?void 0:n.token;Iy!==l&&(Iy=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _R(r=xv()){const t=Yd(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Xb(r,{popupRedirectResolver:cR,persistence:[Tw,uw,hE]}),s=Uv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=pR(c.toString());sw(n,d,()=>d(n.currentUser)),rw(n,g=>d(g))}}const l=Vv("auth");return l&&Zb(n,`http://${l}`),n}function yR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Fb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=qn("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",yR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dR("Browser");var vR="firebase",ER="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(vR,ER,"app");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,vE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function S(){}S.prototype=w.prototype,M.D=w.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(C,V,P){for(var R=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)R[_e-2]=arguments[_e];return w.prototype[V].apply(C,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)C[V]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(V=0;16>V;++V)C[V]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=M.g[0],S=M.g[1],V=M.g[2];var P=M.g[3],R=w+(P^S&(V^P))+C[0]+3614090360&4294967295;w=S+(R<<7&4294967295|R>>>25),R=P+(V^w&(S^V))+C[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=V+(S^P&(w^S))+C[2]+606105819&4294967295,V=P+(R<<17&4294967295|R>>>15),R=S+(w^V&(P^w))+C[3]+3250441966&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(P^S&(V^P))+C[4]+4118548399&4294967295,w=S+(R<<7&4294967295|R>>>25),R=P+(V^w&(S^V))+C[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=V+(S^P&(w^S))+C[6]+2821735955&4294967295,V=P+(R<<17&4294967295|R>>>15),R=S+(w^V&(P^w))+C[7]+4249261313&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(P^S&(V^P))+C[8]+1770035416&4294967295,w=S+(R<<7&4294967295|R>>>25),R=P+(V^w&(S^V))+C[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=V+(S^P&(w^S))+C[10]+4294925233&4294967295,V=P+(R<<17&4294967295|R>>>15),R=S+(w^V&(P^w))+C[11]+2304563134&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(P^S&(V^P))+C[12]+1804603682&4294967295,w=S+(R<<7&4294967295|R>>>25),R=P+(V^w&(S^V))+C[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=V+(S^P&(w^S))+C[14]+2792965006&4294967295,V=P+(R<<17&4294967295|R>>>15),R=S+(w^V&(P^w))+C[15]+1236535329&4294967295,S=V+(R<<22&4294967295|R>>>10),R=w+(V^P&(S^V))+C[1]+4129170786&4294967295,w=S+(R<<5&4294967295|R>>>27),R=P+(S^V&(w^S))+C[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(P^w))+C[11]+643717713&4294967295,V=P+(R<<14&4294967295|R>>>18),R=S+(P^w&(V^P))+C[0]+3921069994&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^P&(S^V))+C[5]+3593408605&4294967295,w=S+(R<<5&4294967295|R>>>27),R=P+(S^V&(w^S))+C[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(P^w))+C[15]+3634488961&4294967295,V=P+(R<<14&4294967295|R>>>18),R=S+(P^w&(V^P))+C[4]+3889429448&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^P&(S^V))+C[9]+568446438&4294967295,w=S+(R<<5&4294967295|R>>>27),R=P+(S^V&(w^S))+C[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(P^w))+C[3]+4107603335&4294967295,V=P+(R<<14&4294967295|R>>>18),R=S+(P^w&(V^P))+C[8]+1163531501&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(V^P&(S^V))+C[13]+2850285829&4294967295,w=S+(R<<5&4294967295|R>>>27),R=P+(S^V&(w^S))+C[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=V+(w^S&(P^w))+C[7]+1735328473&4294967295,V=P+(R<<14&4294967295|R>>>18),R=S+(P^w&(V^P))+C[12]+2368359562&4294967295,S=V+(R<<20&4294967295|R>>>12),R=w+(S^V^P)+C[5]+4294588738&4294967295,w=S+(R<<4&4294967295|R>>>28),R=P+(w^S^V)+C[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=V+(P^w^S)+C[11]+1839030562&4294967295,V=P+(R<<16&4294967295|R>>>16),R=S+(V^P^w)+C[14]+4259657740&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^P)+C[1]+2763975236&4294967295,w=S+(R<<4&4294967295|R>>>28),R=P+(w^S^V)+C[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=V+(P^w^S)+C[7]+4139469664&4294967295,V=P+(R<<16&4294967295|R>>>16),R=S+(V^P^w)+C[10]+3200236656&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^P)+C[13]+681279174&4294967295,w=S+(R<<4&4294967295|R>>>28),R=P+(w^S^V)+C[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=V+(P^w^S)+C[3]+3572445317&4294967295,V=P+(R<<16&4294967295|R>>>16),R=S+(V^P^w)+C[6]+76029189&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(S^V^P)+C[9]+3654602809&4294967295,w=S+(R<<4&4294967295|R>>>28),R=P+(w^S^V)+C[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=V+(P^w^S)+C[15]+530742520&4294967295,V=P+(R<<16&4294967295|R>>>16),R=S+(V^P^w)+C[2]+3299628645&4294967295,S=V+(R<<23&4294967295|R>>>9),R=w+(V^(S|~P))+C[0]+4096336452&4294967295,w=S+(R<<6&4294967295|R>>>26),R=P+(S^(w|~V))+C[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=V+(w^(P|~S))+C[14]+2878612391&4294967295,V=P+(R<<15&4294967295|R>>>17),R=S+(P^(V|~w))+C[5]+4237533241&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~P))+C[12]+1700485571&4294967295,w=S+(R<<6&4294967295|R>>>26),R=P+(S^(w|~V))+C[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=V+(w^(P|~S))+C[10]+4293915773&4294967295,V=P+(R<<15&4294967295|R>>>17),R=S+(P^(V|~w))+C[1]+2240044497&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~P))+C[8]+1873313359&4294967295,w=S+(R<<6&4294967295|R>>>26),R=P+(S^(w|~V))+C[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=V+(w^(P|~S))+C[6]+2734768916&4294967295,V=P+(R<<15&4294967295|R>>>17),R=S+(P^(V|~w))+C[13]+1309151649&4294967295,S=V+(R<<21&4294967295|R>>>11),R=w+(V^(S|~P))+C[4]+4149444226&4294967295,w=S+(R<<6&4294967295|R>>>26),R=P+(S^(w|~V))+C[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=V+(w^(P|~S))+C[2]+718787259&4294967295,V=P+(R<<15&4294967295|R>>>17),R=S+(P^(V|~w))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var S=w-this.blockSize,C=this.B,V=this.h,P=0;P<w;){if(V==0)for(;P<=S;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<w;)if(C[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,C),V=0;break}}else for(;P<w;)if(C[V++]=M[P++],V==this.blockSize){l(this,C),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var S=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=S&255,S/=256;for(this.u(M),M=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)M[S++]=this.g[w]>>>C&255;return M};function c(M,w){var S=g;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=w(M)}function d(M,w){this.h=w;for(var S=[],C=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;C&&P==w||(S[V]=P,C=!1)}this.g=S}var g={};function p(M){return-128<=M&&128>M?c(M,function(w){return new d([w|0],0>w?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return $(v(-M));for(var w=[],S=1,C=0;M>=S;C++)w[C]=M/S|0,S*=4294967296;return new d(w,0)}function A(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return $(A(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(w,8)),C=I,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+P),w);8>P?(P=v(Math.pow(w,P)),C=C.j(P).add(v(R))):(C=C.j(S),C=C.add(v(R)))}return C}var I=p(0),x=p(1),H=p(16777216);r=d.prototype,r.m=function(){if(J(this))return-$(this).m();for(var M=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);M+=(0<=C?C:4294967296+C)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(J(this))return"-"+$(this).toString(M);for(var w=v(Math.pow(M,6)),S=this,C="";;){var V=qt(S,w).g;S=pt(S,V.j(w));var P=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,X(S))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function J(M){return M.h==-1}r.l=function(M){return M=pt(this,M),J(M)?-1:X(M)?0:1};function $(M){for(var w=M.g.length,S=[],C=0;C<w;C++)S[C]=~M.g[C];return new d(S,~M.h).add(x)}r.abs=function(){return J(this)?$(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0,V=0;V<=w;V++){var P=C+(this.i(V)&65535)+(M.i(V)&65535),R=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=R>>>16,P&=65535,R&=65535,S[V]=R<<16|P}return new d(S,S[S.length-1]&-2147483648?-1:0)};function pt(M,w){return M.add($(w))}r.j=function(M){if(X(this)||X(M))return I;if(J(this))return J(M)?$(this).j($(M)):$($(this).j(M));if(J(M))return $(this.j($(M)));if(0>this.l(H)&&0>M.l(H))return v(this.m()*M.m());for(var w=this.g.length+M.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var P=this.i(C)>>>16,R=this.i(C)&65535,_e=M.i(V)>>>16,ce=M.i(V)&65535;S[2*C+2*V]+=R*ce,ht(S,2*C+2*V),S[2*C+2*V+1]+=P*ce,ht(S,2*C+2*V+1),S[2*C+2*V+1]+=R*_e,ht(S,2*C+2*V+1),S[2*C+2*V+2]+=P*_e,ht(S,2*C+2*V+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new d(S,0)};function ht(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function _t(M,w){this.g=M,this.h=w}function qt(M,w){if(X(w))throw Error("division by zero");if(X(M))return new _t(I,I);if(J(M))return w=qt($(M),w),new _t($(w.g),$(w.h));if(J(w))return w=qt(M,$(w)),new _t($(w.g),w.h);if(30<M.g.length){if(J(M)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var S=x,C=w;0>=C.l(M);)S=yt(S),C=yt(C);var V=Dt(S,1),P=Dt(C,1);for(C=Dt(C,2),S=Dt(S,2);!X(C);){var R=P.add(C);0>=R.l(M)&&(V=V.add(S),P=R),C=Dt(C,1),S=Dt(S,1)}return w=pt(M,V.j(w)),new _t(V,w)}for(V=I;0<=M.l(w);){for(S=Math.max(1,Math.floor(M.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=v(S),R=P.j(w);J(R)||0<R.l(M);)S-=C,P=v(S),R=P.j(w);X(P)&&(P=x),V=V.add(P),M=pt(M,R)}return new _t(V,M)}r.A=function(M){return qt(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&M.i(C);return new d(S,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|M.i(C);return new d(S,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^M.i(C);return new d(S,this.h^M.h)};function yt(M){for(var w=M.g.length+1,S=[],C=0;C<w;C++)S[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(S,M.h)}function Dt(M,w){var S=w>>5;w%=32;for(var C=M.g.length-S,V=[],P=0;P<C;P++)V[P]=0<w?M.i(P+S)>>>w|M.i(P+S+1)<<32-w:M.i(P+S);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Br=d}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,cl,TE,_c,Id,AE,SE,bE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var B=_++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function x(u,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,x.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,B){for(var Z=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Z[Mt-2]=arguments[Mt];return m.prototype[k].apply(T,Z)}}function J(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const k=u.length||0,B=T.length||0;u.length=k+B;for(let Z=0;Z<B;Z++)u[k+Z]=T[Z]}else u.push(T)}}class pt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ht(u){return/^[\s\xa0]*$/.test(u)}function _t(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function qt(u){return qt[" "](u),u}qt[" "]=function(){};var yt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Dt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function w(u){const m={};for(const _ in u)m[_]=u[_];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<S.length;B++)_=S[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,_){const T=ce.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new pt(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,lt=!1,Ht=new _e,D=()=>{const u=g.Promise.resolve(void 0);ft=()=>{u.then(Y)}};var Y=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){P(_)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function St(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{qt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}X(St,tt);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ne(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++Lt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,m,_,T,k){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var Z=gn(u,m,T,k);return-1<Z?(m=u[Z],_||(m.fa=!1)):(m=new ne(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function di(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=k)&&Array.prototype.splice.call(T,k,1),B&&(Ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function gn(u,m,_,T){for(var k=0;k<u.length;++k){var B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),$i={};function mi(u,m,_,T,k){if(Array.isArray(m)){for(var B=0;B<m.length;B++)mi(u,m[B],_,T,k);return null}return _=Bl(_),u&&u[he]?u.K(m,_,v(T)?!!T.capture:!1,k):no(u,m,_,!1,T,k)}function no(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");var Z=v(k)?!!k.capture:!!k,Mt=io(u);if(Mt||(u[Xi]=Mt=new Ye(u)),_=Mt.add(m,_,T,Z,B),_.proxy)return _;if(T=qs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)et||(k=Z),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(js(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qs(){function u(_){return m.call(u.src,u.listener,_)}const m=ih;return u}function Hs(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Hs(u,m[B],_,T,k);else T=v(T)?!!T.capture:!!T,_=Bl(_),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],_=gn(B,_,T,k),-1<_&&(Ft(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=io(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gn(m,_,T,k)),(_=-1<u?m[u]:null)&&Yr(_))}function Yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])di(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(js(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=io(m))?(di(_,u),_.h==0&&(_.src=null,m[Xi]=null)):Ft(u)}}}function js(u){return u in $i?$i[u]:$i[u]="on"+u}function ih(u,m){if(u.da)u=!0;else{m=new St(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Yr(u),u=_.call(T,m)}return u}function io(u){return u=u[Xi],u instanceof Ye?u:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bl(u){return typeof u=="function"?u:(u[en]||(u[en]=function(m){return u.handleEvent(m)}),u[en])}function ye(){at.call(this),this.i=new Ye(this),this.M=this,this.F=null}X(ye,at),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){Hs(this,u,m,_,T)};function Re(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var k=m;m=new tt(T,u),C(m,k)}if(k=!0,_)for(var B=_.length-1;0<=B;B--){var Z=m.g=_[B];k=gi(Z,T,!0,m)&&k}if(Z=m.g=u,k=gi(Z,T,!0,m)&&k,k=gi(Z,T,!1,m)&&k,_)for(B=0;B<_.length;B++)Z=m.g=_[B],k=gi(Z,T,!1,m)&&k}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Ft(_[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function gi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,B=0;B<m.length;++B){var Z=m[B];if(Z&&!Z.da&&Z.capture==_){var Mt=Z.listener,Ee=Z.ha||Z.src;Z.fa&&di(u.i,Z),k=Mt.call(Ee,T)!==!1&&k}}return k&&!T.defaultPrevented}function ql(u,m,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ro(u){u.g=ql(()=>{u.g=null,u.i&&(u.i=!1,ro(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rh extends at{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){at.call(this),this.h=u,this.g={}}X(Xr,at);var Zi=[];function qe(u){Dt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Yr(m)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),qe(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=g.JSON.stringify,jn=g.JSON.parse,Xe=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function Hl(u){return u.h||(u.h=u.i())}function jl(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){tt.call(this,"d")}X(Wi,tt);function Mn(){tt.call(this,"c")}X(Mn,tt);var pn={},Ji=null;function Gs(){return Ji=Ji||new ye}pn.La="serverreachability";function oo(u){tt.call(this,pn.La,u)}X(oo,tt);function tr(u){const m=Gs();Re(m,new oo(m))}pn.STAT_EVENT="statevent";function Fs(u,m){tt.call(this,pn.STAT_EVENT,u),this.stat=m}X(Fs,tt);function oe(u){const m=Gs();Re(m,new Fs(m,u))}pn.Ma="timingevent";function Gl(u,m){tt.call(this,pn.Ma,u),this.size=m}X(Gl,tt);function er(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Fl(u,m,_,T,k,B){u.info(function(){if(u.g)if(B)for(var Z="",Mt=B.split("&"),Ee=0;Ee<Mt.length;Ee++){var Ut=Mt[Ee].split("=");if(1<Ut.length){var De=Ut[0];Ut=Ut[1];var Te=De.split("_");Z=2<=Te.length&&Te[1]=="type"?Z+(De+"="+Ut+"&"):Z+(De+"=redacted&")}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+Z})}function Ql(u,m,_,T,k,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+Z})}function ir(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ie(u,_)+(T?" "+T:"")})}function Fn(u,m){u.info(function(){return"TIMEOUT: "+m})}nr.prototype.info=function(){};function Ie(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Z=1;Z<k.length;Z++)k[Z]=""}}}}return so(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function Qs(){}X(Qs,ao),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},$r=new Qs;function Qn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lo}function lo(){this.i=null,this.g="",this.h=!1}var rr={},Zr={};function Un(u,m,_){u.L=1,u.v=ts(ie(m)),u.m=_,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),Wt(u),u.A=ie(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ei(_.i,"t",T),u.C=0,_=u.j.J,u.h=new lo,u.g=au(u.j,_?m:null,!u.m),0<u.O&&(u.M=new rh(x(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Zi[0]=k.toString()),k=Zi);for(var B=0;B<k.length;B++){var Z=mi(_,k[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),Fl(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Tn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Wl(this.g)))){this.J||Te!=4||m==7||(m==8||0>=bi?tr(3):tr(2)),Ks(this);var _=this.g.Z();this.X=_;e:if(sr(this)){var T=Wl(this.g);u="";var k=T.length,B=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),an(this);var Z="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,Ql(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Mt)){var Ut=Mt;break e}}Ut=null}if(_=Ut)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,_);else{this.o=!1,this.s=3,oe(12),nn(this),an(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<Z.length;)if(Ue=ar(this,Z),Ue==Zr){Te==4&&(this.s=4,oe(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==rr){this.s=4,oe(15),ir(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Ue,null),on(this,Ue);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||Z.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,Z,"[Invalid Chunked Response]"),nn(this),an(this);else if(0<Z.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),os(De),De.M=!0,oe(11))}}else ir(this.i,this.l,Z,null),on(this,Z);Te==4&&nn(this),this.o&&!this.J&&(Te==4?iu(this.j,this):(this.o=!1,Wt(this)))}else ch(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),nn(this),an(this)}}}catch{}finally{}};function sr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Zr:(_=Number(m.substring(_,T)),isNaN(_)?rr:(T+=1,T+_>m.length?Zr:(m=m.slice(T,T+_),u.C=T+_,m)))}Qn.prototype.cancel=function(){this.J=!0,nn(this)};function Wt(u){u.S=Date.now()+u.I,uo(u,u.I)}function uo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=er(x(u.ba,u),m)}function Ks(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fn(this.i,this.A),this.L!=2&&(tr(),oe(17)),nn(this),this.s=2,an(this)):uo(this,this.S-u)};function an(u){u.j.G==0||u.J||iu(u.j,u)}function nn(u){Ks(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,qe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function on(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||or(_.h,u))){if(!u.K&&or(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ia(_),ea(_);else break t;To(_),oe(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=er(x(_.Za,_),6e3));if(1>=Kl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((u.K||_.g==u)&&ia(_),!ht(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let Ut=k[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const De=Ut[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Te=Ut[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const bi=Ut[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ue=u.g;if(Ue){const Jn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var B=T.h;B.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(lr(B,B.h),B.h=null))}if(T.D){const So=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,xt(T.I,T.D,So))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var Z=u;if(T.qa=su(T,T.J?T.ia:null,T.W),Z.K){_n(T.h,Z);var Mt=Z,Ee=T.L;Ee&&(Mt.I=Ee),Mt.B&&(Ks(Mt),Wt(Mt)),T.g=Z}else eu(T);0<_.i.length&&na(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Si(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Si(_,7):vo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}tr(4)}catch{}}var sh=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function or(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function lr(u,m){u.g?u.g.add(m):u.h=m}function _n(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return J(u.i)}function Yl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function ah(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Wr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ah(u),T=Yl(u),k=T.length,B=0;B<k;B++)m.call(void 0,T[B],_&&_[B],u)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var B=u[_].substring(0,T);k=u[_].substring(T+1)}else B=u[_];m(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,ur(this,u.j),this.o=u.o,this.g=u.g,Jr(this,u.s),this.l=u.l;var m=u.i,_=new Kn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Xs(this,_),this.m=u.m}else u&&(m=String(u).match(fo))?(this.h=!1,ur(this,m[1]||"",!0),this.o=cr(m[2]||""),this.g=cr(m[3]||"",!0),Jr(this,m[4]),this.l=cr(m[5]||"",!0),Xs(this,m[6]||"",!0),this.m=cr(m[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(yn(m,mo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yn(m,mo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(yn(_,_.charAt(0)=="/"?go:Xl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",yn(_,uh)),u.join("")};function ie(u){return new yi(u)}function ur(u,m,_){u.j=_?cr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Jr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Xs(u,m,_){m instanceof Kn?(u.i=m,po(u.i,u.h)):(_||(m=yn(m,lh)),u.i=new Kn(m,u.h))}function xt(u,m,_){u.i.set(m,_)}function ts(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function cr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,oh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,Xl=/[#\?:]/g,go=/[#\?]/g,lh=/[#\?@]/g,uh=/#/g;function Kn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ys(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Kn.prototype,r.add=function(u,m){vn(this),this.i=null,u=Ti(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function $s(u,m){vn(u),m=Ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return vn(u),m=Ti(u,m),u.g.has(m)}r.forEach=function(u,m){vn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let B=0;B<k.length;B++)_.push(m[T])}return _},r.V=function(u){vn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Ti(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return vn(this),this.i=null,u=Ti(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,_){$s(u,m),0<_.length&&(u.i=null,u.g.set(Ti(u,m),J(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const B=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var k=B;Z[T]!==""&&(k+="="+encodeURIComponent(String(Z[T]))),u.push(k)}}return this.i=u.join("&")};function Ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function po(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&($s(this,T),Ei(this,k,_))},u)),u.j=m}function $l(u,m){const _=new nr;if(g.Image){const T=new Image;T.onload=H(En,_,"TestLoadImage: loaded",!0,m,T),T.onerror=H(En,_,"TestLoadImage: error",!1,m,T),T.onabort=H(En,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(En,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function es(u,m){const _=new nr,T=new AbortController,k=setTimeout(()=>{T.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(_,"TestPingServer: error",!1,m)})}function En(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function ns(){this.g=new Xe}function Yn(u,m,_){const T=_||"";try{Wr(u,function(k,B){let Z=k;v(k)&&(Z=so(k)),m.push(T+B+"="+encodeURIComponent(Z))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function hr(u){this.l=u.Ub||null,this.j=u.eb||!1}X(hr,ao),hr.prototype.g=function(){return new Ai(this.l,this.j)},hr.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ai,ye),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):$n(this),this.readyState==3&&_o(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},r.Qa=function(u){this.g&&(this.response=u,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yo(u){let m="";return Dt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ce(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=yo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):xt(u,m,_))}function jt(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(jt,ye);var Zs=/^https?$/i,is=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?Hl(this.o):Hl($r),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Zl(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(is,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of _)this.g.setRequestHeader(B,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Zl(this,B)}};function Zl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ws(u),Zn(u)}function Ws(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)ql(u.Ea,0,u);else if(Re(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=Z===0){var k=String(u.D).match(fo)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Zs.test(k?k.toLowerCase():"")}_=T}if(_)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var B=2<Tn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Ws(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){rs(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{_.onreadystatechange=T}catch{}}}function rs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),jn(m)}};function Wl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ch(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ht(u[T]))continue;var _=V(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ta(u){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,u),this.cb=ss("retryDelaySeedMs",1e4,u),this.Wa=ss("forwardChannelMaxRetries",2,u),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new co(u&&u.concurrentRequestLimit),this.Da=new ns,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){oe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=su(this,null,this.W),na(this)};function vo(u){if(Jl(u),u.G==3){var m=u.U++,_=ie(u.I);if(xt(_,"SID",u.K),xt(_,"RID",m),xt(_,"TYPE","terminate"),as(u,_),m=new Qn(u,u.j,m),m.L=2,m.v=ts(ie(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}ru(u)}function ea(u){u.g&&(os(u),u.g.cancel(),u.g=null)}function Jl(u){ea(u),u.u&&(g.clearTimeout(u.u),u.u=null),ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function na(u){if(!ho(u.h)&&!u.s){u.s=!0;var m=u.Ga;ft||D(),lt||(ft(),lt=!0),Ht.add(m,u),u.B=0}}function hh(u,m){return Kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=er(x(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Qn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=w(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(k.H=B,B=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=tu(this,k,m),_=ie(this.I),xt(_,"RID",u),xt(_,"CVER",22),this.D&&xt(_,"X-HTTP-Session-Id",this.D),as(this,_),B&&(this.O?m="headers="+encodeURIComponent(String(yo(B)))+"&"+m:this.m&&Ce(_,this.m,B)),lr(this.h,k),this.Ua&&xt(_,"TYPE","init"),this.P?(xt(_,"$req",m),xt(_,"SID","null"),k.T=!0,Un(k,_,null)):Un(k,_,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||ho(this.h)||Eo(this))};function Eo(u,m){var _;m?_=m.l:_=u.U++;const T=ie(u.I);xt(T,"SID",u.K),xt(T,"RID",_),xt(T,"AID",u.T),as(u,T),u.m&&u.o&&Ce(T,u.m,u.o),_=new Qn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,_),Un(_,T,m)}function as(u,m){u.H&&Dt(u.H,function(_,T){xt(m,T,_)}),u.l&&Wr({},function(_,T){xt(m,T,_)})}function tu(u,m,_){_=Math.min(u.i.length,_);var T=u.l?x(u.l.Na,u.l,u):null;t:{var k=u.i;let B=-1;for(;;){const Z=["count="+_];B==-1?0<_?(B=k[0].g,Z.push("ofs="+B)):B=0:Z.push("ofs="+B);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let Ut=k[Ee].g;const De=k[Ee].map;if(Ut-=B,0>Ut)B=Math.max(0,k[Ee].g-100),Mt=!1;else try{Yn(De,Z,"req"+Ut+"_")}catch{T&&T(De)}}if(Mt){T=Z.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function eu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ft||D(),lt||(ft(),lt=!0),Ht.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=er(x(u.Fa,u),Ao(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=er(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ea(this),nu(this))};function os(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ie(u.qa);xt(m,"RID","rpc"),xt(m,"SID",u.K),xt(m,"AID",u.T),xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(m,"TO",u.ja),xt(m,"TYPE","xmlhttp"),as(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ts(ie(m)),_.m=null,_.P=!0,_i(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),To(this),oe(19))};function ia(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function iu(u,m){var _=null;if(u.g==m){ia(u),os(u),u.g=null;var T=2}else if(or(u.h,m))_=m.D,_n(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Gs(),Re(T,new Gl(T,_)),na(u)}else eu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&hh(u,m)||T==2&&To(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Ao(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=x(u.fb,u),T=u.Xa;const k=!T;T=new yi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ur(T,"https"),ts(T),k?$l(T.toString(),_):es(T.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(m),ru(u),Jl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=$e(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function su(u,m,_){var T=_ instanceof yi?ie(_):new yi(_);if(T.g!="")m&&(T.g=m+"."+T.g),Jr(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var B=new yi(null);T&&ur(B,T),m&&(B.g=m),k&&Jr(B,k),_&&(B.l=_),T=B}return _=u.D,m=u.ya,_&&m&&xt(T,_,m),xt(T,"VER",u.la),as(u,T),T}function au(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new hr({eb:_})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}r=ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ye.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ht(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ht(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wn(this)}X(Ze,ye),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){vo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=so(u),u=_);m.i.push(new sh(m.Ya++,u)),m.G==3&&na(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,Ze.aa.N.call(this)};function lu(u){Wi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(lu,Wi);function uu(){Mn.call(this),this.status=1}X(uu,Mn);function Wn(u){this.g=u}X(Wn,ou),Wn.prototype.ua=function(){Re(this.g,"a")},Wn.prototype.ta=function(u){Re(this.g,new lu(u))},Wn.prototype.sa=function(u){Re(this.g,new uu)},Wn.prototype.ra=function(){Re(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,bE=function(){return new ra},SE=function(){return Gs()},AE=pn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,_c=ve,pi.COMPLETE="complete",TE=pi,jl.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,cl=jl,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,EE=jt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",Oy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Qd("@firebase/firestore");function Na(){return Us.logLevel}function nt(r,...t){if(Us.logLevel<=Ot.DEBUG){const n=t.map(am);Us.debug(`Firestore (${Za}): ${r}`,...n)}}function Fi(r,...t){if(Us.logLevel<=Ot.ERROR){const n=t.map(am);Us.error(`Firestore (${Za}): ${r}`,...n)}}function Ha(r,...t){if(Us.logLevel<=Ot.WARN){const n=t.map(am);Us.warn(`Firestore (${Za}): ${r}`,...n)}}function am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r="Unexpected state"){const t=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+r;throw Fi(t),new Error(t)}function Gt(r,t){r||dt()}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class AR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SR{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Os,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Os)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new wE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Fe(t)}}class bR{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wR{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new bR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ny(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new Ny(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=IR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function Cd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=RE(),d=CR(c.encode(Vy(r,n)),c.encode(Vy(t,n)));return d!==0?d:Rt(s,l)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function Vy(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function CR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function ja(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,Uy=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Uy);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<My)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uy}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-My;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new be(0,0))}static max(){return new gt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class si{constructor(t,n,s){n===void 0?n=0:n>t.length&&dt(),s===void 0?s=t.length-n:s>t.length-n&&dt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=si.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Rt(t.length,n.length)}static compareSegments(t,n){const s=si.isNumericId(t),l=si.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?si.extractNumericId(t).compare(si.extractNumericId(n)):Cd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Br.fromString(t.substring(4,t.length-2))}}class Zt extends si{construct(t,n,s){return new Zt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const DR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends si{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return DR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new ze([ky])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Zt.fromString(t))}static fromName(t){return new ut(Zt.fromString(t).popFirst(5))}static empty(){return new ut(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function OR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=gt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Hr(l,ut.empty(),t)}function NR(r){return new Hr(r.readTime,r.key,Al)}class Hr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(gt.min(),ut.empty(),Al)}static max(){return new Hr(gt.max(),ut.empty(),Al)}}function VR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==MR)throw r;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):F.reject(n)}static resolve(t){return new F((n,s)=>{n(t)})}static reject(t){return new F((n,s)=>{s(t)})}static waitFor(t){return new F((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=F.resolve(!1);for(const s of t)n=n.next(l=>l?F.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new F((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;n(t[v]).next(A=>{d[v]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new F((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function kR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Gc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function Fc(r){return r==null}function Oc(r){return r===0&&1/r==-1/0}function PR(r){return typeof r=="number"&&Number.isInteger(r)&&!Oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="";function LR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Py(t)),t=xR(r.get(n),t);return Py(t)}function xR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case CE:n+="";break;default:n+=c}}return n}function Py(r){return r+CE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ps(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function DE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||xe.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uc(this.root,t,this.comparator,!0)}}class uc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??xe.RED,this.left=l??xe.EMPTY,this.right=c??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new xe(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const t=this.left.check();if(t!==this.right.check())throw dt();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(t,n,s,l,c){return this}insert(t,n,s){return new xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(t){return new xy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class xy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new Bn([])}unionWith(t){let n=new we(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ja(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const zR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=zR.exec(r);if(Gt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="server_timestamp",VE="__type__",ME="__previous_value__",UE="__local_write_time__";function lm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[VE])===null||n===void 0?void 0:n.stringValue)===NE}function Qc(r){const t=r.mapValue.fields[ME];return lm(t)?Qc(t):t}function Sl(r){const t=jr(r.mapValue.fields[UE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n,s,l,c,d,g,p,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const Nc="(default)";class bl{constructor(t,n){this.projectId=t,this.database=n||Nc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",qR="__max__",cc={mapValue:{}},PE="__vector__",Vc="value";function Fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lm(r)?4:jR(r)?9007199254740991:HR(r)?10:11:dt()}function fi(r,t){if(r===t)return!0;const n=Fr(r);if(n!==Fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Sl(r).isEqual(Sl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=jr(l.timestampValue),g=jr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Gr(l.bytesValue).isEqual(Gr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ue(l.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ue(l.integerValue)===ue(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ue(l.doubleValue),g=ue(c.doubleValue);return d===g?Oc(d)===Oc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return ja(r.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Ly(d)!==Ly(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!fi(d[p],g[p])))return!1;return!0}(r,t);default:return dt()}}function wl(r,t){return(r.values||[]).find(n=>fi(n,t))!==void 0}function Ga(r,t){if(r===t)return 0;const n=Fr(r),s=Fr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ue(c.integerValue||c.doubleValue),p=ue(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return zy(r.timestampValue,t.timestampValue);case 4:return zy(Sl(r),Sl(t));case 5:return Cd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Gr(c),p=Gr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Rt(g[v],p[v]);if(A!==0)return A}return Rt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Rt(ue(c.latitude),ue(d.latitude));return g!==0?g:Rt(ue(c.longitude),ue(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return By(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const I=c.fields||{},x=d.fields||{},H=(g=I[Vc])===null||g===void 0?void 0:g.arrayValue,X=(p=x[Vc])===null||p===void 0?void 0:p.arrayValue,J=Rt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return J!==0?J:By(H,X)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===cc.mapValue&&d===cc.mapValue)return 0;if(c===cc.mapValue)return 1;if(d===cc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const x=Cd(p[I],A[I]);if(x!==0)return x;const H=Ga(g[p[I]],v[A[I]]);if(H!==0)return H}return Rt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw dt()}}function zy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=jr(r),s=jr(t),l=Rt(n.seconds,s.seconds);return l!==0?l:Rt(n.nanos,s.nanos)}function By(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ga(n[l],s[l]);if(c)return c}return Rt(n.length,s.length)}function Fa(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ut.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Dd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Dd(n.fields[d])}`;return l+"}"}(r.mapValue):dt()}function yc(r){switch(Fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qc(r);return t?16+yc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+yc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ps(s.fields,(c,d)=>{l+=c.length+yc(d)}),l}(r.mapValue);default:throw dt()}}function qy(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Od(r){return!!r&&"integerValue"in r}function um(r){return!!r&&"arrayValue"in r}function Hy(r){return!!r&&"nullValue"in r}function jy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vc(r){return!!r&&"mapValue"in r}function HR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[kE])===null||n===void 0?void 0:n.stringValue)===PE}function gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ps(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function jR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!vc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gl(n)}setAll(t){let n=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=gl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ps(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Vn(gl(this.value))}}function LE(r){const t=[];return Ps(r.fields,(n,s)=>{const l=new ze([n]);if(vc(s)){const c=LE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,gt.min(),gt.min(),gt.min(),Vn.empty(),0)}static newFoundDocument(t,n,s,l){return new Qe(t,1,n,gt.min(),s,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,gt.min(),gt.min(),Vn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,gt.min(),gt.min(),Vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,n){this.position=t,this.inclusive=n}}function Gy(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),n.key):s=Ga(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fy(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!fi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n="asc"){this.field=t,this.dir=n}}function GR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{}class pe extends xE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new QR(t,n,s):n==="array-contains"?new XR(t,s):n==="in"?new $R(t,s):n==="not-in"?new ZR(t,s):n==="array-contains-any"?new WR(t,s):new pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new KR(t,s):new YR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends xE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Hn(t,n)}matches(t){return zE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zE(r){return r.op==="and"}function BE(r){return FR(r)&&zE(r)}function FR(r){for(const t of r.filters)if(t instanceof Hn)return!1;return!0}function Nd(r){if(r instanceof pe)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(BE(r))return r.filters.map(t=>Nd(t)).join(",");{const t=r.filters.map(n=>Nd(n)).join(",");return`${r.op}(${t})`}}function qE(r,t){return r instanceof pe?function(s,l){return l instanceof pe&&s.op===l.op&&s.field.isEqual(l.field)&&fi(s.value,l.value)}(r,t):r instanceof Hn?function(s,l){return l instanceof Hn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&qE(d,l.filters[g]),!0):!1}(r,t):void dt()}function HE(r){return r instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(HE).join(" ,")+"}"}(r):"Filter"}class QR extends pe{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class KR extends pe{constructor(t,n){super(t,"in",n),this.keys=jE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class YR extends pe{constructor(t,n){super(t,"not-in",n),this.keys=jE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ut.fromName(s.referenceValue))}class XR extends pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return um(n)&&wl(n.arrayValue,this.value)}}class $R extends pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&wl(this.value.arrayValue,n)}}class ZR extends pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!wl(this.value.arrayValue,n)}}class WR extends pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function Qy(r,t=null,n=[],s=[],l=null,c=null,d=null){return new JR(r,t,n,s,l,c,d)}function cm(r){const t=Et(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Nd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Fc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.le=n}return t.le}function hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!GR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Fy(r.startAt,t.startAt)&&Fy(r.endAt,t.endAt)}function Vd(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function t1(r,t,n,s,l,c,d,g){return new to(r,t,n,s,l,c,d,g)}function fm(r){return new to(r)}function Ky(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GE(r){return r.collectionGroup!==null}function pl(r){const t=Et(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new Rl(c,s))}),n.has(ze.keyField().canonicalString())||t.he.push(new Rl(ze.keyField(),s))}return t.he}function li(r){const t=Et(r);return t.Pe||(t.Pe=e1(t,pl(r))),t.Pe}function e1(r,t){if(r.limitType==="F")return Qy(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Rl(l.field,c)});const n=r.endAt?new Mc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mc(r.startAt.position,r.startAt.inclusive):null;return Qy(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Md(r,t){const n=r.filters.concat([t]);return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ud(r,t,n){return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Kc(r,t){return hm(li(r),li(t))&&r.limitType===t.limitType}function FE(r){return`${cm(li(r))}|lt:${r.limitType}`}function Va(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>HE(l)).join(", ")}]`),Fc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Fa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Fa(l)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function Yc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of pl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const v=Gy(d,g,p);return d.inclusive?v<=0:v<0}(s.startAt,pl(s),l)||s.endAt&&!function(d,g,p){const v=Gy(d,g,p);return d.inclusive?v>=0:v>0}(s.endAt,pl(s),l))}(r,t)}function n1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QE(r){return(t,n)=>{let s=!1;for(const l of pl(r)){const c=i1(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function i1(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Ga(p,v):dt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new ee(ut.comparator);function Qi(){return r1}const KE=new ee(ut.comparator);function hl(...r){let t=KE;for(const n of r)t=t.insert(n.key,n);return t}function YE(r){let t=KE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Cs(){return _l()}function XE(){return _l()}function _l(){return new Ls(r=>r.toString(),(r,t)=>r.isEqual(t))}const s1=new ee(ut.comparator),a1=new we(ut.comparator);function Nt(...r){let t=a1;for(const n of r)t=t.add(n);return t}const o1=new we(Rt);function l1(){return o1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oc(t)?"-0":t}}function $E(r){return{integerValue:""+r}}function u1(r,t){return PR(t)?$E(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function c1(r,t,n){return r instanceof Il?function(l,c){const d={fields:{[VE]:{stringValue:NE},[UE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&lm(c)&&(c=Qc(c)),c&&(d.fields[ME]=c),{mapValue:d}}(n,t):r instanceof Cl?WE(r,t):r instanceof Dl?JE(r,t):function(l,c){const d=ZE(l,c),g=Yy(d)+Yy(l.Ie);return Od(d)&&Od(l.Ie)?$E(g):dm(l.serializer,g)}(r,t)}function h1(r,t,n){return r instanceof Cl?WE(r,t):r instanceof Dl?JE(r,t):n}function ZE(r,t){return r instanceof Uc?function(s){return Od(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Il extends Xc{}class Cl extends Xc{constructor(t){super(),this.elements=t}}function WE(r,t){const n=tT(t);for(const s of r.elements)n.some(l=>fi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Dl extends Xc{constructor(t){super(),this.elements=t}}function JE(r,t){let n=tT(t);for(const s of r.elements)n=n.filter(l=>!fi(l,s));return{arrayValue:{values:n}}}class Uc extends Xc{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Yy(r){return ue(r.integerValue||r.doubleValue)}function tT(r){return um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,n){this.field=t,this.transform=n}}function d1(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Cl&&l instanceof Cl||s instanceof Dl&&l instanceof Dl?ja(s.elements,l.elements,fi):s instanceof Uc&&l instanceof Uc?fi(s.Ie,l.Ie):s instanceof Il&&l instanceof Il}(r.transform,t.transform)}class m1{constructor(t,n){this.version=t,this.transformResults=n}}class ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ui}static exists(t){return new ui(void 0,t)}static updateTime(t){return new ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ec(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class $c{}function eT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mm(r.key,ui.none()):new Pl(r.key,r.data,ui.none());{const n=r.data,s=Vn.empty();let l=new we(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new xs(r.key,s,new Bn(l.toArray()),ui.none())}}function g1(r,t,n){r instanceof Pl?function(l,c,d){const g=l.value.clone(),p=$y(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof xs?function(l,c,d){if(!Ec(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=$y(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(nT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function yl(r,t,n,s){return r instanceof Pl?function(c,d,g,p){if(!Ec(c.precondition,d))return g;const v=c.value.clone(),A=Zy(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,n,s):r instanceof xs?function(c,d,g,p){if(!Ec(c.precondition,d))return g;const v=Zy(c.fieldTransforms,p,d),A=d.data;return A.setAll(nT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,g){return Ec(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function p1(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=ZE(s.transform,l||null);c!=null&&(n===null&&(n=Vn.empty()),n.set(s.field,c))}return n||null}function Xy(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ja(s,l,(c,d)=>d1(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Pl extends $c{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xs extends $c{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function $y(r,t,n){const s=new Map;Gt(r.length===n.length);for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,h1(d,g,n[l]))}return s}function Zy(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,c1(c,d,t))}return s}class mm extends $c{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _1 extends $c{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&g1(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=XE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=eT(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(gt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Nt())}isEqual(t){return this.batchId===t.batchId&&ja(this.mutations,t.mutations,(n,s)=>Xy(n,s))&&ja(this.baseMutations,t.baseMutations,(n,s)=>Xy(n,s))}}class gm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length);let l=function(){return s1}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new gm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Pt;function T1(r){switch(r){case Q.OK:return dt();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt()}}function iT(r){if(r===void 0)return Fi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case ge.OK:return Q.OK;case ge.CANCELLED:return Q.CANCELLED;case ge.UNKNOWN:return Q.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Q.INTERNAL;case ge.UNAVAILABLE:return Q.UNAVAILABLE;case ge.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ge.NOT_FOUND:return Q.NOT_FOUND;case ge.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ge.ABORTED:return Q.ABORTED;case ge.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ge.DATA_LOSS:return Q.DATA_LOSS;default:return dt()}}(Pt=ge||(ge={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Br([4294967295,4294967295],0);function Wy(r){const t=RE().encode(r),n=new vE;return n.update(t),new Uint8Array(n.digest())}function Jy(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Br([n,s],0),new Br([l,c],0)]}class pm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Br.fromNumber(this.Ee)}Ae(t,n,s){let l=t.add(n.multiply(Br.fromNumber(s)));return l.compare(A1)===1&&(l=new Br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Wy(t),[s,l]=Jy(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new pm(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const n=Wy(t),[s,l]=Jy(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Zc(gt.min(),l,new ee(Rt),Qi(),Nt())}}class Ll{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n,s,l){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=l}}class rT{constructor(t,n){this.targetId=t,this.ge=n}}class sT{constructor(t,n,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class tv{constructor(){this.pe=0,this.ye=ev(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Nt(),n=Nt(),s=Nt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:dt()}}),new Ll(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=ev()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class S1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qi(),this.$e=hc(),this.Ue=hc(),this.Ke=new ee(Rt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:dt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,s=t.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Vd(c))if(s===0){const d=new ut(c.path);this.ze(n,d,Qe.newNoDocument(d,gt.min()))}else Gt(s===1);else{const d=this.et(n);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Gr(s).toUint8Array()}catch(p){if(p instanceof OE)return Ha("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new pm(d,l,c)}catch(p){return Ha(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Vd(g.target)){const p=new ut(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Qe.newNoDocument(p,t))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let s=Nt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Zc(t,n,this.Ke,this.Qe,s);return this.Qe=Qi(),this.$e=hc(),this.Ue=hc(),this.Ke=new ee(Rt),l}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new tv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new we(Rt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(Rt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new tv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function hc(){return new ee(ut.comparator)}function ev(){return new ee(ut.comparator)}const b1={asc:"ASCENDING",desc:"DESCENDING"},w1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R1={and:"AND",or:"OR"};class I1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function kd(r,t){return r.useProto3Json||Fc(t)?t:{value:t}}function kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function C1(r,t){return kc(r,t.toTimestamp())}function ci(r){return Gt(!!r),gt.fromTimestamp(function(n){const s=jr(n);return new be(s.seconds,s.nanos)}(r))}function _m(r,t){return Pd(r,t).canonicalString()}function Pd(r,t){const n=function(l){return new Zt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function oT(r){const t=Zt.fromString(r);return Gt(fT(t)),t}function Ld(r,t){return _m(r.databaseId,t.path)}function gd(r,t){const n=oT(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(uT(n))}function lT(r,t){return _m(r.databaseId,t)}function D1(r){const t=oT(r);return t.length===4?Zt.emptyPath():uT(t)}function xd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uT(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function nv(r,t,n){return{name:Ld(r,t),fields:n.value.mapValue.fields}}function O1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(Gt(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Q.UNKNOWN:iT(v.code);return new rt(A,v.message||"")}(d);n=new sT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=gd(r,s.document.name),c=ci(s.document.updateTime),d=s.document.createTime?ci(s.document.createTime):gt.min(),g=new Vn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];n=new Tc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=gd(r,s.document),c=s.readTime?ci(s.readTime):gt.min(),d=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Tc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=gd(r,s.document),c=s.removedTargetIds||[];n=new Tc([],c,l,null)}else{if(!("filter"in t))return dt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new E1(l,c),g=s.targetId;n=new rT(g,d)}}return n}function N1(r,t){let n;if(t instanceof Pl)n={update:nv(r,t.key,t.value)};else if(t instanceof mm)n={delete:Ld(r,t.key)};else if(t instanceof xs)n={update:nv(r,t.key,t.data),updateMask:B1(t.fieldMask)};else{if(!(t instanceof _1))return dt();n={verify:Ld(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Il)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Uc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw dt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:C1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt()}(r,t.precondition)),n}function V1(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(l,c){let d=l.updateTime?ci(l.updateTime):ci(c);return d.isEqual(gt.min())&&(d=ci(c)),new m1(d,l.transformResults||[])}(n,t))):[]}function M1(r,t){return{documents:[lT(r,t.path)]}}function U1(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=lT(r,l);const c=function(v){if(v.length!==0)return hT(Hn.create(v,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(x){return{field:Ma(x.field),direction:L1(x.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=kd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:n,parent:l}}function k1(r){let t=D1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(I){const x=cT(I);return x instanceof Hn&&BE(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(x=>function(X){return new Rl(Ua(X.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(x))}(n.orderBy));let g=null;n.limit&&(g=function(I){let x;return x=typeof I=="object"?I.value:I,Fc(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(I){const x=!!I.before,H=I.values||[];return new Mc(H,x)}(n.startAt));let v=null;return n.endAt&&(v=function(I){const x=!I.before,H=I.values||[];return new Mc(H,x)}(n.endAt)),t1(t,l,d,c,g,"F",p,v)}function P1(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(n.unaryFilter.field);return pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(n.unaryFilter.field);return pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(n.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(r):r.fieldFilter!==void 0?function(n){return pe.create(Ua(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(s=>cT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt()}}(n.compositeFilter.op))}(r):dt()}function L1(r){return b1[r]}function x1(r){return w1[r]}function z1(r){return R1[r]}function Ma(r){return{fieldPath:r.canonicalString()}}function Ua(r){return ze.fromServerFormat(r.fieldPath)}function hT(r){return r instanceof pe?function(n){if(n.op==="=="){if(jy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:x1(n.op),value:n.value}}}(r):r instanceof Hn?function(n){const s=n.getFilters().map(l=>hT(l));return s.length===1?s[0]:{compositeFilter:{op:z1(n.op),filters:s}}}(r):dt()}function B1(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,n,s,l,c=gt.min(),d=gt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.Tt=t}}function H1(r){const t=k1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ud(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.Tn=new G1}addToCollectionParentIndex(t,n){return this.Tn.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(Hr.min())}updateCollectionGroup(t,n,s){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class G1{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new we(Zt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(dT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Qa(0)}static Kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LruGarbageCollector",F1=1048576;function sv([r,t],[n,s]){const l=Rt(r,n);return l===0?Rt(t,s):l}class Q1{constructor(t){this.Hn=t,this.buffer=new we(sv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K1{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(rv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?nt(rv,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.er(3e5)})}}class Y1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return F.resolve(Gc.ae);const s=new Q1(n);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(iv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(v=Date.now(),Na()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function X1(r,t){return new Y1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.changes=new Ls(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?F.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&yl(s.mutation,l,Bn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Nt()){const l=Cs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=hl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Cs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Nt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=Qi();const d=_l(),g=function(){return _l()}();return n.forEach((p,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof xs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),yl(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),n.forEach((v,A)=>{var I;return g.set(v,new Z1(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=_l();let l=new ee((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=n.get(p);if(v===null)return;let A=s.get(p)||Bn.empty();A=g.applyToLocalView(v,A),s.set(p,A);const I=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,I=XE();A.forEach(x=>{if(!c.has(x)){const H=eT(n.get(x),s.get(x));H!==null&&I.set(x,H),c=c.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,I))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):GE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):F.resolve(Cs());let g=Al,p=c;return d.next(v=>F.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?F.resolve():this.remoteDocumentCache.getEntry(t,A).next(x=>{p=p.insert(A,x)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Nt())).next(A=>({batchId:g,changes:YE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next(s=>{let l=hl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=hl();return this.indexManager.getCollectionParents(t,c).next(g=>F.forEach(g,p=>{const v=function(I,x){return new to(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((I,x)=>{d=d.insert(I,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=hl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&yl(A.mutation,v,Bn.empty(),be.now()),Yc(n,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}}(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:H1(l.bundledQuery),readTime:ci(l.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.overlays=new ee(ut.comparator),this.Rr=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Cs();return F.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.Et(t,n,c)}),F.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),F.resolve()}getOverlaysForCollection(t,n,s){const l=Cs(),c=n.length+1,d=new ut(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return F.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ee((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Cs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Cs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return F.resolve(g)}Et(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new v1(n,s));let c=this.Rr.get(n);c===void 0&&(c=Nt(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Me(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Me(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new ut(new Zt([])),s=new Me(n,t),l=new Me(n,t+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ut(new Zt([])),s=new Me(n,t),l=new Me(n,t+1);let c=Nt();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Me(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ut.comparator(t.key,n.key)||Rt(t.Cr,n.Cr)}static pr(t,n){return Rt(t.Cr,n.Cr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new y1(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return F.resolve(d)}lookupMutationBatch(t,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Nr(s),c=l<0?0:l;return F.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?om:this.Fr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),F.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(Rt);return n.forEach(l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),F.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new Me(new ut(c),0);let g=new we(Rt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Cr)),!0)},d),F.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return F.forEach(n.mutations,l=>{const c=new Me(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Me(n,0),l=this.Mr.firstAfterOrEqual(s);return F.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t){this.kr=t,this.docs=function(){return new ee(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return F.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Qi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),F.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Qi();const d=n.path,g=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||VR(NR(A),s)<=0||(l.has(A.key)||Yc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return F.resolve(c)}getAllFromCollectionGroup(t,n,s,l){dt()}qr(t,n){return F.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new rI(this)}getSize(t){return F.resolve(this.size)}}class rI extends $1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),F.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.persistence=t,this.Qr=new Ls(n=>cm(n),hm),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ym,this.targetCount=0,this.Kr=Qa.Un()}forEachTarget(t,n){return this.Qr.forEach((s,l)=>n(l)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),F.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Qa(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.zn(n),F.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),F.waitFor(c).next(()=>l)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return F.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),F.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),F.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),F.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return F.resolve(s)}containsKey(t,n){return F.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Gc(0),this.zr=!1,this.zr=!0,this.jr=new eI,this.referenceDelegate=t(this),this.Hr=new sI(this),this.indexManager=new j1,this.remoteDocumentCache=function(l){return new iI(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new q1(n),this.Yr=new J1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new nI(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){nt("MemoryPersistence","Starting transaction:",t);const l=new aI(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,n){return F.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class aI extends UR{constructor(t){super(),this.currentSequenceNumber=t}}class vm{constructor(t){this.persistence=t,this.ti=new ym,this.ni=null}static ri(t){return new vm(t)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),F.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,s=>{const l=ut.fromPath(s);return this.si(t,l).next(c=>{c||n.removeEntry(l,gt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Pc{constructor(t,n){this.persistence=t,this.oi=new Ls(s=>LR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=X1(this,n)}static ri(t,n){return new Pc(t,n)}Zr(){}Xr(t){return F.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return F.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?F.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,n).next(g=>{g||(s++,c.removeEntry(d,gt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),F.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),F.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),F.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yc(t.data.value)),n}ar(t,n,s){return F.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return F.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(t,n){let s=Nt(),l=Nt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Em(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return nS()?8:kR(Ke())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.rs(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new oI;return this._s(t,n,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,d,g.size)})}).next(()=>c.result)}us(t,n,s,l){return s.documentReadCount<this.es?(Na()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(Na()<=Ot.DEBUG&&nt("QueryEngine","Query:",Va(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Na()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,li(n))):F.resolve())}rs(t,n){if(Ky(n))return F.resolve(null);let s=li(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Ud(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Nt(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const v=this.cs(n,g);return this.ls(n,v,d,p.readTime)?this.rs(t,Ud(n,null,"F")):this.hs(t,v,n,p)}))})))}ss(t,n,s,l){return Ky(n)||l.isEqual(gt.min())?F.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(n,c);return this.ls(n,d,s,l)?F.resolve(null):(Na()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(n)),this.hs(t,d,n,OR(l,Al)).next(g=>g))})}cs(t,n){let s=new we(QE(t));return n.forEach((l,c)=>{Yc(t,c)&&(s=s.add(c))}),s}ls(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,n,s){return Na()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Va(n)),this.ns.getDocumentsMatchingQuery(t,n,Hr.min(),s)}hs(t,n,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="LocalStore",uI=3e8;class cI{constructor(t,n,s,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new ee(Rt),this.Is=new Ls(c=>cm(c),hm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new W1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function hI(r,t,n,s){return new cI(r,t,n,s)}async function gT(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Nt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function fI(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const I=v.batch,x=I.keys();let H=F.resolve();return x.forEach(X=>{H=H.next(()=>A.getEntry(p,X)).next(J=>{const $=v.docVersions.get(X);Gt($!==null),J.version.compareTo($)<0&&(I.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),A.addEntry(J)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function pT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function dI(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((A,I)=>{const x=l.get(I);if(!x)return;g.push(n.Hr.removeMatchingKeys(c,A.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(c,A.addedDocuments,I)));let H=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),l=l.insert(I,H),function(J,$,pt){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=uI?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(x,H,A)&&g.push(n.Hr.updateTargetData(c,H))});let p=Qi(),v=Nt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(mI(c,d,t.documentUpdates).next(A=>{p=A.Vs,v=A.fs})),!s.isEqual(gt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(c).next(I=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return F.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(n.Ts=l,c))}function mI(r,t,n){let s=Nt(),l=Nt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Qi();return n.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(gt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):nt(Tm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function gI(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=om),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function pI(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,t).next(c=>c?(l=c,F.resolve(l)):n.Hr.allocateTargetId(s).next(d=>(l=new Pr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function zd(r,t,n){const s=Et(r),l=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ja(d))throw d;nt(Tm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function av(r,t,n){const s=Et(r);let l=gt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const I=Et(p),x=I.Is.get(A);return x!==void 0?F.resolve(I.Ts.get(x)):I.Hr.getTargetData(v,A)}(s,d,li(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,n?l:gt.min(),n?c:Nt())).next(g=>(_I(s,n1(t),g),{documents:g,gs:c})))}function _I(r,t,n){let s=r.Es.get(t)||gt.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class ov{constructor(){this.activeTargetIds=l1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yI{constructor(){this.ho=new ov,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new ov,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class uv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(lv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Bd(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",EI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TI{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,n,s,l,c){const d=Bd(),g=this.bo(t,n.toUriEncodedString());nt(pd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(v=>(nt(pd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ha(pd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,n,s,l,c,d){return this.So(t,n,s,l,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,n){const s=EI[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class SI extends TI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,l){const c=Bd();return new Promise((d,g)=>{const p=new EE;p.setWithCredentials(!0),p.listenOnce(TE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _c.NO_ERROR:const A=p.getResponseJson();nt(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case _c.TIMEOUT:nt(Ge,`RPC '${t}' ${c} timed out`),g(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const I=p.getStatus();if(nt(Ge,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x==null?void 0:x.error;if(H&&H.status&&H.message){const X=function($){const pt=$.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(pt)>=0?pt:Q.UNKNOWN}(H.status);g(new rt(X,H.message))}else g(new rt(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt(Ge,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);nt(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(n,"POST",v,s,15)})}Wo(t,n,s){const l=Bd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=bE(),g=SE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");nt(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);let x=!1,H=!1;const X=new AI({Fo:$=>{H?nt(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(x||(nt(Ge,`Opening RPC '${t}' stream ${l} transport.`),I.open(),x=!0),nt(Ge,`RPC '${t}' stream ${l} sending:`,$),I.send($))},Mo:()=>I.close()}),J=($,pt,ht)=>{$.listen(pt,_t=>{try{ht(_t)}catch(qt){setTimeout(()=>{throw qt},0)}})};return J(I,cl.EventType.OPEN,()=>{H||(nt(Ge,`RPC '${t}' stream ${l} transport opened.`),X.Qo())}),J(I,cl.EventType.CLOSE,()=>{H||(H=!0,nt(Ge,`RPC '${t}' stream ${l} transport closed`),X.Uo())}),J(I,cl.EventType.ERROR,$=>{H||(H=!0,Ha(Ge,`RPC '${t}' stream ${l} transport errored:`,$),X.Uo(new rt(Q.UNAVAILABLE,"The operation could not be completed")))}),J(I,cl.EventType.MESSAGE,$=>{var pt;if(!H){const ht=$.data[0];Gt(!!ht);const _t=ht,qt=(_t==null?void 0:_t.error)||((pt=_t[0])===null||pt===void 0?void 0:pt.error);if(qt){nt(Ge,`RPC '${t}' stream ${l} received error:`,qt);const yt=qt.status;let Dt=function(S){const C=ge[S];if(C!==void 0)return iT(C)}(yt),M=qt.message;Dt===void 0&&(Dt=Q.INTERNAL,M="Unknown error status: "+yt+" with message "+qt.message),H=!0,X.Uo(new rt(Dt,M)),I.close()}else nt(Ge,`RPC '${t}' stream ${l} received:`,ht),X.Ko(ht)}}),J(g,AE.STAT_EVENT,$=>{$.stat===Id.PROXY?nt(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Id.NOPROXY&&nt(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r){return new I1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class yT{constructor(t,n,s,l,c,d,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _T(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{t(()=>{const l=new rt(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(nt(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bI extends yT{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=O1(this.serializer,t),s=function(c){if(!("targetChange"in c))return gt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?ci(d.readTime):gt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=xd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Vd(p)?{documents:M1(c,p)}:{query:U1(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=aT(c,d.resumeToken);const v=kd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){g.readTime=kc(c,d.snapshotVersion.toTimestamp());const v=kd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=P1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=xd(this.serializer),n.removeTarget=t,this.I_(n)}}class wI extends yT{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=V1(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=xd(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>N1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{}class II extends RI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Pd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Q.UNKNOWN,c.toString())})}Co(t,n,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Pd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Q.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fi(n),this.N_=!1):nt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class DI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{zs(this)&&(nt(ks,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.W_.add(4),await xl(v),v.j_.set("Unknown"),v.W_.delete(4),await Jc(v)}(this))})}),this.j_=new CI(s,l)}}async function Jc(r){if(zs(r))for(const t of r.G_)await t(!0)}async function xl(r){for(const t of r.G_)await t(!1)}function vT(r,t){const n=Et(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),wm(n)?bm(n):eo(n).c_()&&Sm(n,t))}function Am(r,t){const n=Et(r),s=eo(n);n.K_.delete(t),s.c_()&&ET(n,t),n.K_.size===0&&(s.c_()?s.P_():zs(n)&&n.j_.set("Unknown"))}function Sm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eo(r).y_(t)}function ET(r,t){r.H_.Ne(t),eo(r).w_(t)}function bm(r){r.H_=new S1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.j_.B_()}function wm(r){return zs(r)&&!eo(r).u_()&&r.K_.size>0}function zs(r){return Et(r).W_.size===0}function TT(r){r.H_=void 0}async function OI(r){r.j_.set("Online")}async function NI(r){r.K_.forEach((t,n)=>{Sm(r,t)})}async function VI(r,t){TT(r),wm(r)?(r.j_.q_(t),bm(r)):r.j_.set("Unknown")}async function MI(r,t,n){if(r.j_.set("Online"),t instanceof sT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(s){nt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Lc(r,s)}else if(t instanceof Tc?r.H_.We(t):t instanceof rT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(gt.min()))try{const s=await pT(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.K_.get(v);A&&c.K_.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.K_.get(p);if(!A)return;c.K_.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),ET(c,p);const I=new Pr(A.target,p,v,A.sequenceNumber);Sm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){nt(ks,"Failed to raise snapshot:",s),await Lc(r,s)}}async function Lc(r,t,n){if(!Ja(t))throw t;r.W_.add(1),await xl(r),r.j_.set("Offline"),n||(n=()=>pT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{nt(ks,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Jc(r)})}function AT(r,t){return t().catch(n=>Lc(r,n,t))}async function th(r){const t=Et(r),n=Qr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:om;for(;UI(t);)try{const l=await gI(t.localStore,s);if(l===null){t.U_.length===0&&n.P_();break}s=l.batchId,kI(t,l)}catch(l){await Lc(t,l)}ST(t)&&bT(t)}function UI(r){return zs(r)&&r.U_.length<10}function kI(r,t){r.U_.push(t);const n=Qr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function ST(r){return zs(r)&&!Qr(r).u_()&&r.U_.length>0}function bT(r){Qr(r).start()}async function PI(r){Qr(r).C_()}async function LI(r){const t=Qr(r);for(const n of r.U_)t.b_(n.mutations)}async function xI(r,t,n){const s=r.U_.shift(),l=gm.from(s,t,n);await AT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await th(r)}async function zI(r,t){t&&Qr(r).S_&&await async function(s,l){if(function(d){return T1(d)&&d!==Q.ABORTED}(l.code)){const c=s.U_.shift();Qr(s).h_(),await AT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await th(s)}}(r,t),ST(r)&&bT(r)}async function hv(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),nt(ks,"RemoteStore received new credentials");const s=zs(n);n.W_.add(3),await xl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Jc(n)}async function BI(r,t){const n=Et(r);t?(n.W_.delete(2),await Jc(n)):t||(n.W_.add(2),await xl(n),n.j_.set("Unknown"))}function eo(r){return r.J_||(r.J_=function(n,s,l){const c=Et(n);return c.M_(),new bI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:OI.bind(null,r),No:NI.bind(null,r),Lo:VI.bind(null,r),p_:MI.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),wm(r)?bm(r):r.j_.set("Unknown")):(await r.J_.stop(),TT(r))})),r.J_}function Qr(r){return r.Y_||(r.Y_=function(n,s,l){const c=Et(n);return c.M_(),new wI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:PI.bind(null,r),Lo:zI.bind(null,r),D_:LI.bind(null,r),v_:xI.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await th(r)):(await r.Y_.stop(),r.U_.length>0&&(nt(ks,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Rm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),Ja(r))return new rt(Q.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static emptySet(t){return new xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Z_=new ee(ut.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):dt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ka{constructor(t,n,s,l,c,d,g,p,v){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Ka(t,n,xa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class HI{constructor(){this.queries=dv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Et(n),c=l.queries;l.queries=dv(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function dv(){return new Ls(r=>FE(r),Kc)}async function jI(r,t){const n=Et(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new qI,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Im(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&Cm(n)}async function GI(r,t){const n=Et(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FI(r,t){const n=Et(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&Cm(n)}function QI(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(n);s.queries.delete(t)}function Cm(r){r.ia.forEach(t=>{t.next()})}var qd,mv;(mv=qd||(qd={}))._a="default",mv.Cache="cache";class KI{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ka(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.key=t}}class RT{constructor(t){this.key=t}}class YI{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=QE(t),this.wa=new xa(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new fv,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const x=l.get(A),H=Yc(this.query,I)?I:null,X=!!x&&this.mutatedKeys.has(x.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;x&&H?x.data.isEqual(H.data)?X!==J&&(s.track({type:3,doc:H}),$=!0):this.va(x,H)||(s.track({type:2,doc:H}),$=!0,(p&&this.ya(H,p)>0||v&&this.ya(H,v)<0)&&(g=!0)):!x&&H?(s.track({type:0,doc:H}),$=!0):x&&!H&&(s.track({type:1,doc:x}),$=!0,(p||v)&&(g=!0)),$&&(H?(d=d.add(H),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,I)=>function(H,X){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return J(H)-J(X)}(A.type,I.type)||this.ya(A.doc,I.doc)),this.Ca(s),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,v=p!==this.ga;return this.ga=p,d.length!==0||v?{snapshot:new Ka(this.query,t.wa,c,d,t.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new RT(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new wT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Nt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ka.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Dm="SyncEngine";class XI{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class $I{constructor(t){this.key=t,this.Ba=!1}}class ZI{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ls(g=>FE(g),Kc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(ut.comparator),this.Ua=new Map,this.Ka=new ym,this.Wa={},this.Ga=new Map,this.za=Qa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function WI(r,t,n=!0){const s=VT(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await IT(s,t,n,!0),l}async function JI(r,t){const n=VT(r);await IT(n,t,!0,!1)}async function IT(r,t,n,s){const l=await pI(r.localStore,li(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await tC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&vT(r.remoteStore,l),g}async function tC(r,t,n,s,l){r.Ha=(I,x,H)=>async function(J,$,pt,ht){let _t=$.view.ba(pt);_t.ls&&(_t=await av(J.localStore,$.query,!1).then(({documents:M})=>$.view.ba(M,_t)));const qt=ht&&ht.targetChanges.get($.targetId),yt=ht&&ht.targetMismatches.get($.targetId)!=null,Dt=$.view.applyChanges(_t,J.isPrimaryClient,qt,yt);return pv(J,$.targetId,Dt.Ma),Dt.snapshot}(r,I,x,H);const c=await av(r.localStore,t,!0),d=new YI(t,c.gs),g=d.ba(c.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);pv(r,n,v.Ma);const A=new XI(t,n,d);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),v.snapshot}async function eC(r,t,n){const s=Et(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!Kc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await zd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Am(s.remoteStore,l.targetId),Hd(s,l.targetId)}).catch(Wa)):(Hd(s,l.targetId),await zd(s.localStore,l.targetId,!0))}async function nC(r,t){const n=Et(r),s=n.ka.get(t),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Am(n.remoteStore,s.targetId))}async function iC(r,t,n){const s=cC(r);try{const l=await function(d,g){const p=Et(d),v=be.now(),A=g.reduce((H,X)=>H.add(X.key),Nt());let I,x;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let X=Qi(),J=Nt();return p.ds.getEntries(H,A).next($=>{X=$,X.forEach((pt,ht)=>{ht.isValidDocument()||(J=J.add(pt))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,X)).next($=>{I=$;const pt=[];for(const ht of g){const _t=p1(ht,I.get(ht.key).overlayedDocument);_t!=null&&pt.push(new xs(ht.key,_t,LE(_t.value.mapValue),ui.exists(!0)))}return p.mutationQueue.addMutationBatch(H,v,pt,g)}).next($=>{x=$;const pt=$.applyToLocalDocumentSet(I,J);return p.documentOverlayCache.saveOverlays(H,$.batchId,pt)})}).then(()=>({batchId:x.batchId,changes:YE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Wa[d.currentUser.toKey()];v||(v=new ee(Rt)),v=v.insert(g,p),d.Wa[d.currentUser.toKey()]=v}(s,l.batchId,n),await zl(s,l.changes),await th(s.remoteStore)}catch(l){const c=Im(l,"Failed to persist write");n.reject(c)}}async function CT(r,t){const n=Et(r);try{const s=await dI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Ua.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Gt(d.Ba):l.removedDocuments.size>0&&(Gt(d.Ba),d.Ba=!1))}),await zl(n,s,t)}catch(s){await Wa(s)}}function gv(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,I)=>{for(const x of I.ta)x.sa(g)&&(v=!0)}),v&&Cm(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function rC(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Ua.get(t),c=l&&l.key;if(c){let d=new ee(ut.comparator);d=d.insert(c,Qe.newNoDocument(c,gt.min()));const g=Nt().add(c),p=new Zc(gt.min(),new Map,new ee(Rt),d,g);await CT(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),Om(s)}else await zd(s.localStore,t,!1).then(()=>Hd(s,t,n)).catch(Wa)}async function sC(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await fI(n.localStore,t);OT(n,s,null),DT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zl(n,l)}catch(l){await Wa(l)}}async function aC(r,t,n){const s=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(I=>(Gt(I!==null),A=I.keys(),p.mutationQueue.removeMutationBatch(v,I))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(s.localStore,t);OT(s,t,n),DT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await zl(s,l)}catch(l){await Wa(l)}}function DT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function OT(r,t,n){const s=Et(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function Hd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||NT(r,s)})}function NT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Am(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Om(r))}function pv(r,t,n){for(const s of n)s instanceof wT?(r.Ka.addReference(s.key,t),oC(r,s)):s instanceof RT?(nt(Dm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||NT(r,s.key)):dt()}function oC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(nt(Dm,"New document in limbo: "+n),r.Qa.add(s),Om(r))}function Om(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ut(Zt.fromString(t)),s=r.za.next();r.Ua.set(s,new $I(n)),r.$a=r.$a.insert(n,s),vT(r.remoteStore,new Pr(li(fm(n.path)),s,"TargetPurposeLimboResolution",Gc.ae))}}async function zl(r,t,n){const s=Et(r),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,n).then(v=>{var A;if((v||n)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(v){l.push(v);const I=Em.Yi(p.targetId,v);c.push(I)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>F.forEach(v,x=>F.forEach(x.Hi,H=>A.persistence.referenceDelegate.addReference(I,x.targetId,H)).next(()=>F.forEach(x.Ji,H=>A.persistence.referenceDelegate.removeReference(I,x.targetId,H)))))}catch(I){if(!Ja(I))throw I;nt(Tm,"Failed to update sequence numbers: "+I)}for(const I of v){const x=I.targetId;if(!I.fromCache){const H=A.Ts.get(x),X=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(X);A.Ts=A.Ts.insert(x,J)}}}(s.localStore,c))}async function lC(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){nt(Dm,"User change. New user:",t.toKey());const s=await gT(n.localStore,t);n.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new rt(Q.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zl(n,s.Rs)}}function uC(r,t){const n=Et(r),s=n.Ua.get(t);if(s&&s.Ba)return Nt().add(s.key);{let l=Nt();const c=n.qa.get(t);if(!c)return l;for(const d of c){const g=n.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function VT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rC.bind(null,t),t.La.p_=FI.bind(null,t.eventManager),t.La.Ja=QI.bind(null,t.eventManager),t}function cC(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return hI(this.persistence,new lI,t.initialUser,this.serializer)}Xa(t){return new mT(vm.ri,this.serializer)}Za(t){return new yI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class hC extends xc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof Pc);const s=this.persistence.referenceDelegate.garbageCollector;return new K1(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new mT(s=>Pc.ri(s,n),this.serializer)}}class jd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await BI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new HI}()}createDatastore(t){const n=Wc(t.databaseInfo.databaseId),s=function(c){return new SI(c)}(t.databaseInfo);return function(c,d,g,p){return new II(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new DI(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>gv(this.syncEngine,n,0),function(){return uv.D()?new uv:new vI}())}createSyncEngine(t,n){return function(l,c,d,g,p,v,A){const I=new ZI(l,c,d,g,p,v);return A&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Et(l);nt(ks,"RemoteStore shutting down."),c.W_.add(5),await xl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class dC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=IE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{nt(Kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Im(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function yd(r,t){r.asyncQueue.verifyOperationInProgress(),nt(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await gT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function _v(r,t){r.asyncQueue.verifyOperationInProgress();const n=await mC(r);nt(Kr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>hv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>hv(t.remoteStore,l)),r._onlineComponents=t}async function mC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(Kr,"Using user provided OfflineComponentProvider");try{await yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await yd(r,new xc)}}else nt(Kr,"Using default OfflineComponentProvider"),await yd(r,new hC(void 0));return r._offlineComponents}async function MT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(Kr,"Using user provided OnlineComponentProvider"),await _v(r,r._uninitializedComponentsProvider._online)):(nt(Kr,"Using default OnlineComponentProvider"),await _v(r,new jd))),r._onlineComponents}function gC(r){return MT(r).then(t=>t.syncEngine)}async function yv(r){const t=await MT(r),n=t.eventManager;return n.onListen=WI.bind(null,t.syncEngine),n.onUnlisten=eC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=JI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r,t,n){if(!n)throw new rt(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function pC(r,t,n,s){if(t===!0&&s===!0)throw new rt(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Ev(r){if(!ut.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Tv(r){if(ut.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt()}function za(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eh(r);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firestore.googleapis.com",Av=!0;class Sv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=Av}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Av;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<F1)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new TR;switch(s.type){case"firstParty":return new wR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=vv.get(n);s&&(nt("ComponentProvider","Removing Datastore"),vv.delete(n),s.terminate())}(this),Promise.resolve()}}function _C(r,t,n,s={}){var l;const c=(r=za(r,nh))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==PT&&c.host!==g&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Ns(p,d)&&(r._setSettings(p),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Fe.MOCK_USER;else{v=XA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(I)}r._authCredentials=new AR(new wE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Bs(this.firestore,t,this._query)}}class mn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class qr extends Bs{constructor(t,n,s){super(t,n,fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new ut(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function Gd(r,t,...n){if(r=tn(r),kT("collection","path",t),r instanceof nh){const s=Zt.fromString(t,...n);return Tv(s),new qr(r,null,s)}{if(!(r instanceof mn||r instanceof qr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return Tv(s),new qr(r.firestore,null,s)}}function Nm(r,t,...n){if(r=tn(r),arguments.length===1&&(t=IE.newId()),kT("doc","path",t),r instanceof nh){const s=Zt.fromString(t,...n);return Ev(s),new mn(r,null,new ut(s))}{if(!(r instanceof mn||r instanceof qr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...n));return Ev(s),new mn(r.firestore,r instanceof qr?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="AsyncQueue";class wv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _T(this,"async_queue_retry"),this.Su=()=>{const s=_d();s&&nt(bv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=_d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=_d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ja(t))throw t;nt(bv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Fi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Rm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Rv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ol extends nh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new wv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function yC(r,t){const n=typeof r=="object"?r:xv(),s=typeof r=="string"?r:Nc,l=Yd(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=KA("firestore");c&&_C(l,...c)}return l}function LT(r){if(r._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vC(r),r._firestoreClient}function vC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,v,A){return new BR(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,UT(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new dC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ya(Be.fromBase64String(t))}catch(n){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ya(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^__.*__$/;class TC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(t,this.data,n,this.fieldTransforms)}}function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Pm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return zc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(xT(this.Lu)&&EC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class AC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Wc(t)}ju(t,n,s,l=!1){return new Pm({Lu:t,methodName:n,zu:s,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zT(r){const t=r._freezeSettings(),n=Wc(r._databaseId);return new AC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function SC(r,t,n,s,l,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,n,l);HT("Data must be an object, but it was:",d,s);const g=BT(s,d);let p,v;if(c.merge)p=new Bn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const x=wC(t,I,n);if(!d.contains(x))throw new rt(Q.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);IC(A,x)||A.push(x)}p=new Bn(A),v=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,v=d.fieldTransforms;return new TC(new Vn(g),p,v)}class Lm extends Mm{_toFieldTransform(t){return new f1(t.path,new Il)}isEqual(t){return t instanceof Lm}}function bC(r,t,n,s=!1){return xm(n,r.ju(s?4:3,t))}function xm(r,t){if(qT(r=tn(r)))return HT("Unsupported field value:",t,r),BT(r,t);if(r instanceof Mm)return function(s,l){if(!xT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=xm(g,l.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return u1(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:kc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(l.serializer,c)}}if(s instanceof Um)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ya)return{bytesValue:aT(l.serializer,s._byteString)};if(s instanceof mn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_m(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof km)return function(d,g){return{mapValue:{fields:{[kE]:{stringValue:PE},[Vc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return dm(g.serializer,v)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${eh(s)}`)}(r,t)}function BT(r,t){const n={};return DE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(r,(s,l)=>{const c=xm(l,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function qT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof Um||r instanceof Ya||r instanceof mn||r instanceof Mm||r instanceof km)}function HT(r,t,n){if(!qT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=eh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function wC(r,t,n){if((t=tn(t))instanceof Vm)return t._internalPath;if(typeof t=="string")return jT(r,t);throw zc("Field path arguments must be of type string or ",r,!1,void 0,n)}const RC=new RegExp("[~\\*/\\[\\]]");function jT(r,t,n){if(t.search(RC)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Vm(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function zc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new rt(Q.INVALID_ARGUMENT,g+r+p)}function IC(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CC extends GT{data(){return super.data()}}function zm(r,t){return typeof t=="string"?jT(r,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class FT extends Bm{}function OC(r,t,...n){let s=[];t instanceof Bm&&s.push(t),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof Hm).length,g=c.filter(p=>p instanceof qm).length;if(d>1||d>0&&g>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class qm extends FT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new qm(t,n,s)}_apply(t){const n=this._parse(t);return QT(t._query,n),new Bs(t.firestore,t.converter,Md(t._query,n))}_parse(t){const n=zT(t.firestore);return function(c,d,g,p,v,A,I){let x;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Cv(I,A);const X=[];for(const J of I)X.push(Iv(p,c,J));x={arrayValue:{values:X}}}else x=Iv(p,c,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Cv(I,A),x=bC(g,d,I,A==="in"||A==="not-in");return pe.create(v,A,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Hm extends Bm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)QT(d,p),d=Md(d,p)}(t._query,n),new Bs(t.firestore,t.converter,Md(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends FT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new jm(t,n)}_apply(t){const n=function(l,c,d){if(l.startAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rl(c,d)}(t._query,this._field,this._direction);return new Bs(t.firestore,t.converter,function(l,c){const d=l.explicitOrderBy.concat([c]);return new to(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function NC(r,t="asc"){const n=t,s=zm("orderBy",r);return jm._create(s,n)}function Iv(r,t,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(t)&&n.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Zt.fromString(n));if(!ut.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qy(r,new ut(s))}if(n instanceof mn)return qy(r,n._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(n)}.`)}function Cv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QT(r,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class VC{convertValue(t,n="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw dt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ps(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Vc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new km(c)}convertGeoPoint(t){return new Um(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const n=jr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Zt.fromString(t);Gt(fT(s));const l=new bl(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(n)||Fi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class KT extends GT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(zm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ac extends KT{data(t={}){return super.data(t)}}class UC{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new dl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Ac(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new Ac(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Ac(l._firestore,l._userDataWriter,g.doc.key,g.doc,new dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:kC(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}class YT extends VC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function XT(r){return ZT(za(r.firestore,Ol),[new mm(r._key,ui.none())])}function $T(r,t){const n=za(r.firestore,Ol),s=Nm(r),l=MC(r.converter,t);return ZT(n,[SC(zT(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}function PC(r,...t){var n,s,l;r=tn(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Rv(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Rv(t[d])){const I=t[d];t[d]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[d+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[d+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let p,v,A;if(r instanceof mn)v=za(r.firestore,Ol),A=fm(r._key.path),p={next:I=>{t[d]&&t[d](LC(v,r,I))},error:t[d+1],complete:t[d+2]};else{const I=za(r,Bs);v=za(I.firestore,Ol),A=I._query;const x=new YT(v);p={next:H=>{t[d]&&t[d](new UC(v,x,I,H))},error:t[d+1],complete:t[d+2]},DC(r._query)}return function(x,H,X,J){const $=new fC(J),pt=new KI(H,$,X);return x.asyncQueue.enqueueAndForget(async()=>jI(await yv(x),pt)),()=>{$.su(),x.asyncQueue.enqueueAndForget(async()=>GI(await yv(x),pt))}}(LT(v),A,g,p)}function ZT(r,t){return function(s,l){const c=new Os;return s.asyncQueue.enqueueAndForget(async()=>iC(await gC(s),l,c)),c.promise}(LT(r),t)}function LC(r,t,n){const s=n.docs.get(t._key),l=new YT(r);return new KT(r,l,t._key,s,new dl(n.hasPendingWrites,n.fromCache),t.converter)}function WT(){return new Lm("serverTimestamp")}(function(t,n=!0){(function(l){Za=l})(Xa),Ba(new Vs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ol(new SR(s.getProvider("auth-internal")),new RR(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),zr(Dy,Oy,t),zr(Dy,Oy,"esm2017")})();const xC={apiKey:"AIzaSyBzRuCetPIyiB0IzAEPHuMUHkiMqNug7sY",authDomain:"keepme-only.firebaseapp.com",projectId:"keepme-only",storageBucket:"keepme-only.firebasestorage.app",messagingSenderId:"1007359821453",appId:"1:1007359821453:web:5d644c6a4565e4535704c4",measurementId:"G-H7ZKW33E29"},JT=Lv(xC),Ki=_R(JT);new ai;const vl=yC(JT),t0=async()=>{try{const r=new ai;r.addScope("profile"),r.addScope("email");const t=await Rw(Ki,r);await new Promise(n=>{const s=oE(Ki,l=>{l&&(n(l),s())})}),console.log("User Info:",t.user)}catch(r){console.error("Error signing in:",r.message)}};function e0(r){const t=document.getElementById("user-email"),n=document.getElementById("user-pic"),s=document.getElementById("user-name");r&&t&&s&&n?(t.textContent=r.email||"No Email",n.src=r.photoURL||"../assets/user.png",s.textContent=r.displayName||"No Name"):s&&t&&n&&(t.textContent="Not logged in",n.src="../assets/user.png",s.textContent="Guest")}oE(Ki,r=>{e0(r)});const n0=async()=>{try{await aw(Ki),e0(null),console.log("User signed out")}catch(r){console.error("Error signing out:",r.message)}};function zC({user:r}){const[t,n]=dn.useState(!1),s=l=>{l.stopPropagation(),n(c=>!c)};return NA.useEffect(()=>{const l=()=>n(!1);return document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}},[]),bt.jsxs("header",{children:[bt.jsx("h1",{children:"KeepMe"}),bt.jsxs("div",{className:"user-profile",onClick:s,children:[bt.jsx("img",{src:(r==null?void 0:r.photoURL)||"../assets/user.png",alt:"Profile",className:"profile-picture",onError:l=>l.target.src="../assets/user.png"}),t&&bt.jsxs("div",{className:"user-menu",onClick:l=>l.stopPropagation(),children:[bt.jsxs("div",{className:"menu-loggedin",children:[bt.jsx("p",{className:"menu-user-email",id:"user-email",children:(r==null?void 0:r.email)||"Not logged in"}),r&&bt.jsx("img",{src:(r==null?void 0:r.photoURL)||"../assets/user.png",alt:"User Profile",className:"menu-profile-pic",id:"user-pic",onError:l=>l.target.src="../assets/user.png"}),bt.jsxs("p",{className:"menu-user-name",id:"user-name",children:["Hi, ",(r==null?void 0:r.displayName)||"Guest","!"]})]}),bt.jsx("div",{className:"add-account",onClick:t0,children:"╋ Add Another Account"}),bt.jsx("button",{onClick:n0,style:{color:"black"},children:"Logout"})]})]})]})}const BC=new Date().getFullYear();function qC(){return bt.jsx("footer",{className:"footer",children:bt.jsx("div",{children:bt.jsxs("p",{children:["© KeepMe ",BC.toString()]})})})}const HC=({fetchNotes:r})=>{const[t,n]=dn.useState({title:"",content:""}),[s,l]=dn.useState(!1),c=dn.useRef(null),d=dn.useRef(null),g=dn.useRef(null),p=(I,x)=>{const H=x.target.innerText;n(X=>({...X,[I]:H}))},v=()=>{l(!0)},A=async()=>{if(!Ki.currentUser){alert("You must be logged in to save notes.");return}if(t.title.trim()||t.content.trim())try{const I=Gd(vl,"users",Ki.currentUser.uid,"notes");await $T(I,{title:t.title,content:t.content,createdAt:WT()}),n({title:"",content:""}),d.current&&(d.current.innerText=""),g.current&&(g.current.innerText=""),r()}catch(I){console.error("Error adding note: ",I)}};return dn.useEffect(()=>{function I(x){c.current&&!c.current.contains(x.target)&&l(!1)}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),bt.jsx("div",{className:"new-note-container",children:bt.jsxs("div",{ref:c,className:`new-note ${s?"expanded":""}`,onClick:v,children:[s&&bt.jsx("div",{ref:d,className:"note-title",contentEditable:!0,"data-placeholder":"Title",onInput:I=>p("title",I),suppressContentEditableWarning:!0}),bt.jsx("div",{ref:g,className:"note-content",contentEditable:!0,"data-placeholder":"Take a note...",onInput:I=>p("content",I),suppressContentEditableWarning:!0}),s&&bt.jsx("div",{className:"add-button",onClick:A,children:"+"})]})})};function jC({id:r,title:t,content:n,onDelete:s}){async function l(){if(Ki.currentUser)try{const c=Nm(vl,"users",Ki.currentUser.uid,"notes",r);await XT(c),s(r)}catch(c){console.error("Error deleting note:",c)}}return bt.jsxs("div",{className:"notes",children:[bt.jsx("h1",{className:"note-title",children:t}),bt.jsx("p",{className:"note-content",children:n}),bt.jsx("button",{className:"delete-button",onClick:l,children:"-"})]})}function GC(){const[r,t]=dn.useState(null),[n,s]=dn.useState(!0),[l,c]=dn.useState([]),d=v=>{if(!v)return;const A=Gd(vl,"users",v,"notes"),I=OC(A,NC("createdAt","desc"));PC(I,x=>{const H=x.docs.map(X=>({id:X.id,...X.data()}));c(H)})};dn.useEffect(()=>Ki.onAuthStateChanged(A=>{t(A),s(!1),A?d(A.uid):c([])}),[]);const g=async v=>{if(r)try{await $T(Gd(vl,"users",r.uid,"notes"),{title:v.title,content:v.content,createdAt:WT()}),d(r.uid)}catch(A){console.error("Error adding note:",A)}},p=async v=>{if(r)try{await XT(Nm(vl,"users",r.uid,"notes",v)),console.log("Note deleted:",v),d(r.uid)}catch(A){console.error("Error deleting note:",A)}};return n?bt.jsx("div",{className:"ispinner",children:[...Array(12)].map((v,A)=>bt.jsx("div",{className:"ispinner-blade"},A))}):bt.jsx(bt.Fragment,{children:bt.jsx("div",{className:"main-container",children:r?bt.jsxs(bt.Fragment,{children:[bt.jsx(zC,{user:r,onLogout:n0}),bt.jsx(HC,{fetchNotes:d,onAdd:g}),l.map(v=>bt.jsx("div",{className:"notes-container",children:bt.jsx(jC,{id:v.id,title:v.title,content:v.content,onDelete:p},v.id)})),bt.jsx(qC,{})]}):bt.jsxs("div",{className:"login-page",children:[bt.jsx("h1",{children:"KeepMe"}),bt.jsx("button",{onClick:t0,children:"Login with Google"})]})})})}xA.createRoot(document.getElementById("root")).render(bt.jsx(dn.StrictMode,{children:bt.jsx(GC,{})}));
