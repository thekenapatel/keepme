(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Fv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rd={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function GA(){if(t_)return ll;t_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var e_;function FA(){return e_||(e_=1,rd.exports=GA()),rd.exports}var St=FA(),sd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function QA(){if(n_)return Rt;n_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function U(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function k(V,tt,ht){this.props=V,this.context=tt,this.refs=Y,this.updater=ht||O}k.prototype.isReactComponent={},k.prototype.setState=function(V,tt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,tt,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function R(){}R.prototype=k.prototype;function N(V,tt,ht){this.props=V,this.context=tt,this.refs=Y,this.updater=ht||O}var G=N.prototype=new R;G.constructor=N,Q(G,k.prototype),G.isPureReactComponent=!0;var it=Array.isArray,nt={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function M(V,tt,ht,st,at,wt){return ht=wt.ref,{$$typeof:r,type:V,key:tt,ref:ht!==void 0?ht:null,props:wt}}function I(V,tt){return M(V.type,tt,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function D(V){var tt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ht){return tt[ht]})}var x=/\/+/g;function B(V,tt){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):tt.toString(36)}function C(){}function ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(tt){V.status==="pending"&&(V.status="fulfilled",V.value=tt)},function(tt){V.status==="pending"&&(V.status="rejected",V.reason=tt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ce(V,tt,ht,st,at){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(wt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case r:case t:bt=!0;break;case E:return bt=V._init,ce(bt(V._payload),tt,ht,st,at)}}if(bt)return at=at(V),bt=st===""?"."+B(V,0):st,it(at)?(ht="",bt!=null&&(ht=bt.replace(x,"$&/")+"/"),ce(at,tt,ht,"",function(ne){return ne})):at!=null&&(b(at)&&(at=I(at,ht+(at.key==null||V&&V.key===at.key?"":(""+at.key).replace(x,"$&/")+"/")+bt)),tt.push(at)),1;bt=0;var he=st===""?".":st+":";if(it(V))for(var kt=0;kt<V.length;kt++)st=V[kt],wt=he+B(st,kt),bt+=ce(st,tt,ht,wt,at);else if(kt=U(V),typeof kt=="function")for(V=kt.call(V),kt=0;!(st=V.next()).done;)st=st.value,wt=he+B(st,kt++),bt+=ce(st,tt,ht,wt,at);else if(wt==="object"){if(typeof V.then=="function")return ce(ye(V),tt,ht,st,at);throw tt=String(V),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(V,tt,ht){if(V==null)return V;var st=[],at=0;return ce(V,st,"","",function(wt){return tt.call(ht,wt,at++)}),st}function yt(V){if(V._status===-1){var tt=V._result;tt=tt(),tt.then(function(ht){(V._status===0||V._status===-1)&&(V._status=1,V._result=ht)},function(ht){(V._status===0||V._status===-1)&&(V._status=2,V._result=ht)}),V._status===-1&&(V._status=0,V._result=tt)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ht(){}return Rt.Children={map:rt,forEach:function(V,tt,ht){rt(V,function(){tt.apply(this,arguments)},ht)},count:function(V){var tt=0;return rt(V,function(){tt++}),tt},toArray:function(V){return rt(V,function(tt){return tt})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=k,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=N,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,tt,ht){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=Q({},V.props),at=V.key,wt=void 0;if(tt!=null)for(bt in tt.ref!==void 0&&(wt=void 0),tt.key!==void 0&&(at=""+tt.key),tt)!ft.call(tt,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&tt.ref===void 0||(st[bt]=tt[bt]);var bt=arguments.length-2;if(bt===1)st.children=ht;else if(1<bt){for(var he=Array(bt),kt=0;kt<bt;kt++)he[kt]=arguments[kt+2];st.children=he}return M(V.type,at,void 0,void 0,wt,st)},Rt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Rt.createElement=function(V,tt,ht){var st,at={},wt=null;if(tt!=null)for(st in tt.key!==void 0&&(wt=""+tt.key),tt)ft.call(tt,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(at[st]=tt[st]);var bt=arguments.length-2;if(bt===1)at.children=ht;else if(1<bt){for(var he=Array(bt),kt=0;kt<bt;kt++)he[kt]=arguments[kt+2];at.children=he}if(V&&V.defaultProps)for(st in bt=V.defaultProps,bt)at[st]===void 0&&(at[st]=bt[st]);return M(V,wt,void 0,void 0,null,at)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:m,render:V}},Rt.isValidElement=b,Rt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:yt}},Rt.memo=function(V,tt){return{$$typeof:y,type:V,compare:tt===void 0?null:tt}},Rt.startTransition=function(V){var tt=nt.T,ht={};nt.T=ht;try{var st=V(),at=nt.S;at!==null&&at(ht,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ht,mt)}catch(wt){mt(wt)}finally{nt.T=tt}},Rt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Rt.use=function(V){return nt.H.use(V)},Rt.useActionState=function(V,tt,ht){return nt.H.useActionState(V,tt,ht)},Rt.useCallback=function(V,tt){return nt.H.useCallback(V,tt)},Rt.useContext=function(V){return nt.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,tt){return nt.H.useDeferredValue(V,tt)},Rt.useEffect=function(V,tt){return nt.H.useEffect(V,tt)},Rt.useId=function(){return nt.H.useId()},Rt.useImperativeHandle=function(V,tt,ht){return nt.H.useImperativeHandle(V,tt,ht)},Rt.useInsertionEffect=function(V,tt){return nt.H.useInsertionEffect(V,tt)},Rt.useLayoutEffect=function(V,tt){return nt.H.useLayoutEffect(V,tt)},Rt.useMemo=function(V,tt){return nt.H.useMemo(V,tt)},Rt.useOptimistic=function(V,tt){return nt.H.useOptimistic(V,tt)},Rt.useReducer=function(V,tt,ht){return nt.H.useReducer(V,tt,ht)},Rt.useRef=function(V){return nt.H.useRef(V)},Rt.useState=function(V){return nt.H.useState(V)},Rt.useSyncExternalStore=function(V,tt,ht){return nt.H.useSyncExternalStore(V,tt,ht)},Rt.useTransition=function(){return nt.H.useTransition()},Rt.version="19.0.0",Rt}var i_;function Jd(){return i_||(i_=1,sd.exports=QA()),sd.exports}var tn=Jd();const KA=Fv(tn);var ad={exports:{}},ul={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function YA(){return r_||(r_=1,function(r){function t(rt,yt){var mt=rt.length;rt.push(yt);t:for(;0<mt;){var Ht=mt-1>>>1,V=rt[Ht];if(0<o(V,yt))rt[Ht]=yt,rt[mt]=V,mt=Ht;else break t}}function n(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var yt=rt[0],mt=rt.pop();if(mt!==yt){rt[0]=mt;t:for(var Ht=0,V=rt.length,tt=V>>>1;Ht<tt;){var ht=2*(Ht+1)-1,st=rt[ht],at=ht+1,wt=rt[at];if(0>o(st,mt))at<V&&0>o(wt,st)?(rt[Ht]=wt,rt[at]=mt,Ht=at):(rt[Ht]=st,rt[ht]=mt,Ht=ht);else if(at<V&&0>o(wt,mt))rt[Ht]=wt,rt[at]=mt,Ht=at;else break t}}return yt}function o(rt,yt){var mt=rt.sortIndex-yt.sortIndex;return mt!==0?mt:rt.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,U=3,O=!1,Q=!1,Y=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function G(rt){for(var yt=n(y);yt!==null;){if(yt.callback===null)s(y);else if(yt.startTime<=rt)s(y),yt.sortIndex=yt.expirationTime,t(p,yt);else break;yt=n(y)}}function it(rt){if(Y=!1,G(rt),!Q)if(n(p)!==null)Q=!0,ye();else{var yt=n(y);yt!==null&&ce(it,yt.startTime-rt)}}var nt=!1,ft=-1,M=5,I=-1;function b(){return!(r.unstable_now()-I<M)}function D(){if(nt){var rt=r.unstable_now();I=rt;var yt=!0;try{t:{Q=!1,Y&&(Y=!1,R(ft),ft=-1),O=!0;var mt=U;try{e:{for(G(rt),S=n(p);S!==null&&!(S.expirationTime>rt&&b());){var Ht=S.callback;if(typeof Ht=="function"){S.callback=null,U=S.priorityLevel;var V=Ht(S.expirationTime<=rt);if(rt=r.unstable_now(),typeof V=="function"){S.callback=V,G(rt),yt=!0;break e}S===n(p)&&s(p),G(rt)}else s(p);S=n(p)}if(S!==null)yt=!0;else{var tt=n(y);tt!==null&&ce(it,tt.startTime-rt),yt=!1}}break t}finally{S=null,U=mt,O=!1}yt=void 0}}finally{yt?x():nt=!1}}}var x;if(typeof N=="function")x=function(){N(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,C=B.port2;B.port1.onmessage=D,x=function(){C.postMessage(null)}}else x=function(){k(D,0)};function ye(){nt||(nt=!0,x())}function ce(rt,yt){ft=k(function(){rt(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){Q||O||(Q=!0,ye())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(rt){switch(U){case 1:case 2:case 3:var yt=3;break;default:yt=U}var mt=U;U=yt;try{return rt()}finally{U=mt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,yt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var mt=U;U=rt;try{return yt()}finally{U=mt}},r.unstable_scheduleCallback=function(rt,yt,mt){var Ht=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ht+mt:Ht):mt=Ht,rt){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,rt={id:E++,callback:yt,priorityLevel:rt,startTime:mt,expirationTime:V,sortIndex:-1},mt>Ht?(rt.sortIndex=mt,t(y,rt),n(p)===null&&rt===n(y)&&(Y?(R(ft),ft=-1):Y=!0,ce(it,mt-Ht))):(rt.sortIndex=V,t(p,rt),Q||O||(Q=!0,ye())),rt},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(rt){var yt=U;return function(){var mt=U;U=yt;try{return rt.apply(this,arguments)}finally{U=mt}}}}(ld)),ld}var s_;function XA(){return s_||(s_=1,od.exports=YA()),od.exports}var ud={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function WA(){if(a_)return je;a_=1;var r=Jd();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},je.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},je.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},je.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),U=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:U,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:U,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},je.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},je.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},je.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},je.requestFormReset=function(p){s.d.r(p)},je.unstable_batchedUpdates=function(p,y){return p(y)},je.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},je.useFormStatus=function(){return f.H.useHostTransitionStatus()},je.version="19.0.0",je}var o_;function $A(){if(o_)return ud.exports;o_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=WA(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function ZA(){if(l_)return ul;l_=1;var r=XA(),t=Jd(),n=$A();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),O=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),it=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function I(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case Q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:I(e.type)||"Memo";case N:i=e._payload,e=e._init;try{return I(e(i))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,x,B;function C(e){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+B}var ye=!1;function ce(e,i){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var j=K}Reflect.construct(e,[],J)}else{try{J.call()}catch(K){j=K}e.call(J.prototype)}}else{try{throw Error()}catch(K){j=K}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&j&&typeof K.stack=="string")return[K.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),L=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===L.length)for(l=w.length-1,h=L.length-1;1<=l&&0<=h&&w[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==L[h]){var X=`
`+w[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?C(a):""}function rt(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function yt(e){try{var i="";do i+=rt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ht(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function V(e){if(mt(e)!==e)throw Error(s(188))}function tt(e){var i=e.alternate;if(!i){if(i=mt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return V(h),e;if(d===l)return V(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var st=Array.isArray,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},bt=[],he=-1;function kt(e){return{current:e}}function ne(e){0>he||(e.current=bt[he],bt[he]=null,he--)}function Ft(e,i){he++,bt[he]=e.current,e.current=i}var Ye=kt(null),mi=kt(null),gn=kt(null),Xi=kt(null);function Wi(e,i){switch(Ft(gn,i),Ft(mi,e),Ft(Ye,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Dy(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Dy(e),i=Oy(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Ye),Ft(Ye,i)}function gi(){ne(Ye),ne(mi),ne(gn)}function no(e){e.memoizedState!==null&&Ft(Xi,e);var i=Ye.current,a=Oy(i,e.type);i!==a&&(Ft(mi,e),Ft(Ye,a))}function qs(e){mi.current===e&&(ne(Ye),ne(mi)),Xi.current===e&&(ne(Xi),il._currentValue=wt)}var Hs=Object.prototype.hasOwnProperty,Yr=r.unstable_scheduleCallback,js=r.unstable_cancelCallback,sh=r.unstable_shouldYield,io=r.unstable_requestPaint,nn=r.unstable_now,Bl=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,pi=r.unstable_NormalPriority,ql=r.unstable_LowPriority,ro=r.unstable_IdlePriority,ah=r.log,Xr=r.unstable_setDisableYieldValue,$i=null,qe=null;function so(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Gn(e){if(typeof ah=="function"&&Xr(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode($i,e)}catch{}}var Xe=Math.clz32?Math.clz32:jl,ao=Math.log,Hl=Math.LN2;function jl(e){return e>>>=0,e===0?32:31-(ao(e)/Hl|0)|0}var Fn=128,Zi=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pn(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Vn(a):(d&=T,d!==0?l=Vn(d):e||(v=T&~v,v!==0&&(l=Vn(v))))):(T=a&~h,T!==0?l=Vn(T):d!==0?l=Vn(d):e||(v=a&~v,v!==0&&(l=Vn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function Ji(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Gs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=Fn;return Fn<<=1,(Fn&4194176)===0&&(Fn=128),e}function tr(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function Fs(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function oe(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gl(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Xe(a),J=1<<X;T[X]=0,w[X]=-1;var j=L[X];if(j!==null)for(L[X]=null,X=0;X<j.length;X++){var K=j[X];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&er(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function er(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Xe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function nr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Xe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ql(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Yy(e.type))}function ir(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var Qn=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Qn,ve="__reactProps$"+Qn,yi="__reactContainer$"+Qn,Wr="__reactEvents$"+Qn,Qs="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,lo="__reactResources$"+Qn,rr="__reactMarker$"+Qn;function $r(e){delete e[Ie],delete e[ve],delete e[Wr],delete e[Qs],delete e[Kn]}function Un(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yi]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Vy(e);e!==null;){if(a=e[Ie])return a;e=Vy(e)}return i}e=a,a=e.parentNode}return null}function _i(e){if(e=e[Ie]||e[yi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function sr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ar(e){var i=e[lo];return i||(i=e[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Zt(e){e[rr]=!0}var uo=new Set,Ks={};function on(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Ks[e]=i,e=0;e<i.length;e++)uo.add(i[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Kl(e){return Hs.call(ho,e)?!0:Hs.call(co,e)?!1:oh.test(e)?ho[e]=!0:(co[e]=!0,!1)}function or(e,i,a){if(Kl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function lr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function yn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yl(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lh(e){var i=Yl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Zr(e){e._valueTracker||(e._valueTracker=lh(e))}function fo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Yl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vi=/[\n"\\]/g;function ie(e){return e.replace(vi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ur(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Xs(e,v,We(i)):a!=null?Xs(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+We(T):e.removeAttribute("name")}function Jr(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Xs(e,i,a){i==="number"&&Ys(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ts(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function cr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||uh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Xl(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&mo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&mo(e,d,i[d])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return hh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vn=null;function Ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function Ai(e){var i=_i(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(s(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&fo(l)}break t;case"textarea":ts(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&zt(e,!!a.multiple,i,!1)}}}var po=!1;function Wl(e,i,a){if(po)return e(i,a);po=!0;try{var l=e(i);return l}finally{if(po=!1,(Ei!==null||Ti!==null)&&(qu(),Ei&&(i=Ei,e=Ti,Ti=Ei=null,Ai(i),e)))for(i=0;i<e.length;i++)Ai(e[i])}}function es(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var En=!1;if(ln)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){En=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{En=!1}var Xn=null,hr=null,Si=null;function yo(){if(Si)return Si;var e,i=hr,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function Wn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function _o(){return!1}function Ce(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:_o,this.isPropagationStopped=_o,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Ce(jt),is=D({},jt,{view:0,detail:0}),$l=Ce(is),Zs,Js,Zn,rs=D({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Zs=e.screenX-Zn.screenX,Js=e.screenY-Zn.screenY):Js=Zs=0,Zn=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Tn=Ce(rs),Zl=D({},rs,{dataTransfer:0}),fh=Ce(Zl),ss=D({},is,{relatedTarget:0}),ta=Ce(ss),vo=D({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Ce(vo),Jl=D({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=Ce(Jl),dh=D({},jt,{data:0}),Eo=Ce(dh),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=eu[e])?!!i[e]:!1}function os(){return To}var nu=D({},is,{key:function(e){if(e.key){var i=as[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=Ce(nu),iu=D({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ce(iu),bi=D({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),ru=Ce(bi),su=D({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Ce(su),ou=D({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Ce(ou),$e=D({},jt,{newState:0,oldState:0}),lu=Ce($e),uu=[9,13,27,32],Jn=ln&&"CompositionEvent"in window,c=null;ln&&"documentMode"in document&&(c=document.documentMode);var g=ln&&"TextEvent"in window&&!c,_=ln&&(!Jn||c&&8<c&&11>=c),A=" ",q=!1;function F(e,i){switch(e){case"keyup":return uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ut=!1;function Ee(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(q=!0,A);case"textInput":return e=i.data,e===A&&q?null:e;default:return null}}function Pt(e,i){if(Ut)return e==="compositionend"||!Jn&&F(e,i)?(e=yo(),Si=hr=Xn=null,Ut=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ri(e,i,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,i=Qu(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,ti=null;function So(e){by(e,0)}function cu(e){var i=sr(e);if(fo(i))return e}function Jm(e,i){if(e==="change")return i}var tg=!1;if(ln){var mh;if(ln){var gh="oninput"in document;if(!gh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),gh=typeof eg.oninput=="function"}mh=gh}else mh=!1;tg=mh&&(!document.documentMode||9<document.documentMode)}function ng(){Ue&&(Ue.detachEvent("onpropertychange",ig),ti=Ue=null)}function ig(e){if(e.propertyName==="value"&&cu(ti)){var i=[];Ri(i,ti,e,Ws(e)),Wl(So,i)}}function E0(e,i,a){e==="focusin"?(ng(),Ue=i,ti=a,Ue.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function T0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu(ti)}function A0(e,i){if(e==="click")return cu(i)}function S0(e,i){if(e==="input"||e==="change")return cu(i)}function b0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:b0;function bo(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Hs.call(i,h)||!un(e[h],i[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,i){var a=rg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rg(a)}}function ag(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ag(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ys(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ys(e.document)}return i}function ph(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function R0(e,i){var a=og(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&ag(i.ownerDocument.documentElement,i)){if(l!==null&&ph(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=sg(i,d);var v=sg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var w0=ln&&"documentMode"in document&&11>=document.documentMode,sa=null,yh=null,Ro=null,_h=!1;function lg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_h||sa==null||sa!==Ys(l)||(l=sa,"selectionStart"in l&&ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&bo(Ro,l)||(Ro=l,l=Qu(yh,"onSelect"),0<l.length&&(i=new $s("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=sa)))}function ls(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var aa={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},vh={},ug={};ln&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function us(e){if(vh[e])return vh[e];if(!aa[e])return e;var i=aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return vh[e]=i[a];return e}var cg=us("animationend"),hg=us("animationiteration"),fg=us("animationstart"),I0=us("transitionrun"),C0=us("transitionstart"),D0=us("transitioncancel"),dg=us("transitionend"),mg=new Map,gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pn(e,i){mg.set(e,i),on(i,[e])}var An=[],oa=0,Eh=0;function hu(){for(var e=oa,i=Eh=oa=0;i<e;){var a=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function fu(e,i,a,l){An[oa++]=e,An[oa++]=i,An[oa++]=a,An[oa++]=l,Eh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Th(e,i,a,l){return fu(e,i,a,l),du(e)}function fr(e,i){return fu(e,null,null,i),du(e)}function pg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Xe(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function du(e){if(50<Wo)throw Wo=0,Cf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var la={},yg=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=yg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:yt(i)},yg.set(e,i),i)}return{value:e,source:i,stack:yt(i)}}var ua=[],ca=0,mu=null,gu=0,bn=[],Rn=0,cs=null,wi=1,Ii="";function hs(e,i){ua[ca++]=gu,ua[ca++]=mu,mu=e,gu=i}function _g(e,i,a){bn[Rn++]=wi,bn[Rn++]=Ii,bn[Rn++]=cs,cs=e;var l=wi;e=Ii;var h=32-Xe(l)-1;l&=~(1<<h),a+=1;var d=32-Xe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,wi=1<<32-Xe(i)+h|a<<h|l,Ii=d+e}else wi=1<<d|a<<h|l,Ii=e}function Ah(e){e.return!==null&&(hs(e,1),_g(e,1,0))}function Sh(e){for(;e===mu;)mu=ua[--ca],ua[ca]=null,gu=ua[--ca],ua[ca]=null;for(;e===cs;)cs=bn[--Rn],bn[Rn]=null,Ii=bn[--Rn],bn[Rn]=null,wi=bn[--Rn],bn[Rn]=null}var Ze=null,Pe=null,Bt=!1,xn=null,ei=!1,bh=Error(s(519));function fs(e){var i=Error(s(418,""));throw Co(Sn(i,e)),bh}function vg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ie]=e,i[ve]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Zo.length;a++)Vt(Zo[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Jr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zr(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),cr(i,l.value,l.defaultValue,l.children),Zr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Cy(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=Ku),i=!0):i=!1,i||fs(e)}function Eg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:Ze=Ze.return}}function wo(e){if(e!==Ze)return!1;if(!Bt)return Eg(e),Bt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ff(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Pe&&fs(e),Eg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Pe=kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Pe=null}}else Pe=Ze?kn(e.stateNode.nextSibling):null;return!0}function Io(){Pe=Ze=null,Bt=!1}function Co(e){xn===null?xn=[e]:xn.push(e)}var Do=Error(s(460)),Tg=Error(s(474)),Rh={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pu(){}function Sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(pu,pu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e;default:if(typeof i.status=="string")i.then(pu,pu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Do?Error(s(483)):e}throw Oo=i,Do}}var Oo=null;function bg(){if(Oo===null)throw Error(s(459));var e=Oo;return Oo=null,e}var ha=null,No=0;function yu(e){var i=No;return No+=1,ha===null&&(ha=[]),Sg(ha,e,i)}function Mo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function _u(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Rg(e){var i=e._init;return i(e._payload)}function wg(e){function i(z,P){if(e){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function a(z,P){if(!e)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=br(z,P),z.index=0,z.sibling=null,z}function d(z,P,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=33554434,P):H):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,P,H,W){return P===null||P.tag!==6?(P=Ef(H,z.mode,W),P.return=z,P):(P=h(P,H),P.return=z,P)}function w(z,P,H,W){var lt=H.type;return lt===p?X(z,P,H.props.children,W,H.key):P!==null&&(P.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===N&&Rg(lt)===P.type)?(P=h(P,H.props),Mo(P,H),P.return=z,P):(P=xu(H.type,H.key,H.props,null,z.mode,W),Mo(P,H),P.return=z,P)}function L(z,P,H,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Tf(H,z.mode,W),P.return=z,P):(P=h(P,H.children||[]),P.return=z,P)}function X(z,P,H,W,lt){return P===null||P.tag!==7?(P=As(H,z.mode,W,lt),P.return=z,P):(P=h(P,H),P.return=z,P)}function J(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ef(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return H=xu(P.type,P.key,P.props,null,z.mode,H),Mo(H,P),H.return=z,H;case m:return P=Tf(P,z.mode,H),P.return=z,P;case N:var W=P._init;return P=W(P._payload),J(z,P,H)}if(st(P)||ft(P))return P=As(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return J(z,yu(P),H);if(P.$$typeof===O)return J(z,Vu(z,P),H);_u(z,P)}return null}function j(z,P,H,W){var lt=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return lt!==null?null:T(z,P,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===lt?w(z,P,H,W):null;case m:return H.key===lt?L(z,P,H,W):null;case N:return lt=H._init,H=lt(H._payload),j(z,P,H,W)}if(st(H)||ft(H))return lt!==null?null:X(z,P,H,W,null);if(typeof H.then=="function")return j(z,P,yu(H),W);if(H.$$typeof===O)return j(z,P,Vu(z,H),W);_u(z,H)}return null}function K(z,P,H,W,lt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,T(P,z,""+W,lt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return z=z.get(W.key===null?H:W.key)||null,w(P,z,W,lt);case m:return z=z.get(W.key===null?H:W.key)||null,L(P,z,W,lt);case N:var Dt=W._init;return W=Dt(W._payload),K(z,P,H,W,lt)}if(st(W)||ft(W))return z=z.get(H)||null,X(P,z,W,lt,null);if(typeof W.then=="function")return K(z,P,H,yu(W),lt);if(W.$$typeof===O)return K(z,P,H,Vu(P,W),lt);_u(P,W)}return null}function ct(z,P,H,W){for(var lt=null,Dt=null,dt=P,pt=P=0,Me=null;dt!==null&&pt<H.length;pt++){dt.index>pt?(Me=dt,dt=null):Me=dt.sibling;var qt=j(z,dt,H[pt],W);if(qt===null){dt===null&&(dt=Me);break}e&&dt&&qt.alternate===null&&i(z,dt),P=d(qt,P,pt),Dt===null?lt=qt:Dt.sibling=qt,Dt=qt,dt=Me}if(pt===H.length)return a(z,dt),Bt&&hs(z,pt),lt;if(dt===null){for(;pt<H.length;pt++)dt=J(z,H[pt],W),dt!==null&&(P=d(dt,P,pt),Dt===null?lt=dt:Dt.sibling=dt,Dt=dt);return Bt&&hs(z,pt),lt}for(dt=l(dt);pt<H.length;pt++)Me=K(dt,z,pt,H[pt],W),Me!==null&&(e&&Me.alternate!==null&&dt.delete(Me.key===null?pt:Me.key),P=d(Me,P,pt),Dt===null?lt=Me:Dt.sibling=Me,Dt=Me);return e&&dt.forEach(function(Nr){return i(z,Nr)}),Bt&&hs(z,pt),lt}function Tt(z,P,H,W){if(H==null)throw Error(s(151));for(var lt=null,Dt=null,dt=P,pt=P=0,Me=null,qt=H.next();dt!==null&&!qt.done;pt++,qt=H.next()){dt.index>pt?(Me=dt,dt=null):Me=dt.sibling;var Nr=j(z,dt,qt.value,W);if(Nr===null){dt===null&&(dt=Me);break}e&&dt&&Nr.alternate===null&&i(z,dt),P=d(Nr,P,pt),Dt===null?lt=Nr:Dt.sibling=Nr,Dt=Nr,dt=Me}if(qt.done)return a(z,dt),Bt&&hs(z,pt),lt;if(dt===null){for(;!qt.done;pt++,qt=H.next())qt=J(z,qt.value,W),qt!==null&&(P=d(qt,P,pt),Dt===null?lt=qt:Dt.sibling=qt,Dt=qt);return Bt&&hs(z,pt),lt}for(dt=l(dt);!qt.done;pt++,qt=H.next())qt=K(dt,z,pt,qt.value,W),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?pt:qt.key),P=d(qt,P,pt),Dt===null?lt=qt:Dt.sibling=qt,Dt=qt);return e&&dt.forEach(function(jA){return i(z,jA)}),Bt&&hs(z,pt),lt}function ae(z,P,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var lt=H.key;P!==null;){if(P.key===lt){if(lt=H.type,lt===p){if(P.tag===7){a(z,P.sibling),W=h(P,H.props.children),W.return=z,z=W;break t}}else if(P.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===N&&Rg(lt)===P.type){a(z,P.sibling),W=h(P,H.props),Mo(W,H),W.return=z,z=W;break t}a(z,P);break}else i(z,P);P=P.sibling}H.type===p?(W=As(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=xu(H.type,H.key,H.props,null,z.mode,W),Mo(W,H),W.return=z,z=W)}return v(z);case m:t:{for(lt=H.key;P!==null;){if(P.key===lt)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(z,P.sibling),W=h(P,H.children||[]),W.return=z,z=W;break t}else{a(z,P);break}else i(z,P);P=P.sibling}W=Tf(H,z.mode,W),W.return=z,z=W}return v(z);case N:return lt=H._init,H=lt(H._payload),ae(z,P,H,W)}if(st(H))return ct(z,P,H,W);if(ft(H)){if(lt=ft(H),typeof lt!="function")throw Error(s(150));return H=lt.call(H),Tt(z,P,H,W)}if(typeof H.then=="function")return ae(z,P,yu(H),W);if(H.$$typeof===O)return ae(z,P,Vu(z,H),W);_u(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(z,P.sibling),W=h(P,H),W.return=z,z=W):(a(z,P),W=Ef(H,z.mode,W),W.return=z,z=W),v(z)):a(z,P)}return function(z,P,H,W){try{No=0;var lt=ae(z,P,H,W);return ha=null,lt}catch(dt){if(dt===Do)throw dt;var Dt=Dn(29,dt,null,z.mode);return Dt.lanes=W,Dt.return=z,Dt}finally{}}}var ds=wg(!0),Ig=wg(!1),fa=kt(null),vu=kt(0);function Cg(e,i){e=ki,Ft(vu,e),Ft(fa,i),ki=e|i.baseLanes}function wh(){Ft(vu,ki),Ft(fa,fa.current)}function Ih(){ki=vu.current,ne(fa),ne(vu)}var wn=kt(null),ni=null;function dr(e){var i=e.alternate;Ft(Ae,Ae.current&1),Ft(wn,e),ni===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(ni=e)}function Dg(e){if(e.tag===22){if(Ft(Ae,Ae.current),Ft(wn,e),ni===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ni=e)}}else mr()}function mr(){Ft(Ae,Ae.current),Ft(wn,wn.current)}function Ci(e){ne(wn),ni===e&&(ni=null),ne(Ae)}var Ae=kt(0);function Eu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var O0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},N0=r.unstable_scheduleCallback,M0=r.unstable_NormalPriority,Se={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new O0,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&N0(M0,function(){e.controller.abort()})}var Uo=null,Dh=0,da=0,ma=null;function V0(e,i){if(Uo===null){var a=Uo=[];Dh=0,da=xf(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Dh++,i.then(Og,Og),i}function Og(){if(--Dh===0&&Uo!==null){ma!==null&&(ma.status="fulfilled");var e=Uo;Uo=null,da=0,ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function U0(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=b.S;b.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&V0(e,i),Ng!==null&&Ng(e,i)};var ms=kt(null);function Oh(){var e=ms.current;return e!==null?e:Xt.pooledCache}function Tu(e,i){i===null?Ft(ms,ms.current):Ft(ms,i.pool)}function Mg(){var e=Oh();return e===null?null:{parent:Se._currentValue,pool:e}}var gr=0,It=null,Qt=null,fe=null,Au=!1,ga=!1,gs=!1,Su=0,Po=0,pa=null,P0=0;function le(){throw Error(s(321))}function Nh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function Mh(e,i,a,l,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=e===null||e.memoizedState===null?ps:pr,gs=!1,d=a(l,h),gs=!1,ga&&(d=Ug(i,a,l,h)),Vg(e),d}function Vg(e){b.H=ii;var i=Qt!==null&&Qt.next!==null;if(gr=0,fe=Qt=It=null,Au=!1,Po=0,pa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Mu(e)&&(Oe=!0))}function Ug(e,i,a,l){It=e;var h=0;do{if(ga&&(pa=null),Po=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,fe=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=ys,d=i(a,l)}while(ga);return d}function x0(){var e=b.H,i=e.useState()[0];return i=typeof i.then=="function"?xo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(It.flags|=1024),i}function Vh(){var e=Su!==0;return Su=0,e}function Uh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Ph(e){if(Au){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Au=!1}gr=0,fe=Qt=It=null,ga=!1,Po=Su=0,pa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?It.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Qt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=fe===null?It.memoizedState:fe.next;if(i!==null)fe=i,Qt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},fe===null?It.memoizedState=fe=e:fe=fe.next=e}return fe}var bu;bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function xo(e){var i=Po;return Po+=1,pa===null&&(pa=[]),e=Sg(pa,e,i),i=It,(fe===null?i.memoizedState:fe.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?ps:pr),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===O)return He(e)}throw Error(s(438,String(e)))}function xh(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=bu(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=it;return i.index++,a}function Di(e,i){return typeof i=="function"?i(e):i}function wu(e){var i=de();return Lh(i,Qt,e)}function Lh(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,L=i,X=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(xt&J)===J:(gr&J)===J){var j=L.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===da&&(X=!0);else if((gr&j)===j){L=L.next,j===da&&(X=!0);continue}else J={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=J,v=d):w=w.next=J,It.lanes|=j,Rr|=j;J=L.action,gs&&a(d,J),d=L.hasEagerState?L.eagerState:a(d,J)}else j={lane:J,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=j,v=d):w=w.next=j,It.lanes|=J,Rr|=J;L=L.next}while(L!==null&&L!==i);if(w===null?v=d:w.next=T,!un(d,e.memoizedState)&&(Oe=!0,X&&(a=ma,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function kh(e){var i=de(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Pg(e,i,a){var l=It,h=de(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Oe=!0),h=h.queue,qh(kg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,ya(9,Lg.bind(null,l,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));d||(gr&60)!==0||xg(l,i,a)}return a}function xg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=bu(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Lg(e,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&Bg(e)}function kg(e,i,a){return a(function(){zg(i)&&Bg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function Bg(e){var i=fr(e,2);i!==null&&Je(i,e,2)}function zh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),gs){Gn(!0);try{a()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},i}function qg(e,i,a,l){return e.baseState=a,Lh(e,Qt,typeof l=="function"?l:Di)}function L0(e,i,a,l,h){if(Du(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var T=a(h,l),w=b.S;w!==null&&w(v,T),jg(e,i,T)}catch(L){Bh(e,i,L)}finally{b.T=d}}else try{d=a(h,l),jg(e,i,d)}catch(L){Bh(e,i,L)}}function jg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(e,i,l)},function(l){return Bh(e,i,l)}):Gg(e,i,a)}function Gg(e,i,a){i.status="fulfilled",i.value=a,Fg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Hg(e,a)))}function Bh(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fg(i),i=i.next;while(i!==l)}e.action=null}function Fg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Kg(e,i){if(Bt){var a=Xt.formState;if(a!==null){t:{var l=It;if(Bt){if(Pe){e:{for(var h=Pe,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Pe=kn(h.nextSibling),l=h.data==="F!";break t}}fs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=l,a=hp.bind(null,It,l),l.dispatch=a,l=zh(!1),d=Qh.bind(null,It,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=L0.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Yg(e){var i=de();return Xg(i,Qt,e)}function Xg(e,i,a){i=Lh(e,i,Qg)[0],e=wu(Di)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?xo(i):i;var l=de(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(It.flags|=2048,ya(9,k0.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function k0(e,i){e.action=i}function Wg(e){var i=de(),a=Qt;if(a!==null)return Xg(i,a,e);de(),i=i.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ya(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=It.updateQueue,i===null&&(i=bu(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function $g(){return de().memoizedState}function Iu(e,i,a,l){var h=sn();It.flags|=e,h.memoizedState=ya(1|i,a,{destroy:void 0},l===void 0?null:l)}function Cu(e,i,a,l){var h=de();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&Nh(l,Qt.memoizedState.deps)?h.memoizedState=ya(i,a,d,l):(It.flags|=e,h.memoizedState=ya(1|i,a,d,l))}function Zg(e,i){Iu(8390656,8,e,i)}function qh(e,i){Cu(2048,8,e,i)}function Jg(e,i){return Cu(4,2,e,i)}function tp(e,i){return Cu(4,4,e,i)}function ep(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function np(e,i,a){a=a!=null?a.concat([e]):null,Cu(4,4,ep.bind(null,i,e),a)}function Hh(){}function ip(e,i){var a=de();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Nh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function rp(e,i){var a=de();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Nh(i,l[1]))return l[0];if(l=e(),gs){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,i],l}function jh(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ay(),It.lanes|=e,Rr|=e,a)}function sp(e,i,a,l){return un(a,i)?a:fa.current!==null?(e=jh(e,a,l),un(e,i)||(Oe=!0),e):(gr&42)===0?(Oe=!0,e.memoizedState=a):(e=ay(),It.lanes|=e,Rr|=e,i)}function ap(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=b.T,T={};b.T=T,Qh(e,!1,i,a);try{var w=h(),L=b.S;if(L!==null&&L(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var X=U0(w,l);Lo(e,i,X,dn(e))}else Lo(e,i,l,dn(e))}catch(J){Lo(e,i,{then:function(){},status:"rejected",reason:J},dn())}finally{at.p=d,b.T=v}}function z0(){}function Gh(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=op(e).queue;ap(e,h,i,wt,a===null?z0:function(){return lp(e),a(l)})}function op(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:wt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function lp(e){var i=op(e).next.queue;Lo(e,i,{},dn())}function Fh(){return He(il)}function up(){return de().memoizedState}function cp(){return de().memoizedState}function B0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=dn();e=vr(a);var l=Er(i,e,a);l!==null&&(Je(l,i,a),Bo(l,i,a)),i={cache:Ch()},e.payload=i;return}i=i.return}}function q0(e,i,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Du(e)?fp(i,a):(a=Th(e,i,a,l),a!==null&&(Je(a,e,l),dp(a,i,l)))}function hp(e,i,a){var l=dn();Lo(e,i,a,l)}function Lo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Du(e))fp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return fu(e,i,h,0),Xt===null&&hu(),!1}catch{}finally{}if(a=Th(e,i,h,l),a!==null)return Je(a,e,l),dp(a,i,l),!0}return!1}function Qh(e,i,a,l){if(l={lane:2,revertLane:xf(),action:l,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(i)throw Error(s(479))}else i=Th(e,a,l,2),i!==null&&Je(i,e,2)}function Du(e){var i=e.alternate;return e===It||i!==null&&i===It}function fp(e,i){ga=Au=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function dp(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}var ii={readContext:He,use:Ru,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};ii.useCacheRefresh=le,ii.useMemoCache=le,ii.useHostTransitionStatus=le,ii.useFormState=le,ii.useActionState=le,ii.useOptimistic=le;var ps={readContext:He,use:Ru,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Iu(4194308,4,ep.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Iu(4194308,4,e,i)},useInsertionEffect:function(e,i){Iu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(gs){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(gs){Gn(!0);try{a(i)}finally{Gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=q0.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=zh(e);var i=e.queue,a=hp.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hh,useDeferredValue:function(e,i){var a=sn();return jh(a,e,i)},useTransition:function(){var e=zh(!1);return e=ap.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(xt&60)!==0||xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(kg.bind(null,l,d,e),[e]),l.flags|=2048,ya(9,Lg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=Xt.identifierPrefix;if(Bt){var a=Ii,l=wi;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Su++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=P0++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=B0.bind(null,It)}};ps.useMemoCache=xh,ps.useHostTransitionStatus=Fh,ps.useFormState=Kg,ps.useActionState=Kg,ps.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qh.bind(null,It,!0,a),a.dispatch=i,[e,i]};var pr={readContext:He,use:Ru,useCallback:ip,useContext:He,useEffect:qh,useImperativeHandle:np,useInsertionEffect:Jg,useLayoutEffect:tp,useMemo:rp,useReducer:wu,useRef:$g,useState:function(){return wu(Di)},useDebugValue:Hh,useDeferredValue:function(e,i){var a=de();return sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=wu(Di)[0],i=de().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:Pg,useId:up};pr.useCacheRefresh=cp,pr.useMemoCache=xh,pr.useHostTransitionStatus=Fh,pr.useFormState=Yg,pr.useActionState=Yg,pr.useOptimistic=function(e,i){var a=de();return qg(a,Qt,e,i)};var ys={readContext:He,use:Ru,useCallback:ip,useContext:He,useEffect:qh,useImperativeHandle:np,useInsertionEffect:Jg,useLayoutEffect:tp,useMemo:rp,useReducer:kh,useRef:$g,useState:function(){return kh(Di)},useDebugValue:Hh,useDeferredValue:function(e,i){var a=de();return Qt===null?jh(a,e,i):sp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=kh(Di)[0],i=de().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:Pg,useId:up};ys.useCacheRefresh=cp,ys.useMemoCache=xh,ys.useHostTransitionStatus=Fh,ys.useFormState=Wg,ys.useActionState=Wg,ys.useOptimistic=function(e,i){var a=de();return Qt!==null?qg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Kh(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yh={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=dn(),h=vr(l);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(Je(i,e,l),Bo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=dn(),h=vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(Je(i,e,l),Bo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=dn(),l=vr(a);l.tag=2,i!=null&&(l.callback=i),i=Er(e,l,a),i!==null&&(Je(i,e,a),Bo(i,e,a))}};function mp(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!bo(a,l)||!bo(h,d):!0}function gp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Yh.enqueueReplaceState(i,i.state,null)}function _s(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function pp(e){Ou(e)}function yp(e){console.error(e)}function _p(e){Ou(e)}function Nu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function vp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xh(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(e,i)},a}function Ep(e){return e=vr(e),e.tag=3,e}function Tp(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){vp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){vp(i,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function H0(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&zo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ni===null?Nf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vf(e,l,h)),!1;case 22:return a.flags|=65536,l===Rh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vf(e,l,h)),!1}throw Error(s(435,a.tag))}return Vf(e,l,h),Nf(),!1}if(Bt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bh&&(e=Error(s(422),{cause:l}),Co(Sn(e,a)))):(l!==bh&&(i=Error(s(423),{cause:l}),Co(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,a),h=Xh(e.stateNode,l,h),hf(e,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),Yo===null?Yo=[d]:Yo.push(d),se!==4&&(se=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Xh(a.stateNode,l,e),hf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ep(h),Tp(h,e,a,l),hf(a,h),!1}a=a.return}while(a!==null);return!1}var Ap=Error(s(461)),Oe=!1;function xe(e,i,a,l){i.child=e===null?Ig(i,null,a,l):ds(i,e.child,a,l)}function Sp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Es(i),l=Mh(e,i,a,v,d,h),T=Vh(),e!==null&&!Oe?(Uh(e,i,h),Oi(e,i,h)):(Bt&&T&&Ah(i),i.flags|=1,xe(e,i,l,h),i.child)}function bp(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Rp(e,i,d,l,h)):(e=xu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!sf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(v,l)&&e.ref===i.ref)return Oi(e,i,h)}return i.flags|=1,e=br(d,l),e.ref=i.ref,e.return=i,i.child=e}function Rp(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(bo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,sf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Oi(e,i,h)}return Wh(e,i,a,l,h)}function wp(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(ko(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ip(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(i,v!==null?v.cachePool:null),v!==null?Cg(i,v):wh(),Dg(i);else return i.lanes=i.childLanes=536870912,Ip(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Tu(i,v.cachePool),Cg(i,v),mr(),i.memoizedState=null):(e!==null&&Tu(i,null),wh(),mr());return xe(e,i,h,a),i.child}function Ip(e,i,a,l){var h=Oh();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Tu(i,null),wh(),Dg(i),e!==null&&zo(e,i,l,!0),null}function ko(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Wh(e,i,a,l,h){return Es(i),a=Mh(e,i,a,l,void 0,h),l=Vh(),e!==null&&!Oe?(Uh(e,i,h),Oi(e,i,h)):(Bt&&l&&Ah(i),i.flags|=1,xe(e,i,a,h),i.child)}function Cp(e,i,a,l,h,d){return Es(i),i.updateQueue=null,a=Ug(i,l,a,h),Vg(e),l=Vh(),e!==null&&!Oe?(Uh(e,i,d),Oi(e,i,d)):(Bt&&l&&Ah(i),i.flags|=1,xe(e,i,a,d),i.child)}function Dp(e,i,a,l,h){if(Es(i),i.stateNode===null){var d=la,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yh,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},uf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):la,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kh(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Yh.enqueueReplaceState(d,d.state,null),Ho(i,l,d,h),qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=_s(a,T);d.props=w;var L=d.context,X=a.contextType;v=la,typeof X=="object"&&X!==null&&(v=He(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&gp(i,d,l,v),_r=!1;var j=i.memoizedState;d.state=j,Ho(i,l,d,h),qo(),L=i.memoizedState,T||j!==L||_r?(typeof J=="function"&&(Kh(i,a,J,l),L=i.memoizedState),(w=_r||mp(i,a,w,l,j,L,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,cf(e,i),v=i.memoizedProps,X=_s(a,v),d.props=X,J=i.pendingProps,j=d.context,L=a.contextType,w=la,typeof L=="object"&&L!==null&&(w=He(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||j!==w)&&gp(i,d,l,w),_r=!1,j=i.memoizedState,d.state=j,Ho(i,l,d,h),qo();var K=i.memoizedState;v!==J||j!==K||_r||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Kh(i,a,T,l),K=i.memoizedState),(X=_r||mp(i,a,X,l,j,K,w)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=w,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ko(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ds(i,e.child,null,h),i.child=ds(i,null,a,h)):xe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Oi(e,i,h),e}function Op(e,i,a,l){return Io(),i.flags|=256,xe(e,i,a,l),i.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Zh(e){return{baseLanes:e,cachePool:Mg()}}function Jh(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function Np(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?dr(i):mr(),Bt){var T=Pe,w;if(w=T){t:{for(w=T,T=ei;w.nodeType!==8;){if(!T){T=null;break t}if(w=kn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:cs!==null?{id:wi,overflow:Ii}:null,retryLane:536870912},w=Dn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,Ze=i,Pe=null,w=!0):w=!1}w||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ci(i)}return T=l.children,l=l.fallback,h?(mr(),h=i.mode,T=ef({mode:"hidden",children:T},h),l=As(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Zh(a),h.childLanes=Jh(e,v,a),i.memoizedState=$h,l):(dr(i),tf(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(dr(i),i.flags&=-257,i=nf(e,i,a)):i.memoizedState!==null?(mr(),i.child=e.child,i.flags|=128,i=null):(mr(),h=l.fallback,T=i.mode,l=ef({mode:"visible",children:l.children},T),h=As(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ds(i,e.child,null,a),l=i.child,l.memoizedState=Zh(a),l.childLanes=Jh(e,v,a),i.memoizedState=$h,i=h);else if(dr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,Co({value:l,source:null,stack:null}),i=nf(e,i,a)}else if(Oe||zo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Xt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,fr(e,l),Je(v,e,l),Ap}T.data==="$?"||Nf(),i=nf(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=iA.bind(null,e),T._reactRetry=i,i=null):(e=w.treeContext,Pe=kn(T.nextSibling),Ze=i,Bt=!0,xn=null,ei=!1,e!==null&&(bn[Rn++]=wi,bn[Rn++]=Ii,bn[Rn++]=cs,wi=e.id,Ii=e.overflow,cs=i),i=tf(i,l.children),i.flags|=4096);return i}return h?(mr(),h=l.fallback,T=i.mode,w=e.child,L=w.sibling,l=br(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,L!==null?h=br(L,h):(h=As(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Zh(a):(w=T.cachePool,w!==null?(L=Se._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=Mg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Jh(e,v,a),i.memoizedState=$h,l):(dr(i),a=e.child,e=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function tf(e,i){return i=ef({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ef(e,i){return iy(e,i,0,null)}function nf(e,i,a){return ds(i,e.child,null,a),e=tf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Mp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),of(e.return,i,a)}function rf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Vp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(xe(e,i,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mp(e,a,i);else if(e.tag===19)Mp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Ft(Ae,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Eu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Eu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}rf(i,!0,a,null,d);break;case"together":rf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Rr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(zo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=br(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=br(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function sf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function j0(e,i,a){switch(i.tag){case 3:Wi(i,i.stateNode.containerInfo),yr(i,Se,e.memoizedState.cache),Io();break;case 27:case 5:no(i);break;case 4:Wi(i,i.stateNode.containerInfo);break;case 10:yr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Np(e,i,a):(dr(i),e=Oi(e,i,a),e!==null?e.sibling:null);dr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(zo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Vp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(Ae,Ae.current),l)break;return null;case 22:case 23:return i.lanes=0,wp(e,i,a);case 24:yr(i,Se,e.memoizedState.cache)}return Oi(e,i,a)}function Up(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!sf(e,a)&&(i.flags&128)===0)return Oe=!1,j0(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(i.flags&1048576)!==0&&_g(i,gu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vf(l)?(e=_s(l,e),i.tag=1,i=Dp(null,i,l,e,a)):(i.tag=0,i=Wh(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Q){i.tag=11,i=Sp(null,i,l,e,a);break t}else if(h===R){i.tag=14,i=bp(null,i,l,e,a);break t}}throw i=I(l)||l,Error(s(306,i,""))}}return i;case 0:return Wh(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=_s(l,i.pendingProps),Dp(e,i,l,h,a);case 3:t:{if(Wi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,cf(e,i),Ho(i,d,null,a);var v=i.memoizedState;if(d=v.cache,yr(i,Se,d),d!==h.cache&&lf(i,[Se],a,!0),qo(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Op(e,i,d,a);break t}else if(d!==l){l=Sn(Error(s(424)),i),Co(l),i=Op(e,i,d,a);break t}else for(Pe=kn(i.stateNode.containerInfo.firstChild),Ze=i,Bt=!0,xn=null,ei=!0,a=Ig(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),d===l){i=Oi(e,i,a);break t}xe(e,i,d,a)}i=i.child}return i;case 26:return ko(e,i),e===null?(a=Ly(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=Yu(gn.current).createElement(a),l[Ie]=i,l[ve]=e,Le(l,a,e),Zt(l),i.stateNode=l):i.memoizedState=Ly(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return no(i),e===null&&Bt&&(l=i.stateNode=Uy(i.type,i.pendingProps,gn.current),Ze=i,ei=!0,Pe=kn(l.firstChild)),l=i.pendingProps.children,e!==null||Bt?xe(e,i,l,a):i.child=ds(i,null,l,a),ko(e,i),i.child;case 5:return e===null&&Bt&&((h=l=Pe)&&(l=vA(l,i.type,i.pendingProps,ei),l!==null?(i.stateNode=l,Ze=i,Pe=kn(l.firstChild),ei=!1,h=!0):h=!1),h||fs(i)),no(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Ff(h,d)?l=null:v!==null&&Ff(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Mh(e,i,x0,null,null,a),il._currentValue=h),ko(e,i),xe(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=Pe)&&(a=EA(a,i.pendingProps,ei),a!==null?(i.stateNode=a,Ze=i,Pe=null,e=!0):e=!1),e||fs(i)),null;case 13:return Np(e,i,a);case 4:return Wi(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ds(i,null,l,a):xe(e,i,l,a),i.child;case 11:return Sp(e,i,i.type,i.pendingProps,a);case 7:return xe(e,i,i.pendingProps,a),i.child;case 8:return xe(e,i,i.pendingProps.children,a),i.child;case 12:return xe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yr(i,i.type,l.value),xe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Es(i),h=He(h),l=l(h),i.flags|=1,xe(e,i,l,a),i.child;case 14:return bp(e,i,i.type,i.pendingProps,a);case 15:return Rp(e,i,i.type,i.pendingProps,a);case 19:return Vp(e,i,a);case 22:return wp(e,i,a);case 24:return Es(i),l=He(Se),e===null?(h=Oh(),h===null&&(h=Xt,d=Ch(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},uf(i),yr(i,Se,h)):((e.lanes&a)!==0&&(cf(e,i),Ho(i,null,null,a),qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yr(i,Se,l)):(l=d.cache,yr(i,Se,l),l!==h.cache&&lf(i,[Se],a,!0))),xe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var af=kt(null),vs=null,Ni=null;function yr(e,i,a){Ft(af,i._currentValue),i._currentValue=a}function Mi(e){e._currentValue=af.current,ne(af)}function of(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function lf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),of(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),of(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function zo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Xi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&lf(i,e,a,l),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Pp(vs,e)}function Vu(e,i){return vs===null&&Es(e),Pp(e,i)}function Pp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ni=Ni.next=i;return a}var _r=!1;function uf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=du(e),pg(e,null,a),i}return fu(e,l,i,a),du(e)}function Bo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,nr(e,a)}}function hf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var ff=!1;function qo(){if(ff){var e=ma;if(e!==null)throw e}}function Ho(e,i,a,l){ff=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,L=w.next;w.next=null,v===null?d=L:v.next=L,v=w;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=L:T.next=L,X.lastBaseUpdate=w))}if(d!==null){var J=h.baseState;v=0,X=L=w=null,T=d;do{var j=T.lane&-536870913,K=j!==T.lane;if(K?(xt&j)===j:(l&j)===j){j!==0&&j===da&&(ff=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,Tt=T;j=i;var ae=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){J=ct.call(ae,J,j);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,j=typeof ct=="function"?ct.call(ae,J,j):ct,j==null)break t;J=D({},J,j);break t;case 2:_r=!0}}j=T.callback,j!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[j]:K.push(j))}else K={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(L=X=K,w=J):X=X.next=K,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(w=J),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Rr|=v,e.lanes=v,e.memoizedState=J}}function xp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Lp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xp(a[e],i)}function jo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Tr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a;try{T()}catch(L){Yt(h,w,L)}}}l=l.next}while(l!==d)}}catch(L){Yt(i,i.return,L)}}function kp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Lp(i,a)}catch(l){Yt(e,e.return,l)}}}function zp(e,i,a){a.props=_s(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function Ts(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Yt(e,i,d)}}function cn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Bp(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function qp(e,i,a){try{var l=e.stateNode;mA(l,e.type,a,i),l[ve]=i}catch(h){Yt(e,e.return,h)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ku));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(mf(e,i,a),e=e.sibling;e!==null;)mf(e,i,a),e=e.sibling}function Uu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Uu(e,i,a),e=e.sibling;e!==null;)Uu(e,i,a),e=e.sibling}var Vi=!1,re=!1,gf=!1,jp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Gp=!1;function G0(e,i){if(e=e.containerInfo,jf=tc,e=og(e),ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,L=0,X=0,J=e,j=null;e:for(;;){for(var K;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(K=J.firstChild)!==null;)j=J,J=K;for(;;){if(J===e)break e;if(j===a&&++L===h&&(T=v),j===d&&++X===l&&(w=v),(K=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=K}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:e,selectionRange:a},tc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=_s(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Yf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}return ct=Gp,Gp=!1,ct}function Fp(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Pi(e,a),l&4&&jo(5,a);break;case 1:if(Pi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Yt(a,a.return,T)}else{var h=_s(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(a,a.return,T)}}l&64&&kp(a),l&512&&Ts(a,a.return);break;case 3:if(Pi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Lp(l,e)}catch(T){Yt(a,a.return,T)}}break;case 26:Pi(e,a),l&512&&Ts(a,a.return);break;case 27:case 5:Pi(e,a),i===null&&l&4&&Bp(a),l&512&&Ts(a,a.return);break;case 12:Pi(e,a);break;case 13:Pi(e,a),l&4&&Yp(e,a);break;case 22:if(h=a.memoizedState!==null||Vi,!h){i=i!==null&&i.memoizedState!==null||re;var d=Vi,v=re;Vi=h,(re=i)&&!v?Ar(e,a,(a.subtreeFlags&8772)!==0):Pi(e,a),Vi=d,re=v}l&512&&(a.memoizedProps.mode==="manual"?Ts(a,a.return):cn(a,a.return));break;default:Pi(e,a)}}function Qp(e){var i=e.alternate;i!==null&&(e.alternate=null,Qp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&$r(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,hn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)Kp(e,i,a),a=a.sibling}function Kp(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:re||cn(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:re||cn(a,i);var l=me,h=hn;for(me=a.stateNode,Ui(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);$r(a),me=l,hn=h;break;case 5:re||cn(a,i);case 6:h=me;var d=hn;if(me=null,Ui(e,i,a),me=h,hn=d,me!==null)if(hn)try{e=me,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Yt(a,i,v)}else try{me.removeChild(a.stateNode)}catch(v){Yt(a,i,v)}break;case 18:me!==null&&(hn?(i=me,a=a.stateNode,i.nodeType===8?Kf(i.parentNode,a):i.nodeType===1&&Kf(i,a),ol(i)):Kf(me,a.stateNode));break;case 4:l=me,h=hn,me=a.stateNode.containerInfo,hn=!0,Ui(e,i,a),me=l,hn=h;break;case 0:case 11:case 14:case 15:re||Tr(2,a,i),re||Tr(4,a,i),Ui(e,i,a);break;case 1:re||(cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zp(a,i,l)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:re||cn(a,i),re=(l=re)||a.memoizedState!==null,Ui(e,i,a),re=l;break;default:Ui(e,i,a)}}function Yp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){Yt(i,i.return,a)}}function F0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new jp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new jp),i;default:throw Error(s(435,e.tag))}}function pf(e,i){var a=F0(e);i.forEach(function(l){var h=rA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function In(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:me=T.stateNode,hn=!1;break t;case 3:me=T.stateNode.containerInfo,hn=!0;break t;case 4:me=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(me===null)throw Error(s(160));Kp(d,v,h),me=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xp(i,e),i=i.sibling}var Ln=null;function Xp(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(i,e),Cn(e),l&4&&(Tr(3,e,e.return),jo(3,e),Tr(5,e,e.return));break;case 1:In(i,e),Cn(e),l&512&&(re||a===null||cn(a,a.return)),l&64&&Vi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(In(i,e),Cn(e),l&512&&(re||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rr]||d[Ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Le(d,l,a),d[Ie]=e,Zt(d),l=d;break t;case"link":var v=By("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Le(d,l,a),h.head.appendChild(d);break;case"meta":if(v=By("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Le(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ie]=e,Zt(d),l=d}e.stateNode=l}else qy(h,e.type,e.stateNode);else e.stateNode=zy(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?qy(h,e.type,e.stateNode):zy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var w=h.firstChild;w;){var L=w.nextSibling,X=w.nodeName;w[rr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=L}for(var J=e.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);Le(h,J,d),h[Ie]=e,h[ve]=d}catch(ct){Yt(e,e.return,ct)}}case 5:if(In(i,e),Cn(e),l&512&&(re||a===null||cn(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(gf=!0);break;case 6:if(In(i,e),Cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if($u=null,h=Ln,Ln=Xu(i.containerInfo),In(i,e),Ln=h,Cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}gf&&(gf=!1,Wp(e));break;case 4:l=Ln,Ln=Xu(e.stateNode.containerInfo),In(i,e),Cn(e),Ln=l;break;case 12:In(i,e),Cn(e);break;case 13:In(i,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rf=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pf(e,l)));break;case 22:if(l&512&&(re||a===null||cn(a,a.return)),w=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,X=Vi,J=re,Vi=X||w,re=J||L,In(i,e),re=J,Vi=X,Cn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=w?i._visibility&-2:i._visibility|1,w&&(i=Vi||re,a===null||L||i||_a(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,w)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,T=L.memoizedProps.style;var K=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ct){Yt(L,L.return,ct)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=w?"":L.memoizedProps}catch(ct){Yt(L,L.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pf(e,a))));break;case 19:In(i,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pf(e,l)));break;case 21:break;default:In(i,e),Cn(e)}}function Cn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Hp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=df(e);Uu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(_n(v,""),l.flags&=-33);var T=df(e);Uu(e,T,v);break;case 3:case 4:var w=l.stateNode.containerInfo,L=df(e);mf(e,L,w);break;default:throw Error(s(161))}}}catch(X){Yt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Pi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fp(e,i.alternate,i),i=i.sibling}function _a(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Tr(4,i,i.return),_a(i);break;case 1:cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zp(i,i.return,a),_a(i);break;case 26:case 27:case 5:cn(i,i.return),_a(i);break;case 22:cn(i,i.return),i.memoizedState===null&&_a(i);break;default:_a(i)}e=e.sibling}}function Ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),jo(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Yt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)xp(w[h],T)}catch(L){Yt(l,l.return,L)}}a&&v&64&&kp(d),Ts(d,d.return);break;case 26:case 27:case 5:Ar(h,d,a),a&&l===null&&v&4&&Bp(d),Ts(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&Yp(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),Ts(d,d.return);break;default:Ar(h,d,a)}i=i.sibling}}function yf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vo(a))}function _f(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e))}function Sr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$p(e,i,a,l),i=i.sibling}function $p(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(e,i,a,l),h&2048&&jo(9,i);break;case 3:Sr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){Sr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Yt(i,i.return,w)}}else Sr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Sr(e,i,a,l):Go(e,i):d._visibility&4?Sr(e,i,a,l):(d._visibility|=4,va(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yf(i.alternate,i);break;case 24:Sr(e,i,a,l),h&2048&&_f(i.alternate,i);break;default:Sr(e,i,a,l)}}function va(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:va(d,v,T,w,h),jo(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?va(d,v,T,w,h):Go(d,v):(X._visibility|=4,va(d,v,T,w,h)),h&&L&2048&&yf(v.alternate,v);break;case 24:va(d,v,T,w,h),h&&L&2048&&_f(v.alternate,v);break;default:va(d,v,T,w,h)}i=i.sibling}}function Go(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Go(a,l),h&2048&&yf(l.alternate,l);break;case 24:Go(a,l),h&2048&&_f(l.alternate,l);break;default:Go(a,l)}i=i.sibling}}var Fo=8192;function Ea(e){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 26:Ea(e),e.flags&Fo&&e.memoizedState!==null&&VA(Ln,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var i=Ln;Ln=Xu(e.stateNode.containerInfo),Ea(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Fo,Fo=16777216,Ea(e),Fo=i):Ea(e));break;default:Ea(e)}}function Jp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Qo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,ey(l,e)}Jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 0:case 11:case 15:Qo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Qo(e);break;case 12:Qo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Pu(e)):Qo(e);break;default:Qo(e)}}function Pu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ne=l,ey(l,e)}Jp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Tr(8,i,i.return),Pu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Pu(i));break;default:Pu(i)}e=e.sibling}}function ey(e,i){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Tr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,d=l.return;if(Qp(l),l===a){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}function Q0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,i,a,l){return new Q0(e,i,a,l)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function br(e,i){var a=e.alternate;return a===null?(a=Dn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ny(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")vf(e)&&(v=1);else if(typeof e=="string")v=NA(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return As(a.children,h,d,i);case y:v=8,h|=24;break;case E:return e=Dn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case Y:return e=Dn(13,a,i,h),e.elementType=Y,e.lanes=d,e;case k:return e=Dn(19,a,i,h),e.elementType=k,e.lanes=d,e;case G:return iy(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case O:v=10;break t;case U:v=9;break t;case Q:v=11;break t;case R:v=14;break t;case N:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Dn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function As(e,i,a,l){return e=Dn(7,e,l,i),e.lanes=a,e}function iy(e,i,a,l){e=Dn(22,e,l,i),e.elementType=G,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=fr(d,2);v!==null&&(h._pendingVisibility|=2,Je(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=fr(d,2);v!==null&&(h._pendingVisibility&=-3,Je(v,d,2))}}};return e.stateNode=h,e}function Ef(e,i,a){return e=Dn(6,e,null,i),e.lanes=a,e}function Tf(e,i,a){return i=Dn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function xi(e){e.flags|=4}function ry(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hy(i)){if(i=wn.current,i!==null&&((xt&4194176)===xt?ni!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==ni))throw Oo=Rh,Tg;e.flags|=8192}}function Lu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?tr():536870912,e.lanes|=i,Aa|=i)}function Ko(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function K0(e,i,a){var l=i.pendingProps;switch(Sh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(Se),gi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wo(i)?xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xn!==null&&(Df(xn),xn=null))),Jt(i),null;case 26:return a=i.memoizedState,e===null?(xi(i),a!==null?(Jt(i),ry(i,a)):(Jt(i),i.flags&=-16777217)):a?a!==e.memoizedState?(xi(i),Jt(i),ry(i,a)):(Jt(i),i.flags&=-16777217):(e.memoizedProps!==l&&xi(i),Jt(i),i.flags&=-16777217),null;case 27:qs(i),a=gn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}e=Ye.current,wo(i)?vg(i):(e=Uy(h,l,a),i.stateNode=e,xi(i))}return Jt(i),null;case 5:if(qs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(e=Ye.current,wo(i))vg(i);else{switch(h=Yu(gn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ie]=i,e[ve]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=gn.current,wo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cy(e.nodeValue,a)),e||fs(i)}else e=Yu(e).createTextNode(l),e[Ie]=i,i.stateNode=e}return Jt(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),h=!1}else xn!==null&&(Df(xn),xn=null),h=!0;if(!h)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Lu(i,i.updateQueue),Jt(i),null;case 4:return gi(),e===null&&Bf(i.stateNode.containerInfo),Jt(i),null;case 10:return Mi(i.type),Jt(i),null;case 19:if(ne(Ae),h=i.memoizedState,h===null)return Jt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ko(h,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Eu(e),d!==null){for(i.flags|=128,Ko(h,!1),e=d.updateQueue,i.updateQueue=e,Lu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ny(a,e),a=a.sibling;return Ft(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>ku&&(i.flags|=128,l=!0,Ko(h,!1),i.lanes=4194304)}else{if(!l)if(e=Eu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Lu(i,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return Jt(i),null}else 2*nn()-h.renderingStartTime>ku&&a!==536870912&&(i.flags|=128,l=!0,Ko(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Ae.current,Ft(Ae,l?e&1|2:e&1),i):(Jt(i),null);case 22:case 23:return Ci(i),Ih(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),a=i.updateQueue,a!==null&&Lu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ne(ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(Se),Jt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Y0(e,i){switch(Sh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Mi(Se),gi(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return qs(i),null;case 13:if(Ci(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ne(Ae),null;case 4:return gi(),null;case 10:return Mi(i.type),null;case 22:case 23:return Ci(i),Ih(),e!==null&&ne(ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Mi(Se),null;case 25:return null;default:return null}}function sy(e,i){switch(Sh(i),i.tag){case 3:Mi(Se),gi();break;case 26:case 27:case 5:qs(i);break;case 4:gi();break;case 13:Ci(i);break;case 19:ne(Ae);break;case 10:Mi(i.type);break;case 22:case 23:Ci(i),Ih(),e!==null&&ne(ms);break;case 24:Mi(Se)}}var X0={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},W0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,Ot=null,xt=0,Wt=0,fn=null,Li=!1,Ta=!1,Af=!1,ki=0,se=0,Rr=0,Ss=0,Sf=0,On=0,Aa=0,Yo=null,ri=null,bf=!1,Rf=0,ku=1/0,zu=null,wr=null,Bu=!1,bs=null,Xo=0,wf=0,If=null,Wo=0,Cf=null;function dn(){if((te&2)!==0&&xt!==0)return xt&-xt;if(b.T!==null){var e=da;return e!==0?e:xf()}return Ql()}function ay(){On===0&&(On=(xt&536870912)===0||Bt?oo():536870912);var e=wn.current;return e!==null&&(e.flags|=32),On}function Je(e,i,a){(e===Xt&&Wt===2||e.cancelPendingCommit!==null)&&(Sa(e,0),zi(e,xt,On,!1)),oe(e,a),((te&2)===0||e!==Xt)&&(e===Xt&&((te&2)===0&&(Ss|=a),se===4&&zi(e,xt,On,!1)),si(e))}function oy(e,i,a){if((te&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Ji(e,i),h=l?J0(e,i):Mf(e,i,!0),d=l;do{if(h===0){Ta&&!l&&zi(e,i,0,!1);break}else if(h===6)zi(e,i,0,!Li);else{if(a=e.current.alternate,d&&!$0(a)){h=Mf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=Yo;var w=T.current.memoizedState.isDehydrated;if(w&&(Sa(T,v).flags|=256),v=Mf(T,v,!1),v!==2){if(Af&&!w){T.errorRecoveryDisabledLanes|=d,Ss|=d,h=4;break t}d=ri,ri=h,d!==null&&Df(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Sa(e,0),zi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){zi(l,i,On,!Li);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Rf+300-nn(),10<d)){if(zi(l,i,On,!Li),pn(l,0)!==0)break t;l.timeoutHandle=Ny(ly.bind(null,l,a,ri,zu,bf,i,On,Ss,Aa,Li,2,-0,0),d);break t}ly(l,a,ri,zu,bf,i,On,Ss,Aa,Li,0,-0,0)}}break}while(!0);si(e)}function Df(e){ri===null?ri=e:ri.push.apply(ri,e)}function ly(e,i,a,l,h,d,v,T,w,L,X,J,j){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:MA},Zp(i),i=UA(),i!==null)){e.cancelPendingCommit=i(gy.bind(null,e,a,l,h,v,T,w,1,J,j)),zi(e,d,v,!L);return}gy(e,a,l,h,v,T,w,X,J,j)}function $0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zi(e,i,a,l){i&=~Sf,i&=~Ss,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Xe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&er(e,a,i)}function qu(){return(te&6)===0?($o(0),!1):!0}function Of(){if(Ot!==null){if(Wt===0)var e=Ot.return;else e=Ot,Ni=vs=null,Ph(e),ha=null,No=0,e=Ot;for(;e!==null;)sy(e.alternate,e),e=e.return;Ot=null}}function Sa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Of(),Xt=e,Ot=a=br(e.current,null),xt=i,Wt=0,fn=null,Li=!1,Ta=Ji(e,i),Af=!1,Aa=On=Sf=Ss=Rr=se=0,ri=Yo=null,bf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Xe(l),d=1<<h;i|=e[h],l&=~d}return ki=i,hu(),a}function uy(e,i){It=null,b.H=ii,i===Do?(i=bg(),Wt=3):i===Tg?(i=bg(),Wt=4):Wt=i===Ap?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,fn=i,Ot===null&&(se=1,Nu(e,Sn(i,e.current)))}function cy(){var e=b.H;return b.H=ii,e===null?ii:e}function hy(){var e=b.A;return b.A=X0,e}function Nf(){se=4,Li||(xt&4194176)!==xt&&wn.current!==null||(Ta=!0),(Rr&134217727)===0&&(Ss&134217727)===0||Xt===null||zi(Xt,xt,On,!1)}function Mf(e,i,a){var l=te;te|=2;var h=cy(),d=hy();(Xt!==e||xt!==i)&&(zu=null,Sa(e,i)),i=!1;var v=se;t:do try{if(Wt!==0&&Ot!==null){var T=Ot,w=fn;switch(Wt){case 8:Of(),v=6;break t;case 3:case 2:case 6:wn.current===null&&(i=!0);var L=Wt;if(Wt=0,fn=null,ba(e,T,w,L),a&&Ta){v=0;break t}break;default:L=Wt,Wt=0,fn=null,ba(e,T,w,L)}}Z0(),v=se;break}catch(X){uy(e,X)}while(!0);return i&&e.shellSuspendCounter++,Ni=vs=null,te=l,b.H=h,b.A=d,Ot===null&&(Xt=null,xt=0,hu()),v}function Z0(){for(;Ot!==null;)fy(Ot)}function J0(e,i){var a=te;te|=2;var l=cy(),h=hy();Xt!==e||xt!==i?(zu=null,ku=nn()+500,Sa(e,i)):Ta=Ji(e,i);t:do try{if(Wt!==0&&Ot!==null){i=Ot;var d=fn;e:switch(Wt){case 1:Wt=0,fn=null,ba(e,i,d,1);break;case 2:if(Ag(d)){Wt=0,fn=null,dy(i);break}i=function(){Wt===2&&Xt===e&&(Wt=7),si(e)},d.then(i,i);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Ag(d)?(Wt=0,fn=null,dy(i)):(Wt=0,fn=null,ba(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var T=Ot;if(!v||Hy(v)){Wt=0,fn=null;var w=T.sibling;if(w!==null)Ot=w;else{var L=T.return;L!==null?(Ot=L,Hu(L)):Ot=null}break e}}Wt=0,fn=null,ba(e,i,d,5);break;case 6:Wt=0,fn=null,ba(e,i,d,6);break;case 8:Of(),se=6;break t;default:throw Error(s(462))}}tA();break}catch(X){uy(e,X)}while(!0);return Ni=vs=null,b.H=l,b.A=h,te=a,Ot!==null?0:(Xt=null,xt=0,hu(),se)}function tA(){for(;Ot!==null&&!sh();)fy(Ot)}function fy(e){var i=Up(e.alternate,e,ki);e.memoizedProps=e.pendingProps,i===null?Hu(e):Ot=i}function dy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cp(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Cp(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Ph(i);default:sy(a,i),i=Ot=ny(i,ki),i=Up(a,i,ki)}e.memoizedProps=e.pendingProps,i===null?Hu(e):Ot=i}function ba(e,i,a,l){Ni=vs=null,Ph(i),ha=null,No=0;var h=i.return;try{if(H0(e,h,i,a,xt)){se=1,Nu(e,Sn(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;se=1,Nu(e,Sn(a,e.current)),Ot=null;return}i.flags&32768?(Bt||l===1?e=!0:Ta||(xt&536870912)!==0?e=!1:(Li=e=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),my(i,e)):Hu(i)}function Hu(e){var i=e;do{if((i.flags&32768)!==0){my(i,Li);return}e=i.return;var a=K0(i.alternate,i,ki);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);se===0&&(se=5)}function my(e,i){do{var a=Y0(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);se=6,Ot=null}function gy(e,i,a,l,h,d,v,T,w,L){var X=b.T,J=at.p;try{at.p=2,b.T=null,eA(e,i,a,l,J,h,d,v,T,w,L)}finally{b.T=X,at.p=J}}function eA(e,i,a,l,h,d,v,T){do Ra();while(bs!==null);if((te&6)!==0)throw Error(s(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=w.lanes|w.childLanes;if(L|=Eh,Gl(e,l,L,d,v,T),e===Xt&&(Ot=Xt=null,xt=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Bu||(Bu=!0,wf=L,If=a,sA(pi,function(){return Ra(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=at.p,at.p=2,v=te,te|=4,G0(e,w),Xp(w,e),R0(Gf,e.containerInfo),tc=!!jf,Gf=jf=null,e.current=w,Fp(e,w.alternate,w),io(),te=v,at.p=d,b.T=a):e.current=w,Bu?(Bu=!1,bs=e,Xo=l):py(e,L),L=e.pendingLanes,L===0&&(wr=null),so(w.stateNode),si(e),i!==null)for(h=e.onRecoverableError,w=0;w<i.length;w++)L=i[w],h(L.value,{componentStack:L.stack});return(Xo&3)!==0&&Ra(),L=e.pendingLanes,(l&4194218)!==0&&(L&42)!==0?e===Cf?Wo++:(Wo=0,Cf=e):Wo=0,$o(0),null}function py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Vo(i)))}function Ra(){if(bs!==null){var e=bs,i=wf;wf=0;var a=Fl(Xo),l=b.T,h=at.p;try{if(at.p=32>a?32:a,b.T=null,bs===null)var d=!1;else{a=If,If=null;var v=bs,T=Xo;if(bs=null,Xo=0,(te&6)!==0)throw Error(s(331));var w=te;if(te|=4,ty(v.current),$p(v,v.current,T,a),te=w,$o(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot($i,v)}catch{}d=!0}return d}finally{at.p=h,b.T=l,py(e,i)}}return!1}function yy(e,i,a){i=Sn(a,i),i=Xh(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(oe(e,2),si(e))}function Yt(e,i,a){if(e.tag===3)yy(e,e,a);else for(;i!==null;){if(i.tag===3){yy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=Sn(a,e),a=Ep(2),l=Er(i,a,2),l!==null&&(Tp(a,l,i,e),oe(l,2),si(l));break}}i=i.return}}function Vf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new W0;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Af=!0,h.add(a),e=nA.bind(null,e,i,a),i.then(e,e))}function nA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(xt&a)===a&&(se===4||se===3&&(xt&62914560)===xt&&300>nn()-Rf?(te&2)===0&&Sa(e,0):Sf|=a,Aa===xt&&(Aa=0)),si(e)}function _y(e,i){i===0&&(i=tr()),e=fr(e,i),e!==null&&(oe(e,i),si(e))}function iA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),_y(e,a)}function rA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),_y(e,a)}function sA(e,i){return Yr(e,i)}var ju=null,wa=null,Uf=!1,Gu=!1,Pf=!1,Rs=0;function si(e){e!==wa&&e.next===null&&(wa===null?ju=wa=e:wa=wa.next=e),Gu=!0,Uf||(Uf=!0,oA(aA))}function $o(e,i){if(!Pf&&Gu){Pf=!0;do for(var a=!1,l=ju;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Xe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ty(l,d))}else d=xt,d=pn(l,l===Xt?d:0),(d&3)===0||Ji(l,d)||(a=!0,Ty(l,d));l=l.next}while(a);Pf=!1}}function aA(){Gu=Uf=!1;var e=0;Rs!==0&&(gA()&&(e=Rs),Rs=0);for(var i=nn(),a=null,l=ju;l!==null;){var h=l.next,d=vy(l,i);d===0?(l.next=null,a===null?ju=h:a.next=h,h===null&&(wa=a)):(a=l,(e!==0||(d&3)!==0)&&(Gu=!0)),l=h}$o(e)}function vy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Xe(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Gs(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=Xt,a=xt,a=pn(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Wt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&js(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ji(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&js(l),Fl(a)){case 2:case 8:a=we;break;case 32:a=pi;break;case 268435456:a=ro;break;default:a=pi}return l=Ey.bind(null,e),a=Yr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&js(l),e.callbackPriority=2,e.callbackNode=null,2}function Ey(e,i){var a=e.callbackNode;if(Ra()&&e.callbackNode!==a)return null;var l=xt;return l=pn(e,e===Xt?l:0),l===0?null:(oy(e,l,i),vy(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Ey.bind(null,e):null)}function Ty(e,i){if(Ra())return null;oy(e,i,!0)}function oA(e){yA(function(){(te&6)!==0?Yr(_e,e):e()})}function xf(){return Rs===0&&(Rs=oo()),Rs}function Ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function Sy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function lA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ay((h[ve]||null).action),v=l.submitter;v&&(i=(i=v[ve]||null)?Ay(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new $s("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var w=v?Sy(h,v):new FormData(h);Gh(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?Sy(h,v):new FormData(h),Gh(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Lf=0;Lf<gg.length;Lf++){var kf=gg[Lf],uA=kf.toLowerCase(),cA=kf[0].toUpperCase()+kf.slice(1);Pn(uA,"on"+cA)}Pn(cg,"onAnimationEnd"),Pn(hg,"onAnimationIteration"),Pn(fg,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(I0,"onTransitionRun"),Pn(C0,"onTransitionStart"),Pn(D0,"onTransitionCancel"),Pn(dg,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function by(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,L=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(X){Ou(X)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,L=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(X){Ou(X)}h.currentTarget=null,d=w}}}}function Vt(e,i){var a=i[Wr];a===void 0&&(a=i[Wr]=new Set);var l=e+"__bubble";a.has(l)||(Ry(i,e,2,!1),a.add(l))}function zf(e,i,a){var l=0;i&&(l|=4),Ry(a,e,l,i)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Bf(e){if(!e[Fu]){e[Fu]=!0,uo.forEach(function(a){a!=="selectionchange"&&(hA.has(a)||zf(a,!1,e),zf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Fu]||(i[Fu]=!0,zf("selectionchange",!1,i))}}function Ry(e,i,a,l){switch(Yy(i)){case 2:var h=LA;break;case 8:h=kA;break;default:h=Jf}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function qf(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Un(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Wl(function(){var L=d,X=Ws(a),J=[];t:{var j=mg.get(e);if(j!==void 0){var K=$s,ct=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":K=ia;break;case"focusin":ct="focus",K=ta;break;case"focusout":ct="blur",K=ta;break;case"beforeblur":case"afterblur":K=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ru;break;case cg:case hg:case fg:K=ea;break;case dg:K=au;break;case"scroll":case"scrollend":K=$l;break;case"wheel":K=ra;break;case"copy":case"cut":case"paste":K=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ao;break;case"toggle":case"beforetoggle":K=lu}var Tt=(i&4)!==0,ae=!Tt&&(e==="scroll"||e==="scrollend"),z=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var P=L,H;P!==null;){var W=P;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=es(P,z),W!=null&&Tt.push(Jo(P,W,H))),ae)break;P=P.return}0<Tt.length&&(j=new K(j,ct,null,a,X),J.push({event:j,listeners:Tt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",j&&a!==vn&&(ct=a.relatedTarget||a.fromElement)&&(Un(ct)||ct[yi]))break t;if((K||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,K?(ct=a.relatedTarget||a.toElement,K=L,ct=ct?Un(ct):null,ct!==null&&(ae=mt(ct),Tt=ct.tag,ct!==ae||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(K=null,ct=L),K!==ct)){if(Tt=Tn,W="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Ao,W="onPointerLeave",z="onPointerEnter",P="pointer"),ae=K==null?j:sr(K),H=ct==null?j:sr(ct),j=new Tt(W,P+"leave",K,a,X),j.target=ae,j.relatedTarget=H,W=null,Un(X)===L&&(Tt=new Tt(z,P+"enter",ct,a,X),Tt.target=H,Tt.relatedTarget=ae,W=Tt),ae=W,K&&ct)e:{for(Tt=K,z=ct,P=0,H=Tt;H;H=Ia(H))P++;for(H=0,W=z;W;W=Ia(W))H++;for(;0<P-H;)Tt=Ia(Tt),P--;for(;0<H-P;)z=Ia(z),H--;for(;P--;){if(Tt===z||z!==null&&Tt===z.alternate)break e;Tt=Ia(Tt),z=Ia(z)}Tt=null}else Tt=null;K!==null&&wy(J,j,K,Tt,!1),ct!==null&&ae!==null&&wy(J,ae,ct,Tt,!0)}}t:{if(j=L?sr(L):window,K=j.nodeName&&j.nodeName.toLowerCase(),K==="select"||K==="input"&&j.type==="file")var lt=Jm;else if(Te(j))if(tg)lt=S0;else{lt=T0;var Dt=E0}else K=j.nodeName,!K||K.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&go(L.elementType)&&(lt=Jm):lt=A0;if(lt&&(lt=lt(e,L))){Ri(J,lt,a,X);break t}Dt&&Dt(e,j,L),e==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&Xs(j,"number",j.value)}switch(Dt=L?sr(L):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(sa=Dt,yh=L,Ro=null);break;case"focusout":Ro=yh=sa=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,lg(J,a,X);break;case"selectionchange":if(w0)break;case"keydown":case"keyup":lg(J,a,X)}var dt;if(Jn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ut?F(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Ut||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ut&&(dt=yo()):(Xn=X,hr="value"in Xn?Xn.value:Xn.textContent,Ut=!0)),Dt=Qu(L,pt),0<Dt.length&&(pt=new Eo(pt,e,null,a,X),J.push({event:pt,listeners:Dt}),dt?pt.data=dt:(dt=et(a),dt!==null&&(pt.data=dt)))),(dt=g?Ee(e,a):Pt(e,a))&&(pt=Qu(L,"onBeforeInput"),0<pt.length&&(Dt=new Eo("onBeforeInput","beforeinput",null,a,X),J.push({event:Dt,listeners:pt}),Dt.data=dt)),lA(J,e,L,a,X)}by(J,i)})}function Jo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Qu(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=es(e,a),h!=null&&l.unshift(Jo(e,h,d)),h=es(e,i),h!=null&&l.push(Jo(e,h,d))),e=e.return}return l}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,L=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||L===null||(w=L,h?(L=es(a,d),L!=null&&v.unshift(Jo(a,L,w))):h||(L=es(a,d),L!=null&&v.push(Jo(a,L,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function Iy(e){return(typeof e=="string"?e:""+e).replace(fA,`
`).replace(dA,"")}function Cy(e,i){return i=Iy(i),Iy(e)===i}function Ku(){}function Kt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,l);break;case"style":Xl(e,l,d);break;case"data":if(i!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Kt(e,i,"name",h.name,h,null),Kt(e,i,"formEncType",h.formEncType,h,null),Kt(e,i,"formMethod",h.formMethod,h,null),Kt(e,i,"formTarget",h.formTarget,h,null)):(Kt(e,i,"encType",h.encType,h,null),Kt(e,i,"method",h.method,h,null),Kt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ku);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),or(e,"popover",l);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ch.get(a)||a,or(e,a,l))}}function Hf(e,i,a,l,h,d){switch(a){case"style":Xl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_n(e,l):(typeof l=="number"||typeof l=="bigint")&&_n(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):or(e,a,l)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,d,v,a,null)}}h&&Kt(e,i,"srcSet",a.srcSet,a,null),l&&Kt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,w=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":w=X;break;case"defaultChecked":L=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Kt(e,i,l,X,a,null)}}Jr(e,d,T,w,L,v,h,!1),Zr(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?zt(e,!!l,i,!1):a!=null&&zt(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,i,v,T,a,null)}cr(e,l,h,d),Zr(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,i,w,l,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Zo.length;l++)Vt(Zo[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(e,i,L,l,a,null)}return;default:if(go(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Hf(e,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(e,i,T,l,a,null))}function mA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,L=null,X=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(K)||Kt(e,i,K,null,l,J)}}for(var j in l){var K=l[j];if(J=a[j],l.hasOwnProperty(j)&&(K!=null||J!=null))switch(j){case"type":d=K;break;case"name":h=K;break;case"checked":L=K;break;case"defaultChecked":X=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==J&&Kt(e,i,j,K,l,J)}}ur(e,v,T,w,L,X,d,h);return;case"select":K=v=T=j=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":K=w;default:l.hasOwnProperty(d)||Kt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Kt(e,i,h,d,l,w)}i=T,a=v,l=K,j!=null?zt(e,!!a,j,!1):!!l!=!!a&&(i!=null?zt(e,!!a,i,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":K=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":j=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(e,i,v,h,l,d)}ts(e,j,K);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Kt(e,i,ct,null,l,j)}for(w in l)if(j=l[w],K=a[w],l.hasOwnProperty(w)&&j!==K&&(j!=null||K!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(e,i,w,j,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Kt(e,i,Tt,null,l,j);for(L in l)if(j=l[L],K=a[L],l.hasOwnProperty(L)&&j!==K&&(j!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Kt(e,i,L,j,l,K)}return;default:if(go(i)){for(var ae in a)j=a[ae],a.hasOwnProperty(ae)&&j!==void 0&&!l.hasOwnProperty(ae)&&Hf(e,i,ae,void 0,l,j);for(X in l)j=l[X],K=a[X],!l.hasOwnProperty(X)||j===K||j===void 0&&K===void 0||Hf(e,i,X,j,l,K);return}}for(var z in a)j=a[z],a.hasOwnProperty(z)&&j!=null&&!l.hasOwnProperty(z)&&Kt(e,i,z,null,l,j);for(J in l)j=l[J],K=a[J],!l.hasOwnProperty(J)||j===K||j==null&&K==null||Kt(e,i,J,j,l,K)}var jf=null,Gf=null;function Yu(e){return e.nodeType===9?e:e.ownerDocument}function Dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ff(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qf=null;function gA(){var e=window.event;return e&&e.type==="popstate"?e===Qf?!1:(Qf=e,!0):(Qf=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(e){return My.resolve(null).then(e).catch(_A)}:Ny;function _A(e){setTimeout(function(){throw e})}function Kf(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),ol(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);ol(i)}function Yf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yf(a),$r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function EA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Vy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Uy(e,i,a){switch(i=Yu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Nn=new Map,Py=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Bi=at.d;at.d={f:TA,r:AA,D:SA,C:bA,L:RA,m:wA,X:CA,S:IA,M:DA};function TA(){var e=Bi.f(),i=qu();return e||i}function AA(e){var i=_i(e);i!==null&&i.tag===5&&i.type==="form"?lp(i):Bi.r(e)}var Ca=typeof document>"u"?null:document;function xy(e,i,a){var l=Ca;if(l&&typeof i=="string"&&i){var h=ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Py.has(h)||(Py.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Le(i,"link",e),Zt(i),l.head.appendChild(i)))}}function SA(e){Bi.D(e),xy("dns-prefetch",e,null)}function bA(e,i){Bi.C(e,i),xy("preconnect",e,i)}function RA(e,i,a){Bi.L(e,i,a);var l=Ca;if(l&&e&&i){var h='link[rel="preload"][as="'+ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ie(a.imageSizes)+'"]')):h+='[href="'+ie(e)+'"]';var d=h;switch(i){case"style":d=Da(e);break;case"script":d=Oa(e)}Nn.has(d)||(e=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(tl(d))||i==="script"&&l.querySelector(el(d))||(i=l.createElement("link"),Le(i,"link",e),Zt(i),l.head.appendChild(i)))}}function wA(e,i){Bi.m(e,i);var a=Ca;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ie(l)+'"][href="'+ie(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oa(e)}if(!Nn.has(d)&&(e=D({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(d)))return}l=a.createElement("link"),Le(l,"link",e),Zt(l),a.head.appendChild(l)}}}function IA(e,i,a){Bi.S(e,i,a);var l=Ca;if(l&&e){var h=ar(l).hoistableStyles,d=Da(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(tl(d)))T.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&Xf(e,a);var w=v=l.createElement("link");Zt(w),Le(w,"link",e),w._p=new Promise(function(L,X){w.onload=L,w.onerror=X}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function CA(e,i){Bi.X(e,i);var a=Ca;if(a&&e){var l=ar(a).hoistableScripts,h=Oa(e),d=l.get(h);d||(d=a.querySelector(el(h)),d||(e=D({src:e,async:!0},i),(i=Nn.get(h))&&Wf(e,i),d=a.createElement("script"),Zt(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function DA(e,i){Bi.M(e,i);var a=Ca;if(a&&e){var l=ar(a).hoistableScripts,h=Oa(e),d=l.get(h);d||(d=a.querySelector(el(h)),d||(e=D({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&Wf(e,i),d=a.createElement("script"),Zt(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ly(e,i,a,l){var h=(h=gn.current)?Xu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=ar(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var d=ar(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(tl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||OA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=ar(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+ie(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function ky(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function OA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Le(i,"link",a),Zt(i),e.head.appendChild(i))}function Oa(e){return'[src="'+ie(e)+'"]'}function el(e){return"script[async]"+e}function zy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(l)return i.instance=l,Zt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Zt(l),Le(l,"style",h),Wu(l,a.precedence,e),i.instance=l;case"stylesheet":h=Da(a.href);var d=e.querySelector(tl(h));if(d)return i.state.loading|=4,i.instance=d,Zt(d),d;l=ky(a),(h=Nn.get(h))&&Xf(l,h),d=(e.ownerDocument||e).createElement("link"),Zt(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Le(d,"link",l),i.state.loading|=4,Wu(d,a.precedence,e),i.instance=d;case"script":return d=Oa(a.src),(h=e.querySelector(el(d)))?(i.instance=h,Zt(h),h):(l=a,(h=Nn.get(d))&&(l=D({},a),Wf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Zt(h),Le(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wu(l,a.precedence,e));return i.instance}function Wu(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Xf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Wf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var $u=null;function By(e,i,a){if($u===null){var l=new Map,h=$u=new Map;h.set(a,l)}else h=$u,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[rr]||d[Ie]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function qy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function NA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function MA(){}function VA(e,i,a){if(nl===null)throw Error(s(475));var l=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),d=e.querySelector(tl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Zu.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Zt(d);return}d=e.ownerDocument||e,a=ky(a),(h=Nn.get(h))&&Xf(a,h),d=d.createElement("link"),Zt(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Le(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Zu.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function UA(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function $f(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,i.forEach(PA,e),Ju=null,Zu.call(e))}function PA(e,i){if(!(i.state.loading&4)){var a=Ju.get(e);if(a)var l=a.get(null);else{a=new Map,Ju.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:O,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function xA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function jy(e,i,a,l,h,d,v,T,w,L,X,J){return e=new xA(e,i,a,v,T,w,L,J),i=1,d===!0&&(i|=24),d=Dn(3,null,null,i),e.current=d,d.stateNode=e,i=Ch(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},uf(d),e}function Gy(e){return e?(e=la,e):la}function Fy(e,i,a,l,h,d){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(e,l,i),a!==null&&(Je(a,e,i),Bo(a,e,i))}function Qy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Zf(e,i){Qy(e,i),(e=e.alternate)&&Qy(e,i)}function Ky(e){if(e.tag===13){var i=fr(e,67108864);i!==null&&Je(i,e,67108864),Zf(e,67108864)}}var tc=!0;function LA(e,i,a,l){var h=b.T;b.T=null;var d=at.p;try{at.p=2,Jf(e,i,a,l)}finally{at.p=d,b.T=h}}function kA(e,i,a,l){var h=b.T;b.T=null;var d=at.p;try{at.p=8,Jf(e,i,a,l)}finally{at.p=d,b.T=h}}function Jf(e,i,a,l){if(tc){var h=td(l);if(h===null)qf(e,i,l,ec,a),Xy(e,l);else if(BA(h,e,i,a,l))l.stopPropagation();else if(Xy(e,l),i&4&&-1<zA.indexOf(e)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Xe(v);T.entanglements[1]|=w,v&=~w}si(d),(te&6)===0&&(ku=nn()+500,$o(0))}}break;case 13:T=fr(d,2),T!==null&&Je(T,d,2),qu(),Zf(d,2)}if(d=td(l),d===null&&qf(e,i,l,ec,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qf(e,i,l,null,a)}}function td(e){return e=Ws(e),ed(e)}var ec=null;function ed(e){if(ec=null,e=Un(e),e!==null){var i=mt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ht(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ec=e,null}function Yy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bl()){case _e:return 2;case we:return 8;case pi:case ql:return 32;case ro:return 268435456;default:return 32}default:return 32}}var nd=!1,Ir=null,Cr=null,Dr=null,rl=new Map,sl=new Map,Or=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xy(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&Ky(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function BA(e,i,a,l,h){switch(i){case"focusin":return Ir=al(Ir,e,i,a,l,h),!0;case"dragenter":return Cr=al(Cr,e,i,a,l,h),!0;case"mouseover":return Dr=al(Dr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return rl.set(d,al(rl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,sl.set(d,al(sl.get(d)||null,e,i,a,l,h)),!0}return!1}function Wy(e){var i=Un(e.target);if(i!==null){var a=mt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ht(a),i!==null){e.blockedOn=i,ir(e.priority,function(){if(a.tag===13){var l=dn(),h=fr(a,l);h!==null&&Je(h,a,l),Zf(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=td(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);vn=l,a.target.dispatchEvent(l),vn=null}else return i=_i(a),i!==null&&Ky(i),e.blockedOn=a,!1;i.shift()}return!0}function $y(e,i,a){nc(e)&&a.delete(i)}function qA(){nd=!1,Ir!==null&&nc(Ir)&&(Ir=null),Cr!==null&&nc(Cr)&&(Cr=null),Dr!==null&&nc(Dr)&&(Dr=null),rl.forEach($y),sl.forEach($y)}function ic(e,i){e.blockedOn===i&&(e.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qA)))}var rc=null;function Zy(e){rc!==e&&(rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(ed(l||a)===null)continue;break}var d=_i(a);d!==null&&(e.splice(i,3),i-=3,Gh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ol(e){function i(w){return ic(w,e)}Ir!==null&&ic(Ir,e),Cr!==null&&ic(Cr,e),Dr!==null&&ic(Dr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ve]||null;if(typeof d=="function")v||Zy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)T=v.formAction;else if(ed(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Zy(a)}}}function id(e){this._internalRoot=e}sc.prototype.render=id.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=dn();Fy(a,l,e,i,null,null)},sc.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ra(),Fy(e.current,2,null,e,null,null),qu(),i[yi]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ql();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&Wy(e)}};var Jy=t.version;if(Jy!=="19.0.0")throw Error(s(527,Jy,"19.0.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tt(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var HA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{$i=ac.inject(HA),qe=ac}catch{}}return ul.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=pp,d=yp,v=_p,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=jy(e,1,!1,null,null,a,l,h,d,v,T,null),e[yi]=i.current,Bf(e.nodeType===8?e.parentNode:e),new id(i)},ul.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=pp,v=yp,T=_p,w=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=jy(e,1,!0,i,a??null,l,h,d,v,T,w,L),i.context=Gy(null),a=i.current,l=dn(),h=vr(l),h.callback=null,Er(a,h,l),i.current.lanes=l,oe(i,l),si(i),e[yi]=i.current,Bf(e),new sc(i)},ul.version="19.0.0",ul}var u_;function JA(){if(u_)return ad.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=ZA(),ad.exports}var tS=JA(),cd={exports:{}},hd={exports:{}},dc={exports:{}},eS=dc.exports,c_;function Qv(){return c_||(c_=1,function(r){(function(t,n){r.exports?r.exports=n():t.EvEmitter=n()})(typeof window<"u"?window:eS,function(){function t(){}var n=t.prototype;return n.on=function(s,o){if(!(!s||!o)){var u=this._events=this._events||{},f=u[s]=u[s]||[];return f.indexOf(o)==-1&&f.push(o),this}},n.once=function(s,o){if(!(!s||!o)){this.on(s,o);var u=this._onceEvents=this._onceEvents||{},f=u[s]=u[s]||{};return f[o]=!0,this}},n.off=function(s,o){var u=this._events&&this._events[s];if(!(!u||!u.length)){var f=u.indexOf(o);return f!=-1&&u.splice(f,1),this}},n.emitEvent=function(s,o){var u=this._events&&this._events[s];if(!(!u||!u.length)){u=u.slice(0),o=o||[];for(var f=this._onceEvents&&this._onceEvents[s],m=0;m<u.length;m++){var p=u[m],y=f&&f[p];y&&(this.off(s,p),delete f[p]),p.apply(this,o)}return this}},n.allOff=function(){delete this._events,delete this._onceEvents},t})}(dc)),dc.exports}var fd={exports:{}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var h_;function tm(){return h_||(h_=1,function(r){(function(t,n){r.exports?r.exports=n():t.getSize=n()})(window,function(){function n(O){var Q=parseFloat(O),Y=O.indexOf("%")==-1&&!isNaN(Q);return Y&&Q}function s(){}var o=typeof console>"u"?s:function(O){console.error(O)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],f=u.length;function m(){for(var O={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},Q=0;Q<f;Q++){var Y=u[Q];O[Y]=0}return O}function p(O){var Q=getComputedStyle(O);return Q||o("Style returned "+Q+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),Q}var y=!1,E;function S(){if(!y){y=!0;var O=document.createElement("div");O.style.width="200px",O.style.padding="1px 2px 3px 4px",O.style.borderStyle="solid",O.style.borderWidth="1px 2px 3px 4px",O.style.boxSizing="border-box";var Q=document.body||document.documentElement;Q.appendChild(O);var Y=p(O);E=Math.round(n(Y.width))==200,U.isBoxSizeOuter=E,Q.removeChild(O)}}function U(O){if(S(),typeof O=="string"&&(O=document.querySelector(O)),!(!O||typeof O!="object"||!O.nodeType)){var Q=p(O);if(Q.display=="none")return m();var Y={};Y.width=O.offsetWidth,Y.height=O.offsetHeight;for(var k=Y.isBorderBox=Q.boxSizing=="border-box",R=0;R<f;R++){var N=u[R],G=Q[N],it=parseFloat(G);Y[N]=isNaN(it)?0:it}var nt=Y.paddingLeft+Y.paddingRight,ft=Y.paddingTop+Y.paddingBottom,M=Y.marginLeft+Y.marginRight,I=Y.marginTop+Y.marginBottom,b=Y.borderLeftWidth+Y.borderRightWidth,D=Y.borderTopWidth+Y.borderBottomWidth,x=k&&E,B=n(Q.width);B!==!1&&(Y.width=B+(x?0:nt+b));var C=n(Q.height);return C!==!1&&(Y.height=C+(x?0:ft+D)),Y.innerWidth=Y.width-(nt+b),Y.innerHeight=Y.height-(ft+D),Y.outerWidth=Y.width+M,Y.outerHeight=Y.height+I,Y}}return U})}(fd)),fd.exports}var dd={exports:{}},md={exports:{}},f_;function nS(){return f_||(f_=1,function(r){(function(t,n){r.exports?r.exports=n():t.matchesSelector=n()})(window,function(){var n=function(){var s=window.Element.prototype;if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var o=["webkit","moz","ms","o"],u=0;u<o.length;u++){var f=o[u],m=f+"MatchesSelector";if(s[m])return m}}();return function(o,u){return o[n](u)}})}(md)),md.exports}var d_;function iS(){return d_||(d_=1,function(r){(function(t,n){r.exports?r.exports=n(t,nS()):t.fizzyUIUtils=n(t,t.matchesSelector)})(window,function(n,s){var o={};o.extend=function(m,p){for(var y in p)m[y]=p[y];return m},o.modulo=function(m,p){return(m%p+p)%p};var u=Array.prototype.slice;o.makeArray=function(m){if(Array.isArray(m))return m;if(m==null)return[];var p=typeof m=="object"&&typeof m.length=="number";return p?u.call(m):[m]},o.removeFrom=function(m,p){var y=m.indexOf(p);y!=-1&&m.splice(y,1)},o.getParent=function(m,p){for(;m.parentNode&&m!=document.body;)if(m=m.parentNode,s(m,p))return m},o.getQueryElement=function(m){return typeof m=="string"?document.querySelector(m):m},o.handleEvent=function(m){var p="on"+m.type;this[p]&&this[p](m)},o.filterFindElements=function(m,p){m=o.makeArray(m);var y=[];return m.forEach(function(E){if(E instanceof HTMLElement){if(!p){y.push(E);return}s(E,p)&&y.push(E);for(var S=E.querySelectorAll(p),U=0;U<S.length;U++)y.push(S[U])}}),y},o.debounceMethod=function(m,p,y){y=y||100;var E=m.prototype[p],S=p+"Timeout";m.prototype[p]=function(){var U=this[S];clearTimeout(U);var O=arguments,Q=this;this[S]=setTimeout(function(){E.apply(Q,O),delete Q[S]},y)}},o.docReady=function(m){var p=document.readyState;p=="complete"||p=="interactive"?setTimeout(m):document.addEventListener("DOMContentLoaded",m)},o.toDashed=function(m){return m.replace(/(.)([A-Z])/g,function(p,y,E){return y+"-"+E}).toLowerCase()};var f=n.console;return o.htmlInit=function(m,p){o.docReady(function(){var y=o.toDashed(p),E="data-"+y,S=document.querySelectorAll("["+E+"]"),U=document.querySelectorAll(".js-"+y),O=o.makeArray(S).concat(o.makeArray(U)),Q=E+"-options",Y=n.jQuery;O.forEach(function(k){var R=k.getAttribute(E)||k.getAttribute(Q),N;try{N=R&&JSON.parse(R)}catch(it){f&&f.error("Error parsing "+E+" on "+k.className+": "+it);return}var G=new m(k,N);Y&&Y.data(k,p,G)})})},o})}(dd)),dd.exports}var gd={exports:{}},m_;function rS(){return m_||(m_=1,function(r){(function(t,n){r.exports?r.exports=n(Qv(),tm()):(t.Outlayer={},t.Outlayer.Item=n(t.EvEmitter,t.getSize))})(window,function(n,s){function o(k){for(var R in k)return!1;return R=null,!0}var u=document.documentElement.style,f=typeof u.transition=="string"?"transition":"WebkitTransition",m=typeof u.transform=="string"?"transform":"WebkitTransform",p={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[f],y={transform:m,transition:f,transitionDuration:f+"Duration",transitionProperty:f+"Property",transitionDelay:f+"Delay"};function E(k,R){k&&(this.element=k,this.layout=R,this.position={x:0,y:0},this._create())}var S=E.prototype=Object.create(n.prototype);S.constructor=E,S._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},S.handleEvent=function(k){var R="on"+k.type;this[R]&&this[R](k)},S.getSize=function(){this.size=s(this.element)},S.css=function(k){var R=this.element.style;for(var N in k){var G=y[N]||N;R[G]=k[N]}},S.getPosition=function(){var k=getComputedStyle(this.element),R=this.layout._getOption("originLeft"),N=this.layout._getOption("originTop"),G=k[R?"left":"right"],it=k[N?"top":"bottom"],nt=parseFloat(G),ft=parseFloat(it),M=this.layout.size;G.indexOf("%")!=-1&&(nt=nt/100*M.width),it.indexOf("%")!=-1&&(ft=ft/100*M.height),nt=isNaN(nt)?0:nt,ft=isNaN(ft)?0:ft,nt-=R?M.paddingLeft:M.paddingRight,ft-=N?M.paddingTop:M.paddingBottom,this.position.x=nt,this.position.y=ft},S.layoutPosition=function(){var k=this.layout.size,R={},N=this.layout._getOption("originLeft"),G=this.layout._getOption("originTop"),it=N?"paddingLeft":"paddingRight",nt=N?"left":"right",ft=N?"right":"left",M=this.position.x+k[it];R[nt]=this.getXValue(M),R[ft]="";var I=G?"paddingTop":"paddingBottom",b=G?"top":"bottom",D=G?"bottom":"top",x=this.position.y+k[I];R[b]=this.getYValue(x),R[D]="",this.css(R),this.emitEvent("layout",[this])},S.getXValue=function(k){var R=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!R?k/this.layout.size.width*100+"%":k+"px"},S.getYValue=function(k){var R=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&R?k/this.layout.size.height*100+"%":k+"px"},S._transitionTo=function(k,R){this.getPosition();var N=this.position.x,G=this.position.y,it=k==this.position.x&&R==this.position.y;if(this.setPosition(k,R),it&&!this.isTransitioning){this.layoutPosition();return}var nt=k-N,ft=R-G,M={};M.transform=this.getTranslate(nt,ft),this.transition({to:M,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},S.getTranslate=function(k,R){var N=this.layout._getOption("originLeft"),G=this.layout._getOption("originTop");return k=N?k:-k,R=G?R:-R,"translate3d("+k+"px, "+R+"px, 0)"},S.goTo=function(k,R){this.setPosition(k,R),this.layoutPosition()},S.moveTo=S._transitionTo,S.setPosition=function(k,R){this.position.x=parseFloat(k),this.position.y=parseFloat(R)},S._nonTransition=function(k){this.css(k.to),k.isCleaning&&this._removeStyles(k.to);for(var R in k.onTransitionEnd)k.onTransitionEnd[R].call(this)},S.transition=function(k){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(k);return}var R=this._transn;for(var N in k.onTransitionEnd)R.onEnd[N]=k.onTransitionEnd[N];for(N in k.to)R.ingProperties[N]=!0,k.isCleaning&&(R.clean[N]=!0);k.from&&(this.css(k.from),this.element.offsetHeight),this.enableTransition(k.to),this.css(k.to),this.isTransitioning=!0};function U(k){return k.replace(/([A-Z])/g,function(R){return"-"+R.toLowerCase()})}var O="opacity,"+U(m);S.enableTransition=function(){if(!this.isTransitioning){var k=this.layout.options.transitionDuration;k=typeof k=="number"?k+"ms":k,this.css({transitionProperty:O,transitionDuration:k,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(p,this,!1)}},S.onwebkitTransitionEnd=function(k){this.ontransitionend(k)},S.onotransitionend=function(k){this.ontransitionend(k)};var Q={"-webkit-transform":"transform"};S.ontransitionend=function(k){if(k.target===this.element){var R=this._transn,N=Q[k.propertyName]||k.propertyName;if(delete R.ingProperties[N],o(R.ingProperties)&&this.disableTransition(),N in R.clean&&(this.element.style[k.propertyName]="",delete R.clean[N]),N in R.onEnd){var G=R.onEnd[N];G.call(this),delete R.onEnd[N]}this.emitEvent("transitionEnd",[this])}},S.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},S._removeStyles=function(k){var R={};for(var N in k)R[N]="";this.css(R)};var Y={transitionProperty:"",transitionDuration:"",transitionDelay:""};return S.removeTransitionStyles=function(){this.css(Y)},S.stagger=function(k){k=isNaN(k)?0:k,this.staggerDelay=k+"ms"},S.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},S.remove=function(){if(!f||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},S.reveal=function(){delete this.isHidden,this.css({display:""});var k=this.layout.options,R={},N=this.getHideRevealTransitionEndProperty("visibleStyle");R[N]=this.onRevealTransitionEnd,this.transition({from:k.hiddenStyle,to:k.visibleStyle,isCleaning:!0,onTransitionEnd:R})},S.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},S.getHideRevealTransitionEndProperty=function(k){var R=this.layout.options[k];if(R.opacity)return"opacity";for(var N in R)return N},S.hide=function(){this.isHidden=!0,this.css({display:""});var k=this.layout.options,R={},N=this.getHideRevealTransitionEndProperty("hiddenStyle");R[N]=this.onHideTransitionEnd,this.transition({from:k.visibleStyle,to:k.hiddenStyle,isCleaning:!0,onTransitionEnd:R})},S.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},S.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},E})}(gd)),gd.exports}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var g_;function sS(){return g_||(g_=1,function(r){(function(t,n){r.exports?r.exports=n(t,Qv(),tm(),iS(),rS()):t.Outlayer=n(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)})(window,function(n,s,o,u,f){var m=n.console,p=n.jQuery,y=function(){},E=0,S={};function U(R,N){var G=u.getQueryElement(R);if(!G){m&&m.error("Bad element for "+this.constructor.namespace+": "+(G||R));return}this.element=G,p&&(this.$element=p(this.element)),this.options=u.extend({},this.constructor.defaults),this.option(N);var it=++E;this.element.outlayerGUID=it,S[it]=this,this._create();var nt=this._getOption("initLayout");nt&&this.layout()}U.namespace="outlayer",U.Item=f,U.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var O=U.prototype;u.extend(O,s.prototype),O.option=function(R){u.extend(this.options,R)},O._getOption=function(R){var N=this.constructor.compatOptions[R];return N&&this.options[N]!==void 0?this.options[N]:this.options[R]},U.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},O._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),u.extend(this.element.style,this.options.containerStyle);var R=this._getOption("resize");R&&this.bindResize()},O.reloadItems=function(){this.items=this._itemize(this.element.children)},O._itemize=function(R){for(var N=this._filterFindItemElements(R),G=this.constructor.Item,it=[],nt=0;nt<N.length;nt++){var ft=N[nt],M=new G(ft,this);it.push(M)}return it},O._filterFindItemElements=function(R){return u.filterFindElements(R,this.options.itemSelector)},O.getItemElements=function(){return this.items.map(function(R){return R.element})},O.layout=function(){this._resetLayout(),this._manageStamps();var R=this._getOption("layoutInstant"),N=R!==void 0?R:!this._isLayoutInited;this.layoutItems(this.items,N),this._isLayoutInited=!0},O._init=O.layout,O._resetLayout=function(){this.getSize()},O.getSize=function(){this.size=o(this.element)},O._getMeasurement=function(R,N){var G=this.options[R],it;G?(typeof G=="string"?it=this.element.querySelector(G):G instanceof HTMLElement&&(it=G),this[R]=it?o(it)[N]:G):this[R]=0},O.layoutItems=function(R,N){R=this._getItemsForLayout(R),this._layoutItems(R,N),this._postLayout()},O._getItemsForLayout=function(R){return R.filter(function(N){return!N.isIgnored})},O._layoutItems=function(R,N){if(this._emitCompleteOnItems("layout",R),!(!R||!R.length)){var G=[];R.forEach(function(it){var nt=this._getItemLayoutPosition(it);nt.item=it,nt.isInstant=N||it.isLayoutInstant,G.push(nt)},this),this._processLayoutQueue(G)}},O._getItemLayoutPosition=function(){return{x:0,y:0}},O._processLayoutQueue=function(R){this.updateStagger(),R.forEach(function(N,G){this._positionItem(N.item,N.x,N.y,N.isInstant,G)},this)},O.updateStagger=function(){var R=this.options.stagger;if(R==null){this.stagger=0;return}return this.stagger=k(R),this.stagger},O._positionItem=function(R,N,G,it,nt){it?R.goTo(N,G):(R.stagger(nt*this.stagger),R.moveTo(N,G))},O._postLayout=function(){this.resizeContainer()},O.resizeContainer=function(){var R=this._getOption("resizeContainer");if(R){var N=this._getContainerSize();N&&(this._setContainerMeasure(N.width,!0),this._setContainerMeasure(N.height,!1))}},O._getContainerSize=y,O._setContainerMeasure=function(R,N){if(R!==void 0){var G=this.size;G.isBorderBox&&(R+=N?G.paddingLeft+G.paddingRight+G.borderLeftWidth+G.borderRightWidth:G.paddingBottom+G.paddingTop+G.borderTopWidth+G.borderBottomWidth),R=Math.max(R,0),this.element.style[N?"width":"height"]=R+"px"}},O._emitCompleteOnItems=function(R,N){var G=this;function it(){G.dispatchEvent(R+"Complete",null,[N])}var nt=N.length;if(!N||!nt){it();return}var ft=0;function M(){ft++,ft==nt&&it()}N.forEach(function(I){I.once(R,M)})},O.dispatchEvent=function(R,N,G){var it=N?[N].concat(G):G;if(this.emitEvent(R,it),p)if(this.$element=this.$element||p(this.element),N){var nt=p.Event(N);nt.type=R,this.$element.trigger(nt,G)}else this.$element.trigger(R,G)},O.ignore=function(R){var N=this.getItem(R);N&&(N.isIgnored=!0)},O.unignore=function(R){var N=this.getItem(R);N&&delete N.isIgnored},O.stamp=function(R){R=this._find(R),R&&(this.stamps=this.stamps.concat(R),R.forEach(this.ignore,this))},O.unstamp=function(R){R=this._find(R),R&&R.forEach(function(N){u.removeFrom(this.stamps,N),this.unignore(N)},this)},O._find=function(R){if(R)return typeof R=="string"&&(R=this.element.querySelectorAll(R)),R=u.makeArray(R),R},O._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},O._getBoundingRect=function(){var R=this.element.getBoundingClientRect(),N=this.size;this._boundingRect={left:R.left+N.paddingLeft+N.borderLeftWidth,top:R.top+N.paddingTop+N.borderTopWidth,right:R.right-(N.paddingRight+N.borderRightWidth),bottom:R.bottom-(N.paddingBottom+N.borderBottomWidth)}},O._manageStamp=y,O._getElementOffset=function(R){var N=R.getBoundingClientRect(),G=this._boundingRect,it=o(R),nt={left:N.left-G.left-it.marginLeft,top:N.top-G.top-it.marginTop,right:G.right-N.right-it.marginRight,bottom:G.bottom-N.bottom-it.marginBottom};return nt},O.handleEvent=u.handleEvent,O.bindResize=function(){n.addEventListener("resize",this),this.isResizeBound=!0},O.unbindResize=function(){n.removeEventListener("resize",this),this.isResizeBound=!1},O.onresize=function(){this.resize()},u.debounceMethod(U,"onresize",100),O.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},O.needsResizeLayout=function(){var R=o(this.element),N=this.size&&R;return N&&R.innerWidth!==this.size.innerWidth},O.addItems=function(R){var N=this._itemize(R);return N.length&&(this.items=this.items.concat(N)),N},O.appended=function(R){var N=this.addItems(R);N.length&&(this.layoutItems(N,!0),this.reveal(N))},O.prepended=function(R){var N=this._itemize(R);if(N.length){var G=this.items.slice(0);this.items=N.concat(G),this._resetLayout(),this._manageStamps(),this.layoutItems(N,!0),this.reveal(N),this.layoutItems(G)}},O.reveal=function(R){if(this._emitCompleteOnItems("reveal",R),!(!R||!R.length)){var N=this.updateStagger();R.forEach(function(G,it){G.stagger(it*N),G.reveal()})}},O.hide=function(R){if(this._emitCompleteOnItems("hide",R),!(!R||!R.length)){var N=this.updateStagger();R.forEach(function(G,it){G.stagger(it*N),G.hide()})}},O.revealItemElements=function(R){var N=this.getItems(R);this.reveal(N)},O.hideItemElements=function(R){var N=this.getItems(R);this.hide(N)},O.getItem=function(R){for(var N=0;N<this.items.length;N++){var G=this.items[N];if(G.element==R)return G}},O.getItems=function(R){R=u.makeArray(R);var N=[];return R.forEach(function(G){var it=this.getItem(G);it&&N.push(it)},this),N},O.remove=function(R){var N=this.getItems(R);this._emitCompleteOnItems("remove",N),!(!N||!N.length)&&N.forEach(function(G){G.remove(),u.removeFrom(this.items,G)},this)},O.destroy=function(){var R=this.element.style;R.height="",R.position="",R.width="",this.items.forEach(function(G){G.destroy()}),this.unbindResize();var N=this.element.outlayerGUID;delete S[N],delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},U.data=function(R){R=u.getQueryElement(R);var N=R&&R.outlayerGUID;return N&&S[N]},U.create=function(R,N){var G=Q(U);return G.defaults=u.extend({},U.defaults),u.extend(G.defaults,N),G.compatOptions=u.extend({},U.compatOptions),G.namespace=R,G.data=U.data,G.Item=Q(f),u.htmlInit(G,R),p&&p.bridget&&p.bridget(R,G),G};function Q(R){function N(){R.apply(this,arguments)}return N.prototype=Object.create(R.prototype),N.prototype.constructor=N,N}var Y={ms:1,s:1e3};function k(R){if(typeof R=="number")return R;var N=R.match(/(^\d*\.?\d*)(\w*)/),G=N&&N[1],it=N&&N[2];if(!G.length)return 0;G=parseFloat(G);var nt=Y[it]||1;return G*nt}return U.Item=f,U})}(hd)),hd.exports}/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */var p_;function aS(){return p_||(p_=1,function(r){(function(t,n){r.exports?r.exports=n(sS(),tm()):t.Masonry=n(t.Outlayer,t.getSize)})(window,function(n,s){var o=n.create("masonry");o.compatOptions.fitWidth="isFitWidth";var u=o.prototype;return u._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var f=0;f<this.cols;f++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},u.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var f=this.items[0],m=f&&f.element;this.columnWidth=m&&s(m).outerWidth||this.containerWidth}var p=this.columnWidth+=this.gutter,y=this.containerWidth+this.gutter,E=y/p,S=p-y%p,U=S&&S<1?"round":"floor";E=Math[U](E),this.cols=Math.max(E,1)},u.getContainerWidth=function(){var f=this._getOption("fitWidth"),m=f?this.element.parentNode:this.element,p=s(m);this.containerWidth=p&&p.innerWidth},u._getItemLayoutPosition=function(f){f.getSize();var m=f.size.outerWidth%this.columnWidth,p=m&&m<1?"round":"ceil",y=Math[p](f.size.outerWidth/this.columnWidth);y=Math.min(y,this.cols);for(var E=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",S=this[E](y,f),U={x:this.columnWidth*S.col,y:S.y},O=S.y+f.size.outerHeight,Q=y+S.col,Y=S.col;Y<Q;Y++)this.colYs[Y]=O;return U},u._getTopColPosition=function(f){var m=this._getTopColGroup(f),p=Math.min.apply(Math,m);return{col:m.indexOf(p),y:p}},u._getTopColGroup=function(f){if(f<2)return this.colYs;for(var m=[],p=this.cols+1-f,y=0;y<p;y++)m[y]=this._getColGroupY(y,f);return m},u._getColGroupY=function(f,m){if(m<2)return this.colYs[f];var p=this.colYs.slice(f,f+m);return Math.max.apply(Math,p)},u._getHorizontalColPosition=function(f,m){var p=this.horizontalColIndex%this.cols,y=f>1&&p+f>this.cols;p=y?0:p;var E=m.size.outerWidth&&m.size.outerHeight;return this.horizontalColIndex=E?p+f:this.horizontalColIndex,{col:p,y:this._getColGroupY(p,f)}},u._manageStamp=function(f){var m=s(f),p=this._getElementOffset(f),y=this._getOption("originLeft"),E=y?p.left:p.right,S=E+m.outerWidth,U=Math.floor(E/this.columnWidth);U=Math.max(0,U);var O=Math.floor(S/this.columnWidth);O-=S%this.columnWidth?0:1,O=Math.min(this.cols-1,O);for(var Q=this._getOption("originTop"),Y=(Q?p.top:p.bottom)+m.outerHeight,k=U;k<=O;k++)this.colYs[k]=Math.max(Y,this.colYs[k])},u._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var f={height:this.maxY};return this._getOption("fitWidth")&&(f.width=this._getContainerFitWidth()),f},u._getContainerFitWidth=function(){for(var f=0,m=this.cols;--m&&this.colYs[m]===0;)f++;return(this.cols-f)*this.columnWidth-this.gutter},u.needsResizeLayout=function(){var f=this.containerWidth;return this.getContainerWidth(),f!=this.containerWidth},o})}(cd)),cd.exports}var oS=aS();const lS=Fv(oS),uS=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let U=(m&15)<<2|y>>6,O=y&63;p||(O=64,f||(U=64)),s.push(n[E],n[S],n[U],n[O])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Kv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new hS;const U=u<<2|m>>4;if(s.push(U),y!==64){const O=m<<4&240|y>>2;if(s.push(O),S!==64){const Q=y<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fS=function(r){const t=Kv(r);return Yv.encodeByteArray(t,!0)},bc=function(r){return fS(r).replace(/\./g,"")},Xv=function(r){try{return Yv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=()=>dS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof y_>"u")return;const r=y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Xv(r[1]);return t&&JSON.parse(t)},Hc=()=>{try{return uS()||mS()||gS()||pS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Wv=r=>{var t,n;return(n=(t=Hc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},yS=r=>{const t=Wv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},$v=()=>{var r;return(r=Hc())===null||r===void 0?void 0:r.config},Zv=r=>{var t;return(t=Hc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[bc(JSON.stringify(n)),bc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function TS(){var r;const t=(r=Hc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wS(){return!TS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function CS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=DS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?OS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,m,s)}}function OS(r,t){return r.replace(NS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const NS=/\{\$([^}]+)}/g;function MS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ns(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(__(u)&&__(f)){if(!Ns(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function __(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function VS(r,t){const n=new US(r,t);return n.subscribe.bind(n)}class US{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=pd),o.error===void 0&&(o.error=pd),o.complete===void 0&&(o.complete=pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class Ms{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new _S;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kS(t))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ws){return this.instances.has(t)}getOptions(t=ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ws){return this.component?this.component.multipleInstances?t:ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LS(r){return r===ws?void 0:r}function kS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new xS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const BS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},qS=Nt.INFO,HS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},jS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=HS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class em{constructor(t){this.name=t,this._logLevel=qS,this._logHandler=jS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const GS=(r,t)=>t.some(n=>r instanceof n);let v_,E_;function FS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QS(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,Id=new WeakMap,tE=new WeakMap,yd=new WeakMap,nm=new WeakMap;function KS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&Jv.set(n,r)}).catch(()=>{}),nm.set(t,r),t}function YS(r){if(Id.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Id.set(r,t)}let Cd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Id.get(r);if(t==="objectStoreNames")return r.objectStoreNames||tE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function XS(r){Cd=r(Cd)}function WS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(_d(this),t,...n);return tE.set(s,t.sort?t.sort():[t]),Lr(s)}:QS().includes(r)?function(...t){return r.apply(_d(this),t),Lr(Jv.get(this))}:function(...t){return Lr(r.apply(_d(this),t))}}function $S(r){return typeof r=="function"?WS(r):(r instanceof IDBTransaction&&YS(r),GS(r,FS())?new Proxy(r,Cd):r)}function Lr(r){if(r instanceof IDBRequest)return KS(r);if(yd.has(r))return yd.get(r);const t=$S(r);return t!==r&&(yd.set(r,t),nm.set(t,r)),t}const _d=r=>nm.get(r);function ZS(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Lr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const JS=["get","getKey","getAll","getAllKeys","count"],tb=["put","add","delete","clear"],vd=new Map;function T_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(vd.get(t))return vd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return vd.set(t,u),u}XS(r=>({...r,get:(t,n,s)=>T_(t,n)||r.get(t,n,s),has:(t,n)=>!!T_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Dd="@firebase/app",A_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new em("@firebase/app"),ib="@firebase/app-compat",rb="@firebase/analytics-compat",sb="@firebase/analytics",ab="@firebase/app-check-compat",ob="@firebase/app-check",lb="@firebase/auth",ub="@firebase/auth-compat",cb="@firebase/database",hb="@firebase/data-connect",fb="@firebase/database-compat",db="@firebase/functions",mb="@firebase/functions-compat",gb="@firebase/installations",pb="@firebase/installations-compat",yb="@firebase/messaging",_b="@firebase/messaging-compat",vb="@firebase/performance",Eb="@firebase/performance-compat",Tb="@firebase/remote-config",Ab="@firebase/remote-config-compat",Sb="@firebase/storage",bb="@firebase/storage-compat",Rb="@firebase/firestore",wb="@firebase/vertexai",Ib="@firebase/firestore-compat",Cb="firebase",Db="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",Ob={[Dd]:"fire-core",[ib]:"fire-core-compat",[sb]:"fire-analytics",[rb]:"fire-analytics-compat",[ob]:"fire-app-check",[ab]:"fire-app-check-compat",[lb]:"fire-auth",[ub]:"fire-auth-compat",[cb]:"fire-rtdb",[hb]:"fire-data-connect",[fb]:"fire-rtdb-compat",[db]:"fire-fn",[mb]:"fire-fn-compat",[gb]:"fire-iid",[pb]:"fire-iid-compat",[yb]:"fire-fcm",[_b]:"fire-fcm-compat",[vb]:"fire-perf",[Eb]:"fire-perf-compat",[Tb]:"fire-rc",[Ab]:"fire-rc-compat",[Sb]:"fire-gcs",[bb]:"fire-gcs-compat",[Rb]:"fire-fst",[Ib]:"fire-fst-compat",[wb]:"fire-vertex","fire-js":"fire-js",[Cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,Nb=new Map,Nd=new Map;function S_(r,t){try{r.container.addComponent(t)}catch(n){ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ba(r){const t=r.name;if(Nd.has(t))return ji.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,r);for(const n of Rc.values())S_(n,r);for(const n of Nb.values())S_(n,r);return!0}function im(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Nl("app","Firebase",Mb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=Db;function eE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Od,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw kr.create("bad-app-name",{appName:String(o)});if(n||(n=$v()),!n)throw kr.create("no-options");const u=Rc.get(o);if(u){if(Ns(n,u.options)&&Ns(s,u.config))return u;throw kr.create("duplicate-app",{appName:o})}const f=new zS(o);for(const p of Nd.values())f.addComponent(p);const m=new Vb(n,s,f);return Rc.set(o,m),m}function nE(r=Od){const t=Rc.get(r);if(!t&&r===Od&&$v())return eE();if(!t)throw kr.create("no-app",{appName:r});return t}function zr(r,t,n){var s;let o=(s=Ob[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ji.warn(m.join(" "));return}Ba(new Ms(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebase-heartbeat-database",Pb=1,El="firebase-heartbeat-store";let Ed=null;function iE(){return Ed||(Ed=ZS(Ub,Pb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(r=>{throw kr.create("idb-open",{originalErrorMessage:r.message})})),Ed}async function xb(r){try{const n=(await iE()).transaction(El),s=await n.objectStore(El).get(rE(r));return await n.done,s}catch(t){if(t instanceof Yi)ji.warn(t.message);else{const n=kr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ji.warn(n.message)}}}async function b_(r,t){try{const s=(await iE()).transaction(El,"readwrite");await s.objectStore(El).put(t,rE(r)),await s.done}catch(n){if(n instanceof Yi)ji.warn(n.message);else{const s=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(s.message)}}}function rE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=1024,kb=30;class zb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=R_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kb){const f=Hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R_(),{heartbeatsToSend:s,unsentEntries:o}=Bb(this._heartbeatsCache.heartbeats),u=bc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ji.warn(n),""}}}function R_(){return new Date().toISOString().substring(0,10)}function Bb(r,t=Lb){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),w_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),w_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?CS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return b_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function w_(r){return bc(JSON.stringify({version:2,heartbeats:r})).length}function Hb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r){Ba(new Ms("platform-logger",t=>new eb(t),"PRIVATE")),Ba(new Ms("heartbeat",t=>new zb(t),"PRIVATE")),zr(Dd,A_,r),zr(Dd,A_,"esm2017"),zr("fire-js","")}jb("");function rm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function sE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gb=sE,aE=new Nl("auth","Firebase",sE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new em("@firebase/auth");function Fb(r,...t){wc.logLevel<=Nt.WARN&&wc.warn(`Auth (${Xa}): ${r}`,...t)}function mc(r,...t){wc.logLevel<=Nt.ERROR&&wc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r,...t){throw am(r,...t)}function Hn(r,...t){return am(r,...t)}function sm(r,t,n){const s=Object.assign(Object.assign({},Gb()),{[t]:n});return new Nl("auth","Firebase",s).create(t,{appName:r.name})}function Ds(r){return sm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qb(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&fi(r,"argument-error"),sm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function am(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return aE.create(r,...t)}function vt(r,t,...n){if(!r)throw am(t,...n)}function qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mc(t),new Error(t)}function Gi(r,t){r||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Kb(){return I_()==="http:"||I_()==="https:"}function I_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kb()||SS()||"connection"in navigator)?navigator.onLine:!0}function Xb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=ES()||bS()}get(){return Yb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,t){Gi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zb=new Vl(3e4,6e4);function lm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Wa(r,t,n,s,o={}){return lE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ml(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return AS()||(y.referrerPolicy="no-referrer"),oE.fetch()(await uE(r,r.config.apiHost,n,m),y)})}async function lE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Wb),t);try{const o=new tR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw oc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw oc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw oc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sm(r,E,y);fi(r,E)}}catch(o){if(o instanceof Yi)throw o;fi(r,"network-request-failed",{message:String(o)})}}async function Jb(r,t,n,s,o={}){const u=await Wa(r,t,n,s,o);return"mfaPendingCredential"in u&&fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function uE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?om(r.config,o):`${r.config.apiScheme}://${o}`;return $b.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class tR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hn(this.auth,"network-request-failed")),Zb.get())})}}function oc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(r,t){return Wa(r,"POST","/v1/accounts:delete",t)}async function Ic(r,t){return Wa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nR(r,t=!1){const n=en(r),s=await n.getIdToken(t),o=um(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ml(Td(o.auth_time)),issuedAtTime:ml(Td(o.iat)),expirationTime:ml(Td(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Td(r){return Number(r)*1e3}function um(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xv(n);return o?JSON.parse(o):(mc("Failed to decode base64 JWT payload"),null)}catch(o){return mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function C_(r){const t=um(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&iR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Tl(r,Ic(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?cE(u.providerUserInfo):[],m=aR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Vd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function sR(r){const t=en(r);await Cc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function cE(r){return r.map(t=>{var{providerId:n}=t,s=rm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,t){const n=await lE(r,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await uE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",oE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lR(r,t){return Wa(r,"POST","/v2/accounts:revokeToken",lm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):C_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=C_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await oR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Pa;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=rm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Vd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nR(this,t)}reload(){return sR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Ds(this.auth));const t=await this.getIdToken();return await Tl(this,eR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,U=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,k=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,R=(y=n.createdAt)!==null&&y!==void 0?y:void 0,N=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:it,isAnonymous:nt,providerData:ft,stsTokenManager:M}=n;vt(G&&M,t,"internal-error");const I=Pa.fromJSON(this.name,M);vt(typeof G=="string",t,"internal-error"),Mr(S,t.name),Mr(U,t.name),vt(typeof it=="boolean",t,"internal-error"),vt(typeof nt=="boolean",t,"internal-error"),Mr(O,t.name),Mr(Q,t.name),Mr(Y,t.name),Mr(k,t.name),Mr(R,t.name),Mr(N,t.name);const b=new Bn({uid:G,auth:t,email:U,emailVerified:it,displayName:S,isAnonymous:nt,photoURL:Q,phoneNumber:O,tenantId:Y,stsTokenManager:I,createdAt:R,lastLoginAt:N});return ft&&Array.isArray(ft)&&(b.providerData=ft.map(D=>Object.assign({},D))),k&&(b._redirectEventId=k),b}static async _fromIdTokenResponse(t,n,s=!1){const o=new Pa;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Cc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Pa;m.updateFromIdToken(s);const p=new Bn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function Hi(r){Gi(r instanceof Function,"Expected a class definition");let t=D_.get(r);return t?(Gi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,D_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hE.type="NONE";const O_=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(r,t,n){return`firebase:${r}:${t}:${n}`}class xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ic(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new xa(Hi(O_),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Hi(O_);const f=gc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const U=await Ic(t,{idToken:E}).catch(()=>{});if(!U)break;S=await Bn._fromGetAccountInfoResponse(t,U,E)}else S=Bn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xa(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new xa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yE(t))return"Blackberry";if(_E(t))return"Webos";if(dE(t))return"Safari";if((t.includes("chrome/")||mE(t))&&!t.includes("edge/"))return"Chrome";if(pE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fE(r=Ke()){return/firefox\//i.test(r)}function dE(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mE(r=Ke()){return/crios\//i.test(r)}function gE(r=Ke()){return/iemobile/i.test(r)}function pE(r=Ke()){return/android/i.test(r)}function yE(r=Ke()){return/blackberry/i.test(r)}function _E(r=Ke()){return/webos/i.test(r)}function cm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uR(r=Ke()){var t;return cm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cR(){return RS()&&document.documentMode===10}function vE(r=Ke()){return cm(r)||pE(r)||_E(r)||yE(r)||/windows phone/i.test(r)||gE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,t=[]){let n;switch(r){case"Browser":n=N_(Ke());break;case"Worker":n=`${N_(Ke())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(r,t={}){return Wa(r,"GET","/v2/passwordPolicy",lm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=6;class mR{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:dR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new hR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await xa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ic(this,{idToken:t}),s=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Cc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(Ds(this));const n=t?en(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(Ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fR(this),n=new mR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await xa.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Fb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jc(r){return en(r)}class M_{constructor(t){this.auth=t,this.observer=null,this.addObserver=VS(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pR(r){hm=r}function yR(r){return hm.loadJS(r)}function _R(){return hm.gapiScript}function vR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(r,t){const n=im(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ns(u,t??{}))return o;fi(o,"already-initialized")}return n.initialize({options:t})}function TR(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function AR(r,t,n){const s=jc(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=TE(t),{host:f,port:m}=SR(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Ns(y,s.config.emulator)&&Ns(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,bR()}function TE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function SR(r){const t=TE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:V_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:V_(f)}}}function V_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function bR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(r,t){return Jb(r,"POST","/v1/accounts:signInWithIdp",lm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="http://localhost";class Vs extends AE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=rm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Vs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return La(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,La(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,La(t,n)}buildRequest(){const t={requestUri:RR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends fm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ul{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vs._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return oi.credentialFromTaggedObject(t)}static credentialFromError(t){return oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return oi.credential(n,s)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ul{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ul{constructor(){super("twitter.com")}static credential(t,n){return Vs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Bn._fromIdTokenResponse(t,s,o),f=U_(s);return new qa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=U_(s);return new qa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function U_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Yi{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Dc(t,n,s,o)}}function SE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(r,u,t,s):u})}async function wR(r,t,n=!1){const s=await Tl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return qa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(Ds(s));const o="reauthenticate";try{const u=await Tl(r,SE(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=um(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),qa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(r,t,n=!1){if(zn(r.app))return Promise.reject(Ds(r));const s="signIn",o=await SE(r,s,t),u=await qa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function DR(r,t,n,s){return en(r).onIdTokenChanged(t,n,s)}function OR(r,t,n){return en(r).beforeAuthStateChanged(t,n)}function bE(r,t,n,s){return en(r).onAuthStateChanged(t,n,s)}function NR(r){return en(r).signOut()}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1e3,VR=10;class wE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);cR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,VR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}wE.type="LOCAL";const UR=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}IE.type="SESSION";const CE=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Gc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await PR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=dm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const U=S;if(U.data.eventId===y)switch(U.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(U.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function LR(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function kR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function BR(){return DE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",qR=1,Nc="firebaseLocalStorage",NE="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fc(r,t){return r.transaction([Nc],t?"readwrite":"readonly").objectStore(Nc)}function HR(){const r=indexedDB.deleteDatabase(OE);return new Pl(r).toPromise()}function Ud(){const r=indexedDB.open(OE,qR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nc,{keyPath:NE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nc)?t(s):(s.close(),await HR(),t(await Ud()))})})}async function P_(r,t,n){const s=Fc(r,!0).put({[NE]:t,value:n});return new Pl(s).toPromise()}async function jR(r,t){const n=Fc(r,!1).get(t),s=await new Pl(n).toPromise();return s===void 0?null:s.value}function x_(r,t){const n=Fc(r,!0).delete(t);return new Pl(n).toPromise()}const GR=800,FR=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ud(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>FR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gc._getInstance(BR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await kR(),!this.activeServiceWorker)return;this.sender=new xR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ud();return await P_(t,Oc,"1"),await x_(t,Oc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>P_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>jR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>x_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Fc(o,!1).getAll();return new Pl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const QR=ME;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r,t){return t?Hi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends AE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return La(t,this._buildIdpRequest())}_linkToIdToken(t,n){return La(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return La(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function KR(r){return CR(r.auth,new mm(r),r.bypassAuthState)}function YR(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),IR(n,new mm(r),r.bypassAuthState)}async function XR(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),wR(n,new mm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return XR;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:fi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Vl(2e3,1e4);async function $R(r,t,n){if(zn(r.app))return Promise.reject(Hn(r,"operation-not-supported-in-this-environment"));const s=jc(r);Qb(r,t,fm);const o=VE(s,n);return new Is(s,"signInViaPopup",t,o).executeNotNull()}class Is extends UE{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WR.get())};t()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="pendingRedirect",pc=new Map;class JR extends UE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=pc.get(this.auth._key());if(!t){try{const s=await tw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}pc.set(this.auth._key(),t)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tw(r,t){const n=iw(t),s=nw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ew(r,t){pc.set(r._key(),t)}function nw(r){return Hi(r._redirectPersistence)}function iw(r){return gc(ZR,r.config.apiKey,r.name)}async function rw(r,t,n=!1){if(zn(r.app))return Promise.reject(Ds(r));const s=jc(r),o=VE(s,t),f=await new JR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=10*60*1e3;class aw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ow(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!PE(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sw&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(t))}saveEventToCache(t){this.cachedEventUids.add(L_(t)),this.lastProcessedEventTime=Date.now()}}function L_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function PE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ow(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r,t={}){return Wa(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cw=/^https?/;async function hw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await lw(r);for(const n of t)try{if(fw(n))return}catch{}fi(r,"unauthorized-domain")}function fw(r){const t=Md(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cw.test(n))return!1;if(uw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Vl(3e4,6e4);function k_(){const r=li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mw(r){return new Promise((t,n)=>{var s,o,u;function f(){k_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(Hn(r,"network-request-failed"))},timeout:dw.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=li().gapi)===null||u===void 0)&&u.load)f();else{const m=vR("iframefcb");return li()[m]=()=>{gapi.load?f():n(Hn(r,"network-request-failed"))},yR(`${_R()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw yc=null,t})}let yc=null;function gw(r){return yc=yc||mw(r),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Vl(5e3,15e3),yw="__/auth/iframe",_w="emulator/auth/iframe",vw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ew=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tw(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?om(t,_w):`https://${r.config.authDomain}/${yw}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},o=Ew.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ml(s).slice(1)}`}async function Aw(r){const t=await gw(r),n=li().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:Tw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vw,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Hn(r,"network-request-failed"),m=li().setTimeout(()=>{u(f)},pw.get());function p(){li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bw=500,Rw=600,ww="_blank",Iw="http://localhost";class z_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cw(r,t,n,s=bw,o=Rw){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Sw),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Ke().toLowerCase();n&&(m=mE(y)?ww:n),fE(y)&&(t=t||Iw,p.scrollbars="yes");const E=Object.entries(p).reduce((U,[O,Q])=>`${U}${O}=${Q},`,"");if(uR(y)&&m!=="_self")return Dw(t||"",m),new z_(null);const S=window.open(t||"",m,E);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new z_(S)}function Dw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__/auth/handler",Nw="emulator/auth/handler",Mw=encodeURIComponent("fac");async function B_(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:o};if(t instanceof fm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",MS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof Ul){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${Mw}=${encodeURIComponent(p)}`:"";return`${Vw(r)}?${Ml(m).slice(1)}${y}`}function Vw({config:r}){return r.emulator?om(r,Nw):`https://${r.authDomain}/${Ow}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class Uw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=rw,this._overrideRedirectResult=ew}async _openPopup(t,n,s,o){var u;Gi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await B_(t,n,s,Md(),o);return Cw(t,f,dm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await B_(t,n,s,Md(),o);return LR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Gi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Aw(t),s=new aw(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ad,{type:Ad},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ad];f!==void 0&&n(!!f),fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vE()||dE()||cm()}}const Pw=Uw;var q_="@firebase/auth",H_="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kw(r){Ba(new Ms("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(r)},y=new gR(s,o,u,p);return TR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ba(new Ms("auth-internal",t=>{const n=jc(t.getProvider("auth").getImmediate());return(s=>new xw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(q_,H_,Lw(r)),zr(q_,H_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=5*60,Bw=Zv("authIdTokenMaxAge")||zw;let j_=null;const qw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Bw)return;const o=n==null?void 0:n.token;j_!==o&&(j_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hw(r=nE()){const t=im(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ER(r,{popupRedirectResolver:Pw,persistence:[QR,UR,CE]}),s=Zv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=qw(u.toString());OR(n,f,()=>f(n.currentUser)),DR(n,m=>f(m))}}const o=Wv("auth");return o&&AR(n,`http://${o}`),n}function jw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}pR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Hn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kw("Browser");var Gw="firebase",Fw="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(Gw,Fw,"app");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,xE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,I){function b(){}b.prototype=I.prototype,M.D=I.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(D,x,B){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return I.prototype[x].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,I,b){b||(b=0);var D=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)D[x]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(x=0;16>x;++x)D[x]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=M.g[0],b=M.g[1],x=M.g[2];var B=M.g[3],C=I+(B^b&(x^B))+D[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=B+(x^I&(b^x))+D[1]+3905402710&4294967295,B=I+(C<<12&4294967295|C>>>20),C=x+(b^B&(I^b))+D[2]+606105819&4294967295,x=B+(C<<17&4294967295|C>>>15),C=b+(I^x&(B^I))+D[3]+3250441966&4294967295,b=x+(C<<22&4294967295|C>>>10),C=I+(B^b&(x^B))+D[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=B+(x^I&(b^x))+D[5]+1200080426&4294967295,B=I+(C<<12&4294967295|C>>>20),C=x+(b^B&(I^b))+D[6]+2821735955&4294967295,x=B+(C<<17&4294967295|C>>>15),C=b+(I^x&(B^I))+D[7]+4249261313&4294967295,b=x+(C<<22&4294967295|C>>>10),C=I+(B^b&(x^B))+D[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=B+(x^I&(b^x))+D[9]+2336552879&4294967295,B=I+(C<<12&4294967295|C>>>20),C=x+(b^B&(I^b))+D[10]+4294925233&4294967295,x=B+(C<<17&4294967295|C>>>15),C=b+(I^x&(B^I))+D[11]+2304563134&4294967295,b=x+(C<<22&4294967295|C>>>10),C=I+(B^b&(x^B))+D[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=B+(x^I&(b^x))+D[13]+4254626195&4294967295,B=I+(C<<12&4294967295|C>>>20),C=x+(b^B&(I^b))+D[14]+2792965006&4294967295,x=B+(C<<17&4294967295|C>>>15),C=b+(I^x&(B^I))+D[15]+1236535329&4294967295,b=x+(C<<22&4294967295|C>>>10),C=I+(x^B&(b^x))+D[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^x&(I^b))+D[6]+3225465664&4294967295,B=I+(C<<9&4294967295|C>>>23),C=x+(I^b&(B^I))+D[11]+643717713&4294967295,x=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(x^B))+D[0]+3921069994&4294967295,b=x+(C<<20&4294967295|C>>>12),C=I+(x^B&(b^x))+D[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^x&(I^b))+D[10]+38016083&4294967295,B=I+(C<<9&4294967295|C>>>23),C=x+(I^b&(B^I))+D[15]+3634488961&4294967295,x=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(x^B))+D[4]+3889429448&4294967295,b=x+(C<<20&4294967295|C>>>12),C=I+(x^B&(b^x))+D[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^x&(I^b))+D[14]+3275163606&4294967295,B=I+(C<<9&4294967295|C>>>23),C=x+(I^b&(B^I))+D[3]+4107603335&4294967295,x=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(x^B))+D[8]+1163531501&4294967295,b=x+(C<<20&4294967295|C>>>12),C=I+(x^B&(b^x))+D[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^x&(I^b))+D[2]+4243563512&4294967295,B=I+(C<<9&4294967295|C>>>23),C=x+(I^b&(B^I))+D[7]+1735328473&4294967295,x=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(x^B))+D[12]+2368359562&4294967295,b=x+(C<<20&4294967295|C>>>12),C=I+(b^x^B)+D[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^x)+D[8]+2272392833&4294967295,B=I+(C<<11&4294967295|C>>>21),C=x+(B^I^b)+D[11]+1839030562&4294967295,x=B+(C<<16&4294967295|C>>>16),C=b+(x^B^I)+D[14]+4259657740&4294967295,b=x+(C<<23&4294967295|C>>>9),C=I+(b^x^B)+D[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^x)+D[4]+1272893353&4294967295,B=I+(C<<11&4294967295|C>>>21),C=x+(B^I^b)+D[7]+4139469664&4294967295,x=B+(C<<16&4294967295|C>>>16),C=b+(x^B^I)+D[10]+3200236656&4294967295,b=x+(C<<23&4294967295|C>>>9),C=I+(b^x^B)+D[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^x)+D[0]+3936430074&4294967295,B=I+(C<<11&4294967295|C>>>21),C=x+(B^I^b)+D[3]+3572445317&4294967295,x=B+(C<<16&4294967295|C>>>16),C=b+(x^B^I)+D[6]+76029189&4294967295,b=x+(C<<23&4294967295|C>>>9),C=I+(b^x^B)+D[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^x)+D[12]+3873151461&4294967295,B=I+(C<<11&4294967295|C>>>21),C=x+(B^I^b)+D[15]+530742520&4294967295,x=B+(C<<16&4294967295|C>>>16),C=b+(x^B^I)+D[2]+3299628645&4294967295,b=x+(C<<23&4294967295|C>>>9),C=I+(x^(b|~B))+D[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~x))+D[7]+1126891415&4294967295,B=I+(C<<10&4294967295|C>>>22),C=x+(I^(B|~b))+D[14]+2878612391&4294967295,x=B+(C<<15&4294967295|C>>>17),C=b+(B^(x|~I))+D[5]+4237533241&4294967295,b=x+(C<<21&4294967295|C>>>11),C=I+(x^(b|~B))+D[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~x))+D[3]+2399980690&4294967295,B=I+(C<<10&4294967295|C>>>22),C=x+(I^(B|~b))+D[10]+4293915773&4294967295,x=B+(C<<15&4294967295|C>>>17),C=b+(B^(x|~I))+D[1]+2240044497&4294967295,b=x+(C<<21&4294967295|C>>>11),C=I+(x^(b|~B))+D[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~x))+D[15]+4264355552&4294967295,B=I+(C<<10&4294967295|C>>>22),C=x+(I^(B|~b))+D[6]+2734768916&4294967295,x=B+(C<<15&4294967295|C>>>17),C=b+(B^(x|~I))+D[13]+1309151649&4294967295,b=x+(C<<21&4294967295|C>>>11),C=I+(x^(b|~B))+D[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~x))+D[11]+3174756917&4294967295,B=I+(C<<10&4294967295|C>>>22),C=x+(I^(B|~b))+D[2]+718787259&4294967295,x=B+(C<<15&4294967295|C>>>17),C=b+(B^(x|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var b=I-this.blockSize,D=this.B,x=this.h,B=0;B<I;){if(x==0)for(;B<=b;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<I;)if(D[x++]=M.charCodeAt(B++),x==this.blockSize){o(this,D),x=0;break}}else for(;B<I;)if(D[x++]=M[B++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=I},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var b=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=b&255,b/=256;for(this.u(M),M=Array(16),I=b=0;4>I;++I)for(var D=0;32>D;D+=8)M[b++]=this.g[I]>>>D&255;return M};function u(M,I){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=I(M)}function f(M,I){this.h=I;for(var b=[],D=!0,x=M.length-1;0<=x;x--){var B=M[x]|0;D&&B==I||(b[x]=B,D=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?u(M,function(I){return new f([I|0],0>I?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return k(y(-M));for(var I=[],b=1,D=0;M>=b;D++)I[D]=M/b|0,b*=4294967296;return new f(I,0)}function E(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return k(E(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(I,8)),D=S,x=0;x<M.length;x+=8){var B=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+B),I);8>B?(B=y(Math.pow(I,B)),D=D.j(B).add(y(C))):(D=D.j(b),D=D.add(y(C)))}return D}var S=p(0),U=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-k(this).m();for(var M=0,I=1,b=0;b<this.g.length;b++){var D=this.i(b);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Q(this))return"0";if(Y(this))return"-"+k(this).toString(M);for(var I=y(Math.pow(M,6)),b=this,D="";;){var x=it(b,I).g;b=R(b,x.j(I));var B=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=x,Q(b))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Q(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=R(this,M),Y(M)?-1:Q(M)?0:1};function k(M){for(var I=M.g.length,b=[],D=0;D<I;D++)b[D]=~M.g[D];return new f(b,~M.h).add(U)}r.abs=function(){return Y(this)?k(this):this},r.add=function(M){for(var I=Math.max(this.g.length,M.g.length),b=[],D=0,x=0;x<=I;x++){var B=D+(this.i(x)&65535)+(M.i(x)&65535),C=(B>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);D=C>>>16,B&=65535,C&=65535,b[x]=C<<16|B}return new f(b,b[b.length-1]&-2147483648?-1:0)};function R(M,I){return M.add(k(I))}r.j=function(M){if(Q(this)||Q(M))return S;if(Y(this))return Y(M)?k(this).j(k(M)):k(k(this).j(M));if(Y(M))return k(this.j(k(M)));if(0>this.l(O)&&0>M.l(O))return y(this.m()*M.m());for(var I=this.g.length+M.g.length,b=[],D=0;D<2*I;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<M.g.length;x++){var B=this.i(D)>>>16,C=this.i(D)&65535,ye=M.i(x)>>>16,ce=M.i(x)&65535;b[2*D+2*x]+=C*ce,N(b,2*D+2*x),b[2*D+2*x+1]+=B*ce,N(b,2*D+2*x+1),b[2*D+2*x+1]+=C*ye,N(b,2*D+2*x+1),b[2*D+2*x+2]+=B*ye,N(b,2*D+2*x+2)}for(D=0;D<I;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=I;D<2*I;D++)b[D]=0;return new f(b,0)};function N(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function G(M,I){this.g=M,this.h=I}function it(M,I){if(Q(I))throw Error("division by zero");if(Q(M))return new G(S,S);if(Y(M))return I=it(k(M),I),new G(k(I.g),k(I.h));if(Y(I))return I=it(M,k(I)),new G(k(I.g),I.h);if(30<M.g.length){if(Y(M)||Y(I))throw Error("slowDivide_ only works with positive integers.");for(var b=U,D=I;0>=D.l(M);)b=nt(b),D=nt(D);var x=ft(b,1),B=ft(D,1);for(D=ft(D,2),b=ft(b,2);!Q(D);){var C=B.add(D);0>=C.l(M)&&(x=x.add(b),B=C),D=ft(D,1),b=ft(b,1)}return I=R(M,x.j(I)),new G(x,I)}for(x=S;0<=M.l(I);){for(b=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=y(b),C=B.j(I);Y(C)||0<C.l(M);)b-=D,B=y(b),C=B.j(I);Q(B)&&(B=U),x=x.add(B),M=R(M,C)}return new G(x,M)}r.A=function(M){return it(this,M).h},r.and=function(M){for(var I=Math.max(this.g.length,M.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)&M.i(D);return new f(b,this.h&M.h)},r.or=function(M){for(var I=Math.max(this.g.length,M.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)|M.i(D);return new f(b,this.h|M.h)},r.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)^M.i(D);return new f(b,this.h^M.h)};function nt(M){for(var I=M.g.length+1,b=[],D=0;D<I;D++)b[D]=M.i(D)<<1|M.i(D-1)>>>31;return new f(b,M.h)}function ft(M,I){var b=I>>5;I%=32;for(var D=M.g.length-b,x=[],B=0;B<D;B++)x[B]=0<I?M.i(B+b)>>>I|M.i(B+b+1)<<32-I:M.i(B+b);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Br=f}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LE,cl,kE,_c,Pd,zE,BE,qE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in _))break t;_=_[q]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,q={next:function(){if(!A&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function U(c,g,_){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,U.apply(null,arguments)}function O(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function Q(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,q,F){for(var et=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)et[Ut-2]=arguments[Ut];return g.prototype[q].apply(A,et)}}function Y(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function k(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const q=c.length||0,F=A.length||0;c.length=q+F;for(let et=0;et<F;et++)c[q+et]=A[et]}else c.push(A)}}class R{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function N(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function it(c){return it[" "](c),c}it[" "]=function(){};var nt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ft(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)c[_]=A[_];for(let F=0;F<b.length;F++)_=b[F],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function x(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ht;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const A=ce.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ce=new R(()=>new rt,c=>c.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,Ht=new ye,V=()=>{const c=m.Promise.resolve(void 0);yt=()=>{c.then(tt)}};var tt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){B(_)}var g=ce;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function wt(c,g){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(nt){t:{try{it(g.nodeName);var q=!0;break t}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}Q(wt,st);var bt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),kt=0;function ne(c,g,_,A,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=q,this.key=++kt,this.da=this.fa=!1}function Ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ye(c){this.src=c,this.g={},this.h=0}Ye.prototype.add=function(c,g,_,A,q){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var et=gn(c,g,A,q);return-1<et?(g=c[et],_||(g.fa=!1)):(g=new ne(g,this.src,F,!!A,q),g.fa=_,c.push(g)),g};function mi(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],q=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=q)&&Array.prototype.splice.call(A,q,1),F&&(Ft(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function gn(c,g,_,A){for(var q=0;q<c.length;++q){var F=c[q];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==A)return q}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),Wi={};function gi(c,g,_,A,q){if(Array.isArray(g)){for(var F=0;F<g.length;F++)gi(c,g[F],_,A,q);return null}return _=Bl(_),c&&c[he]?c.K(g,_,y(A)?!!A.capture:!1,q):no(c,g,_,!1,A,q)}function no(c,g,_,A,q,F){if(!g)throw Error("Invalid event type");var et=y(q)?!!q.capture:!!q,Ut=io(c);if(Ut||(c[Xi]=Ut=new Ye(c)),_=Ut.add(g,_,A,et,F),_.proxy)return _;if(A=qs(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)at||(q=et),q===void 0&&(q=!1),c.addEventListener(g.toString(),A,q);else if(c.attachEvent)c.attachEvent(js(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qs(){function c(_){return g.call(c.src,c.listener,_)}const g=sh;return c}function Hs(c,g,_,A,q){if(Array.isArray(g))for(var F=0;F<g.length;F++)Hs(c,g[F],_,A,q);else A=y(A)?!!A.capture:!!A,_=Bl(_),c&&c[he]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=gn(F,_,A,q),-1<_&&(Ft(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=io(c))&&(g=c.g[g.toString()],c=-1,g&&(c=gn(g,_,A,q)),(_=-1<c?g[c]:null)&&Yr(_))}function Yr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])mi(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(js(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=io(g))?(mi(_,c),_.h==0&&(_.src=null,g[Xi]=null)):Ft(c)}}}function js(c){return c in Wi?Wi[c]:Wi[c]="on"+c}function sh(c,g){if(c.da)c=!0;else{g=new wt(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&Yr(c),c=_.call(A,g)}return c}function io(c){return c=c[Xi],c instanceof Ye?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bl(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(g){return c.handleEvent(g)}),c[nn])}function _e(){ht.call(this),this.i=new Ye(this),this.M=this,this.F=null}Q(_e,ht),_e.prototype[he]=!0,_e.prototype.removeEventListener=function(c,g,_,A){Hs(this,c,g,_,A)};function we(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new st(g,c);else if(g instanceof st)g.target=g.target||c;else{var q=g;g=new st(A,c),D(g,q)}if(q=!0,_)for(var F=_.length-1;0<=F;F--){var et=g.g=_[F];q=pi(et,A,!0,g)&&q}if(et=g.g=c,q=pi(et,A,!0,g)&&q,q=pi(et,A,!1,g)&&q,_)for(F=0;F<_.length;F++)et=g.g=_[F],q=pi(et,A,!1,g)&&q}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Ft(_[A]);delete c.g[g],c.h--}}this.F=null},_e.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},_e.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function pi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,F=0;F<g.length;++F){var et=g[F];if(et&&!et.da&&et.capture==_){var Ut=et.listener,Ee=et.ha||et.src;et.fa&&mi(c.i,et),q=Ut.call(Ee,A)!==!1&&q}}return q&&!A.defaultPrevented}function ql(c,g,_){if(typeof c=="function")_&&(c=U(c,_));else if(c&&typeof c.handleEvent=="function")c=U(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ro(c){c.g=ql(()=>{c.g=null,c.i&&(c.i=!1,ro(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ah extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){ht.call(this),this.h=c,this.g={}}Q(Xr,ht);var $i=[];function qe(c){ft(c.g,function(g,_){this.g.hasOwnProperty(_)&&Yr(g)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),qe(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=m.JSON.stringify,Gn=m.JSON.parse,Xe=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ao(){}ao.prototype.h=null;function Hl(c){return c.h||(c.h=c.i())}function jl(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){st.call(this,"d")}Q(Zi,st);function Vn(){st.call(this,"c")}Q(Vn,st);var pn={},Ji=null;function Gs(){return Ji=Ji||new _e}pn.La="serverreachability";function oo(c){st.call(this,pn.La,c)}Q(oo,st);function tr(c){const g=Gs();we(g,new oo(g))}pn.STAT_EVENT="statevent";function Fs(c,g){st.call(this,pn.STAT_EVENT,c),this.stat=g}Q(Fs,st);function oe(c){const g=Gs();we(g,new Fs(g,c))}pn.Ma="timingevent";function Gl(c,g){st.call(this,pn.Ma,c),this.size=g}Q(Gl,st);function er(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Fl(c,g,_,A,q,F){c.info(function(){if(c.g)if(F)for(var et="",Ut=F.split("&"),Ee=0;Ee<Ut.length;Ee++){var Pt=Ut[Ee].split("=");if(1<Pt.length){var De=Pt[0];Pt=Pt[1];var Te=De.split("_");et=2<=Te.length&&Te[1]=="type"?et+(De+"="+Pt+"&"):et+(De+"=redacted&")}}else et=null;else et=F;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+g+`
`+_+`
`+et})}function Ql(c,g,_,A,q,F,et){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+g+`
`+_+`
`+F+" "+et})}function ir(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ie(c,_)+(A?" "+A:"")})}function Qn(c,g){c.info(function(){return"TIMEOUT: "+g})}nr.prototype.info=function(){};function Ie(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var F=q[0];if(F!="noop"&&F!="stop"&&F!="close")for(var et=1;et<q.length;et++)q[et]=""}}}}return so(_)}catch{return g}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Qs(){}Q(Qs,ao),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},Wr=new Qs;function Kn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lo}function lo(){this.i=null,this.g="",this.h=!1}var rr={},$r={};function Un(c,g,_){c.L=1,c.v=ts(ie(g)),c.m=_,c.P=!0,_i(c,null)}function _i(c,g){c.F=Date.now(),Zt(c),c.A=ie(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ti(_.i,"t",A),c.C=0,_=c.j.J,c.h=new lo,c.g=au(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ah(U(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&($i[0]=q.toString()),q=$i);for(var F=0;F<q.length;F++){var et=gi(_,q[F],A||g.handleEvent,!1,g.h||g);if(!et)break;g.g[et.key]=et}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),tr(),Fl(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Tn(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)t:{const Te=Tn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Te!=4||g==7||(g==8||0>=Ri?tr(3):tr(2)),Ks(this);var _=this.g.Z();this.X=_;e:if(sr(this)){var A=Zl(this.g);c="";var q=A.length,F=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),on(this);var et="";break e}this.h.i=new m.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(F&&g==q-1)});A.length=0,this.h.g+=c,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,Ql(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ee=this.g;if((Ut=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Ut)){var Pt=Ut;break e}}Pt=null}if(_=Pt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,oe(12),rn(this),on(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<et.length;)if(Ue=ar(this,et),Ue==$r){Te==4&&(this.s=4,oe(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==rr){this.s=4,oe(15),ir(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Ue,null),ln(this,Ue);if(sr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||et.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,et,"[Invalid Chunked Response]"),rn(this),on(this);else if(0<et.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),os(De),De.M=!0,oe(11))}}else ir(this.i,this.l,et,null),ln(this,et);Te==4&&rn(this),this.o&&!this.J&&(Te==4?iu(this.j,this):(this.o=!1,Zt(this)))}else fh(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),rn(this),on(this)}}}catch{}finally{}};function sr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ar(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?$r:(_=Number(g.substring(_,A)),isNaN(_)?rr:(A+=1,A+_>g.length?$r:(g=g.slice(A,A+_),c.C=A+_,g)))}Kn.prototype.cancel=function(){this.J=!0,rn(this)};function Zt(c){c.S=Date.now()+c.I,uo(c,c.I)}function uo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=er(U(c.ba,c),g)}function Ks(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qn(this.i,this.A),this.L!=2&&(tr(),oe(17)),rn(this),this.s=2,on(this)):uo(this,this.S-c)};function on(c){c.j.G==0||c.J||iu(c.j,c)}function rn(c){Ks(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,qe(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ln(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||or(_.h,c))){if(!c.K&&or(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ia(_),ea(_);else break t;To(_),oe(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=er(U(_.Za,_),6e3));if(1>=Kl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&ia(_),!N(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let Pt=q[g];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const De=Pt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Te=Pt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ri=Pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=c.g;if(Ue){const ti=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var F=A.h;F.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(lr(F,F.h),F.h=null))}if(A.D){const So=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(A.ya=So,zt(A.I,A.D,So))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var et=c;if(A.qa=su(A,A.J?A.ia:null,A.W),et.K){yn(A.h,et);var Ut=et,Ee=A.L;Ee&&(Ut.I=Ee),Ut.B&&(Ks(Ut),Zt(Ut)),A.g=et}else eu(A);0<_.i.length&&na(_)}else Pt[0]!="stop"&&Pt[0]!="close"||bi(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?bi(_,7):vo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}tr(4)}catch{}}var oh=class{constructor(c,g){this.g=c,this.map=g}};function co(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kl(c){return c.h?1:c.g?c.g.size:0}function or(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function lr(c,g){c.g?c.g.add(g):c.h=g}function yn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}co.prototype.cancel=function(){if(this.i=We(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function We(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Y(c.i)}function Yl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function lh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function Zr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=lh(c),A=Yl(c),q=A.length,F=0;F<q;F++)g.call(void 0,A[F],_&&_[F],c)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),q=null;if(0<=A){var F=c[_].substring(0,A);q=c[_].substring(A+1)}else F=c[_];g(F,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,ur(this,c.j),this.o=c.o,this.g=c.g,Jr(this,c.s),this.l=c.l;var g=c.i,_=new Yn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Xs(this,_),this.m=c.m}else c&&(g=String(c).match(fo))?(this.h=!1,ur(this,g[1]||"",!0),this.o=cr(g[2]||""),this.g=cr(g[3]||"",!0),Jr(this,g[4]),this.l=cr(g[5]||"",!0),Xs(this,g[6]||"",!0),this.m=cr(g[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}vi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(_n(g,mo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_n(g,mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_n(_,_.charAt(0)=="/"?go:Xl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_n(_,hh)),c.join("")};function ie(c){return new vi(c)}function ur(c,g,_){c.j=_?cr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Jr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xs(c,g,_){g instanceof Yn?(c.i=g,po(c.i,c.h)):(_||(g=_n(g,ch)),c.i=new Yn(g,c.h))}function zt(c,g,_){c.i.set(g,_)}function ts(c){return zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function cr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _n(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,uh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mo=/[#\/\?@]/g,Xl=/[#\?:]/g,go=/[#\?]/g,ch=/[#\?@]/g,hh=/#/g;function Yn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ys(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Yn.prototype,r.add=function(c,g){vn(this),this.i=null,c=Ai(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ws(c,g){vn(c),g=Ai(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ei(c,g){return vn(c),g=Ai(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(_,A){_.forEach(function(q){c.call(g,q,A,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const q=c[A];for(let F=0;F<q.length;F++)_.push(g[A])}return _},r.V=function(c){vn(this);let g=[];if(typeof c=="string")Ei(this,c)&&(g=g.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return vn(this),this.i=null,c=Ai(this,c),Ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ti(c,g,_){Ws(c,g),0<_.length&&(c.i=null,c.g.set(Ai(c,g),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const F=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var q=F;et[A]!==""&&(q+="="+encodeURIComponent(String(et[A]))),c.push(q)}}return this.i=c.join("&")};function Ai(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function po(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(Ws(this,A),Ti(this,q,_))},c)),c.j=g}function Wl(c,g){const _=new nr;if(m.Image){const A=new Image;A.onload=O(En,_,"TestLoadImage: loaded",!0,g,A),A.onerror=O(En,_,"TestLoadImage: error",!1,g,A),A.onabort=O(En,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=O(En,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function es(c,g){const _=new nr,A=new AbortController,q=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(q),F.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),En(_,"TestPingServer: error",!1,g)})}function En(c,g,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function ns(){this.g=new Xe}function Xn(c,g,_){const A=_||"";try{Zr(c,function(q,F){let et=q;y(q)&&(et=so(q)),g.push(A+F+"="+encodeURIComponent(et))})}catch(q){throw g.push(A+"type="+encodeURIComponent("_badmap")),q}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(hr,ao),hr.prototype.g=function(){return new Si(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Si(c,g){_e.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Si,_e),r=Si.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):$n(this),this.readyState==3&&yo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _o(c){let g="";return ft(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ce(c,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=_o(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):zt(c,g,_))}function jt(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(jt,_e);var $s=/^https?$/i,is=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?Hl(this.o):Hl(Wr),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){$l(this,F);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(is,g,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,et]of _)this.g.setRequestHeader(F,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rs(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){$l(this,F)}};function $l(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Zs(c),Zn(c)}function Zs(c){c.A||(c.A=!0,we(c,"complete"),we(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,we(this,"complete"),we(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)ql(c.Ea,0,c);else if(we(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const et=c.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=et===0){var q=String(c.D).match(fo)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!$s.test(q?q.toLowerCase():"")}_=A}if(_)we(c,"complete"),we(c,"success");else{c.m=6;try{var F=2<Tn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Zs(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){rs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||we(c,"ready");try{_.onreadystatechange=A}catch{}}}function rs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gn(g)}};function Zl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fh(c){const g={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var _=x(c[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[q]||[];g[q]=F,F.push(_)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ta(c){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,c),this.cb=ss("retryDelaySeedMs",1e4,c),this.Wa=ss("forwardChannelMaxRetries",2,c),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new co(c&&c.concurrentRequestLimit),this.Da=new ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){oe(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=su(this,null,this.W),na(this)};function vo(c){if(Jl(c),c.G==3){var g=c.U++,_=ie(c.I);if(zt(_,"SID",c.K),zt(_,"RID",g),zt(_,"TYPE","terminate"),as(c,_),g=new Kn(c,c.j,g),g.L=2,g.v=ts(ie(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Zt(g)}ru(c)}function ea(c){c.g&&(os(c),c.g.cancel(),c.g=null)}function Jl(c){ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function na(c){if(!ho(c.h)&&!c.s){c.s=!0;var g=c.Ga;yt||V(),mt||(yt(),mt=!0),Ht.add(g,c),c.B=0}}function dh(c,g){return Kl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=er(U(c.Ga,c,g),Ao(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Kn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=I(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(q.H=F,F=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=tu(this,q,g),_=ie(this.I),zt(_,"RID",c),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),as(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(_o(F)))+"&"+g:this.m&&Ce(_,this.m,F)),lr(this.h,q),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",g),zt(_,"SID","null"),q.T=!0,Un(q,_,null)):Un(q,_,g),this.G=2}}else this.G==3&&(c?Eo(this,c):this.i.length==0||ho(this.h)||Eo(this))};function Eo(c,g){var _;g?_=g.l:_=c.U++;const A=ie(c.I);zt(A,"SID",c.K),zt(A,"RID",_),zt(A,"AID",c.T),as(c,A),c.m&&c.o&&Ce(A,c.m,c.o),_=new Kn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=tu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),lr(c.h,_),Un(_,A,g)}function as(c,g){c.H&&ft(c.H,function(_,A){zt(g,A,_)}),c.l&&Zr({},function(_,A){zt(g,A,_)})}function tu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?U(c.l.Na,c.l,c):null;t:{var q=c.i;let F=-1;for(;;){const et=["count="+_];F==-1?0<_?(F=q[0].g,et.push("ofs="+F)):F=0:et.push("ofs="+F);let Ut=!0;for(let Ee=0;Ee<_;Ee++){let Pt=q[Ee].g;const De=q[Ee].map;if(Pt-=F,0>Pt)F=Math.max(0,q[Ee].g-100),Ut=!1;else try{Xn(De,et,"req"+Pt+"_")}catch{A&&A(De)}}if(Ut){A=et.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,A}function eu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;yt||V(),mt||(yt(),mt=!0),Ht.add(g,c),c.v=0}}function To(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=er(U(c.Fa,c),Ao(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=er(U(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ea(this),nu(this))};function os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function nu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ie(c.qa);zt(g,"RID","rpc"),zt(g,"SID",c.K),zt(g,"AID",c.T),zt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&zt(g,"TO",c.ja),zt(g,"TYPE","xmlhttp"),as(c,g),c.m&&c.o&&Ce(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ts(ie(g)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),To(this),oe(19))};function ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function iu(c,g){var _=null;if(c.g==g){ia(c),os(c),c.g=null;var A=2}else if(or(c.h,g))_=g.D,yn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;A=Gs(),we(A,new Gl(A,_)),na(c)}else eu(c);else if(q=g.s,q==3||q==0&&0<g.X||!(A==1&&dh(c,g)||A==2&&To(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Ao(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var _=U(c.fb,c),A=c.Xa;const q=!A;A=new vi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ur(A,"https"),ts(A),q?Wl(A.toString(),_):es(A.toString(),_)}else oe(2);c.G=0,c.l&&c.l.sa(g),ru(c),Jl(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function ru(c){if(c.G=0,c.ka=[],c.l){const g=We(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function su(c,g,_){var A=_ instanceof vi?ie(_):new vi(_);if(A.g!="")g&&(A.g=g+"."+A.g),Jr(A,A.s);else{var q=m.location;A=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var F=new vi(null);A&&ur(F,A),g&&(F.g=g),q&&Jr(F,q),_&&(F.l=_),A=F}return _=c.D,g=c.ya,_&&g&&zt(A,_,g),zt(A,"VER",c.la),as(c,A),A}function au(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new jt(new hr({eb:_})):new jt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}r=ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(c,g){return new $e(c,g)};function $e(c,g){_e.call(this),this.g=new ta(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!N(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}Q($e,_e),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){vo(this.g)},$e.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=so(c),c=_);g.i.push(new oh(g.Ya++,c)),g.G==3&&na(g)},$e.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,$e.aa.N.call(this)};function lu(c){Zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}Q(lu,Zi);function uu(){Vn.call(this),this.status=1}Q(uu,Vn);function Jn(c){this.g=c}Q(Jn,ou),Jn.prototype.ua=function(){we(this.g,"a")},Jn.prototype.ta=function(c){we(this.g,new lu(c))},Jn.prototype.sa=function(c){we(this.g,new uu)},Jn.prototype.ra=function(){we(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,qE=function(){return new ra},BE=function(){return Gs()},zE=pn,Pd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,_c=ve,yi.COMPLETE="complete",kE=yi,jl.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,cl=jl,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,LE=jt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",Q_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new em("@firebase/firestore");function Na(){return Us.logLevel}function ot(r,...t){if(Us.logLevel<=Nt.DEBUG){const n=t.map(gm);Us.debug(`Firestore (${$a}): ${r}`,...n)}}function Fi(r,...t){if(Us.logLevel<=Nt.ERROR){const n=t.map(gm);Us.error(`Firestore (${$a}): ${r}`,...n)}}function Ha(r,...t){if(Us.logLevel<=Nt.WARN){const n=t.map(gm);Us.warn(`Firestore (${$a}): ${r}`,...n)}}function gm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const t=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+r;throw Fi(t),new Error(t)}function Gt(r,t){r||_t()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class Kw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Os,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Os)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string"),new HE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Fe(t)}}class Xw{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ww{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new Xw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $w{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new K_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string"),this.R=n.token,new K_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Zw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function xd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=jE(),f=Jw(u.encode(Y_(r,n)),u.encode(Y_(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function Y_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Jw(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function ja(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,W_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*W_);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<X_)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new be(0,0))}static max(){return new Et(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(),s===void 0?s=t.length-n:s>t.length-n&&_t(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ai?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const s=ai.isNumericId(t),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(t).compare(ai.extractNumericId(n)):xd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Br.fromString(t.substring(4,t.length-2))}}class $t extends ai{construct(t,n,s){return new $t(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ai{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return tI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new ze([$_])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt($t.fromString(t))}static fromName(t){return new gt($t.fromString(t).popFirst(5))}static empty(){return new gt($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return $t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new $t(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function eI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Hr(o,gt.empty(),t)}function nI(r){return new Hr(r.readTime,r.key,Al)}class Hr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(Et.min(),gt.empty(),Al)}static max(){return new Hr(Et.max(),gt.empty(),Al)}}function iI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==rI)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new $((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function aI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Qc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function Kc(r){return r==null}function Mc(r){return r===0&&1/r==-1/0}function oI(r){return typeof r=="number"&&Number.isInteger(r)&&!Mc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="";function lI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Z_(t)),t=uI(r.get(n),t);return Z_(t)}function uI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case FE:n+="";break;default:n+=u}}return n}function Z_(r){return r+FE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function xs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function QE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(t,n){this.comparator=t,this.root=n||ke.EMPTY}insert(t,n){return new ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uc(this.root,t,this.comparator,!0)}}class uc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=u??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,n,s,o,u){return this}insert(t,n,s){return new ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(t){return new tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new qn([])}unionWith(t){let n=new Re(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new qn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ja(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KE("Invalid base64 string: "+u):u}}(t);return new Be(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const cI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(Gt(!!r),typeof r=="string"){let t=0;const n=cI.exec(r);if(Gt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="server_timestamp",XE="__type__",WE="__previous_value__",$E="__local_write_time__";function ym(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[XE])===null||n===void 0?void 0:n.stringValue)===YE}function Yc(r){const t=r.mapValue.fields[WE];return ym(t)?Yc(t):t}function Sl(r){const t=jr(r.mapValue.fields[$E].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,s,o,u,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Vc="(default)";class bl{constructor(t,n){this.projectId=t,this.database=n||Vc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__type__",fI="__max__",cc={mapValue:{}},JE="__vector__",Uc="value";function Fr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ym(r)?4:mI(r)?9007199254740991:dI(r)?10:11:_t()}function di(r,t){if(r===t)return!0;const n=Fr(r);if(n!==Fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Sl(r).isEqual(Sl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=jr(o.timestampValue),m=jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ue(o.geoPointValue.latitude)===ue(u.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ue(o.integerValue)===ue(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ue(o.doubleValue),m=ue(u.doubleValue);return f===m?Mc(f)===Mc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return ja(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J_(f)!==J_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(r,t);default:return _t()}}function Rl(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function Ga(r,t){if(r===t)return 0;const n=Fr(r),s=Fr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ue(u.integerValue||u.doubleValue),p=ue(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return ev(r.timestampValue,t.timestampValue);case 4:return ev(Sl(r),Sl(t));case 5:return xd(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Gr(u),p=Gr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ct(m[y],p[y]);if(E!==0)return E}return Ct(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(ue(u.latitude),ue(f.latitude));return m!==0?m:Ct(ue(u.longitude),ue(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return nv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const S=u.fields||{},U=f.fields||{},O=(m=S[Uc])===null||m===void 0?void 0:m.arrayValue,Q=(p=U[Uc])===null||p===void 0?void 0:p.arrayValue,Y=Ct(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((E=Q==null?void 0:Q.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:nv(O,Q)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===cc.mapValue&&f===cc.mapValue)return 0;if(u===cc.mapValue)return 1;if(f===cc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const U=xd(p[S],E[S]);if(U!==0)return U;const O=Ga(m[p[S]],y[E[S]]);if(O!==0)return O}return Ct(p.length,E.length)}(r.mapValue,t.mapValue);default:throw _t()}}function ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=jr(r),s=jr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function nv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ga(n[o],s[o]);if(u)return u}return Ct(n.length,s.length)}function Fa(r){return Ld(r)}function Ld(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Gr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return gt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ld(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ld(n.fields[f])}`;return o+"}"}(r.mapValue):_t()}function vc(r){switch(Fr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yc(r);return t?16+vc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+vc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return xs(s.fields,(u,f)=>{o+=u.length+vc(f)}),o}(r.mapValue);default:throw _t()}}function iv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function kd(r){return!!r&&"integerValue"in r}function _m(r){return!!r&&"arrayValue"in r}function rv(r){return!!r&&"nullValue"in r}function sv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function dI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===JE}function gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return xs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function mI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===fI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ec(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gl(n)}setAll(t){let n=ze.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=gl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){xs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Mn(gl(this.value))}}function tT(r){const t=[];return xs(r.fields,(n,s)=>{const o=new ze([n]);if(Ec(s)){const u=tT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,Et.min(),Et.min(),Et.min(),Mn.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,Et.min(),Et.min(),Mn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Et.min(),Et.min(),Mn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n){this.position=t,this.inclusive=n}}function av(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ov(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n="asc"){this.field=t,this.dir=n}}function gI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{}class pe extends eT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new yI(t,n,s):n==="array-contains"?new EI(t,s):n==="in"?new TI(t,s):n==="not-in"?new AI(t,s):n==="array-contains-any"?new SI(t,s):new pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _I(t,s):new vI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&Fr(this.value)===Fr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends eT{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new jn(t,n)}matches(t){return nT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nT(r){return r.op==="and"}function iT(r){return pI(r)&&nT(r)}function pI(r){for(const t of r.filters)if(t instanceof jn)return!1;return!0}function zd(r){if(r instanceof pe)return r.field.canonicalString()+r.op.toString()+Fa(r.value);if(iT(r))return r.filters.map(t=>zd(t)).join(",");{const t=r.filters.map(n=>zd(n)).join(",");return`${r.op}(${t})`}}function rT(r,t){return r instanceof pe?function(s,o){return o instanceof pe&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&rT(f,o.filters[m]),!0):!1}(r,t):void _t()}function sT(r){return r instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Fa(n.value)}`}(r):r instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(sT).join(" ,")+"}"}(r):"Filter"}class yI extends pe{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _I extends pe{constructor(t,n){super(t,"in",n),this.keys=aT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class vI extends pe{constructor(t,n){super(t,"not-in",n),this.keys=aT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function aT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class EI extends pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _m(n)&&Rl(n.arrayValue,this.value)}}class TI extends pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class AI extends pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class SI extends pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Rl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function lv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new bI(r,t,n,s,o,u,f)}function vm(r){const t=At(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>zd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Kc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fa(s)).join(",")),t.le=n}return t.le}function Em(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!rT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!ov(r.startAt,t.startAt)&&ov(r.endAt,t.endAt)}function Bd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RI(r,t,n,s,o,u,f,m){return new to(r,t,n,s,o,u,f,m)}function Tm(r){return new to(r)}function uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oT(r){return r.collectionGroup!==null}function pl(r){const t=At(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(ze.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new wl(u,s))}),n.has(ze.keyField().canonicalString())||t.he.push(new wl(ze.keyField(),s))}return t.he}function ui(r){const t=At(r);return t.Pe||(t.Pe=wI(t,pl(r))),t.Pe}function wI(r,t){if(r.limitType==="F")return lv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wl(o.field,u)});const n=r.endAt?new Pc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Pc(r.startAt.position,r.startAt.inclusive):null;return lv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function qd(r,t){const n=r.filters.concat([t]);return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Hd(r,t,n){return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Xc(r,t){return Em(ui(r),ui(t))&&r.limitType===t.limitType}function lT(r){return`${vm(ui(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>sT(o)).join(", ")}]`),Kc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Fa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Fa(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Wc(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of pl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=av(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,pl(s),o)||s.endAt&&!function(f,m,p){const y=av(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,pl(s),o))}(r,t)}function II(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(t,n)=>{let s=!1;for(const o of pl(r)){const u=CI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CI(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ga(p,y):_t()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new ee(gt.comparator);function Qi(){return DI}const cT=new ee(gt.comparator);function hl(...r){let t=cT;for(const n of r)t=t.insert(n.key,n);return t}function hT(r){let t=cT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Cs(){return yl()}function fT(){return yl()}function yl(){return new Ls(r=>r.toString(),(r,t)=>r.isEqual(t))}const OI=new ee(gt.comparator),NI=new Re(gt.comparator);function Mt(...r){let t=NI;for(const n of r)t=t.add(n);return t}const MI=new Re(Ct);function VI(){return MI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function dT(r){return{integerValue:""+r}}function UI(r,t){return oI(t)?dT(t):Am(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function PI(r,t,n){return r instanceof Il?function(o,u){const f={fields:{[XE]:{stringValue:YE},[$E]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ym(u)&&(u=Yc(u)),u&&(f.fields[WE]=u),{mapValue:f}}(n,t):r instanceof Cl?gT(r,t):r instanceof Dl?pT(r,t):function(o,u){const f=mT(o,u),m=cv(f)+cv(o.Ie);return kd(f)&&kd(o.Ie)?dT(m):Am(o.serializer,m)}(r,t)}function xI(r,t,n){return r instanceof Cl?gT(r,t):r instanceof Dl?pT(r,t):n}function mT(r,t){return r instanceof xc?function(s){return kd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Il extends $c{}class Cl extends $c{constructor(t){super(),this.elements=t}}function gT(r,t){const n=yT(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Dl extends $c{constructor(t){super(),this.elements=t}}function pT(r,t){let n=yT(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class xc extends $c{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function cv(r){return ue(r.integerValue||r.doubleValue)}function yT(r){return _m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n){this.field=t,this.transform=n}}function kI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Cl&&o instanceof Cl||s instanceof Dl&&o instanceof Dl?ja(s.elements,o.elements,di):s instanceof xc&&o instanceof xc?di(s.Ie,o.Ie):s instanceof Il&&o instanceof Il}(r.transform,t.transform)}class zI{constructor(t,n){this.version=t,this.transformResults=n}}class ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Zc{}function _T(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Sm(r.key,ci.none()):new xl(r.key,r.data,ci.none());{const n=r.data,s=Mn.empty();let o=new Re(ze.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ks(r.key,s,new qn(o.toArray()),ci.none())}}function BI(r,t,n){r instanceof xl?function(o,u,f){const m=o.value.clone(),p=fv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof ks?function(o,u,f){if(!Tc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=fv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(vT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function _l(r,t,n,s){return r instanceof xl?function(u,f,m,p){if(!Tc(u.precondition,f))return m;const y=u.value.clone(),E=dv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof ks?function(u,f,m,p){if(!Tc(u.precondition,f))return m;const y=dv(u.fieldTransforms,p,f),E=f.data;return E.setAll(vT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,t,n,s):function(u,f,m){return Tc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function qI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=mT(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function hv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ja(s,o,(u,f)=>kI(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends Zc{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends Zc{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function fv(r,t,n){const s=new Map;Gt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,xI(f,m,n[o]))}return s}function dv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,PI(u,f,t))}return s}class Sm extends Zc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HI extends Zc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&BI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=_l(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=_l(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=fT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=_T(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&ja(this.mutations,t.mutations,(n,s)=>hv(n,s))&&ja(this.baseMutations,t.baseMutations,(n,s)=>hv(n,s))}}class bm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Gt(t.mutations.length===s.length);let o=function(){return OI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Lt;function QI(r){switch(r){case Z.OK:return _t();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _t()}}function ET(r){if(r===void 0)return Fi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ge.OK:return Z.OK;case ge.CANCELLED:return Z.CANCELLED;case ge.UNKNOWN:return Z.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Z.INTERNAL;case ge.UNAVAILABLE:return Z.UNAVAILABLE;case ge.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ge.NOT_FOUND:return Z.NOT_FOUND;case ge.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ge.ABORTED:return Z.ABORTED;case ge.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ge.DATA_LOSS:return Z.DATA_LOSS;default:return _t()}}(Lt=ge||(ge={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Br([4294967295,4294967295],0);function mv(r){const t=jE().encode(r),n=new xE;return n.update(t),new Uint8Array(n.digest())}function gv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Br([n,s],0),new Br([o,u],0)]}class Rm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Br.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Br.fromNumber(s)));return o.compare(KI)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=mv(t),[s,o]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Rm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=mv(t),[s,o]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Jc(Et.min(),o,new ee(Ct),Qi(),Mt())}}class Ll{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class TT{constructor(t,n){this.targetId=t,this.ge=n}}class AT{constructor(t,n,s=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pv{constructor(){this.pe=0,this.ye=yv(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),s=Mt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new Ll(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=yv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class YI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qi(),this.$e=hc(),this.Ue=hc(),this.Ke=new ee(Ct)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Bd(u))if(s===0){const f=new gt(u.path);this.ze(n,f,Qe.newNoDocument(f,Et.min()))}else Gt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(p){if(p instanceof KE)return Ha("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Rm(f,o,u)}catch(p){return Ha(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Bd(m.target)){const p=new gt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Qe.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Mt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Jc(t,n,this.Ke,this.Qe,s);return this.Qe=Qi(),this.$e=hc(),this.Ue=hc(),this.Ke=new ee(Ct),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new pv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Re(Ct),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Re(Ct),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new pv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function hc(){return new ee(gt.comparator)}function yv(){return new ee(gt.comparator)}const XI={asc:"ASCENDING",desc:"DESCENDING"},WI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class ZI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function jd(r,t){return r.useProto3Json||Kc(t)?t:{value:t}}function Lc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function JI(r,t){return Lc(r,t.toTimestamp())}function hi(r){return Gt(!!r),Et.fromTimestamp(function(n){const s=jr(n);return new be(s.seconds,s.nanos)}(r))}function wm(r,t){return Gd(r,t).canonicalString()}function Gd(r,t){const n=function(o){return new $t(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function bT(r){const t=$t.fromString(r);return Gt(DT(t)),t}function Fd(r,t){return wm(r.databaseId,t.path)}function Sd(r,t){const n=bT(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(wT(n))}function RT(r,t){return wm(r.databaseId,t)}function t1(r){const t=bT(r);return t.length===4?$t.emptyPath():wT(t)}function Qd(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wT(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function _v(r,t,n){return{name:Fd(r,t),fields:n.value.mapValue.fields}}function e1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string"),Be.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Be.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?Z.UNKNOWN:ET(y.code);return new ut(E,y.message||"")}(f);n=new AT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sd(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):Et.min(),m=new Mn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Ac(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Sd(r,s.document),u=s.readTime?hi(s.readTime):Et.min(),f=Qe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ac([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Sd(r,s.document),u=s.removedTargetIds||[];n=new Ac([],u,o,null)}else{if(!("filter"in t))return _t();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new FI(o,u),m=s.targetId;n=new TT(m,f)}}return n}function n1(r,t){let n;if(t instanceof xl)n={update:_v(r,t.key,t.value)};else if(t instanceof Sm)n={delete:Fd(r,t.key)};else if(t instanceof ks)n={update:_v(r,t.key,t.data),updateMask:h1(t.fieldMask)};else{if(!(t instanceof HI))return _t();n={verify:Fd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Il)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Cl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Dl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:JI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t()}(r,t.precondition)),n}function i1(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(Et.min())&&(f=hi(u)),new zI(f,o.transformResults||[])}(n,t))):[]}function r1(r,t){return{documents:[RT(r,t.path)]}}function s1(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RT(r,o);const u=function(y){if(y.length!==0)return CT(jn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(U){return{field:Va(U.field),direction:l1(U.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jd(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function a1(r){let t=t1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Gt(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(S){const U=IT(S);return U instanceof jn&&iT(U)?U.getFilters():[U]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(U=>function(Q){return new wl(Ua(Q.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(U))}(n.orderBy));let m=null;n.limit&&(m=function(S){let U;return U=typeof S=="object"?S.value:S,Kc(U)?null:U}(n.limit));let p=null;n.startAt&&(p=function(S){const U=!!S.before,O=S.values||[];return new Pc(O,U)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const U=!S.before,O=S.values||[];return new Pc(O,U)}(n.endAt)),RI(t,o,f,u,m,"F",p,y)}function o1(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function IT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return pe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return pe.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(n){return pe.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(s=>IT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(n.compositeFilter.op))}(r):_t()}function l1(r){return XI[r]}function u1(r){return WI[r]}function c1(r){return $I[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Ua(r){return ze.fromServerFormat(r.fieldPath)}function CT(r){return r instanceof pe?function(n){if(n.op==="=="){if(sv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(rv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(rv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:u1(n.op),value:n.value}}}(r):r instanceof jn?function(n){const s=n.getFilters().map(o=>CT(o));return s.length===1?s[0]:{compositeFilter:{op:c1(n.op),filters:s}}}(r):_t()}function h1(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function DT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n,s,o,u=Et.min(),f=Et.min(),m=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.Tt=t}}function d1(r){const t=a1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.Tn=new g1}addToCollectionParentIndex(t,n){return this.Tn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Hr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class g1{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Re($t.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(OT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Qa(0)}static Kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",p1=1048576;function Tv([r,t],[n,s]){const o=Ct(r,n);return o===0?Ct(t,s):o}class y1{constructor(t){this.Hn=t,this.buffer=new Re(Tv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Tv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _1{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ot(Ev,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ja(n)?ot(Ev,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.er(3e5)})}}class v1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(Qc.ae);const s=new y1(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(vv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),Na()<=Nt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function E1(r,t){return new v1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.changes=new Ls(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&_l(s.mutation,o,qn.empty(),be.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Cs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=hl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Cs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Qi();const f=yl(),m=function(){return yl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ks)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),_l(E.mutation,y,E.mutation.getFieldMask(),be.now())):f.set(y.key,qn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new A1(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,n){const s=yl();let o=new ee((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||qn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=fT();E.forEach(U=>{if(!u.has(U)){const O=_T(n.get(U),s.get(U));O!==null&&S.set(U,O),u=u.add(U)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Cs());let m=Al,p=u;return f.next(y=>$.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(U=>{p=p.insert(E,U)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Mt())).next(E=>({batchId:m,changes:hT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let o=hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=hl();return this.indexManager.getCollectionParents(t,u).next(m=>$.forEach(m,p=>{const y=function(S,U){return new to(U,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((S,U)=>{f=f.insert(S,U)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Qe.newInvalidDocument(E)))});let m=hl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&_l(E.mutation,y,qn.empty(),be.now()),Wc(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:d1(o.bundledQuery),readTime:hi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.overlays=new ee(gt.comparator),this.Rr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Cs();return $.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Cs(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ee((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Cs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Cs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return $.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new GI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Mt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.Vr=new Re(Ve.mr),this.gr=new Re(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ve(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new gt(new $t([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new gt(new $t([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=Mt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return gt.comparator(t.key,n.key)||Ct(t.Cr,n.Cr)}static pr(t,n){return Ct(t.Cr,n.Cr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Ve.mr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?pm:this.Fr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Re(Ct);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new gt(u),0);let m=new Re(Ct);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),$.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Gt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.kr=t,this.docs=function(){return new ee(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Qi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qe.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Qi();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||iI(nI(E),s)<=0||(o.has(E.key)||Wc(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t()}qr(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new D1(this)}getSize(t){return $.resolve(this.size)}}class D1 extends T1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.persistence=t,this.Qr=new Ls(n=>vm(n),Em),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Im,this.targetCount=0,this.Kr=Qa.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),$.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Qa(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.zn(n),$.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Qc(0),this.zr=!1,this.zr=!0,this.jr=new w1,this.referenceDelegate=t(this),this.Hr=new O1(this),this.indexManager=new m1,this.remoteDocumentCache=function(o){return new C1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new f1(n),this.Yr=new b1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new R1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new I1(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new N1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class N1 extends sI{constructor(t){super(),this.currentSequenceNumber=t}}class Cm{constructor(t){this.persistence=t,this.ti=new Im,this.ni=null}static ri(t){return new Cm(t)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class kc{constructor(t,n){this.persistence=t,this.oi=new Ls(s=>lI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=E1(this,n)}static ri(t,n){return new kc(t,n)}Zr(){}Xr(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return $.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Et.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),$.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vc(t.data.value)),n}ar(t,n,s){return $.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wS()?8:aI(Ke())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new M1;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Na()<=Nt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Na()<=Nt.DEBUG&&ot("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Na()<=Nt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):$.resolve())}rs(t,n){if(uv(n))return $.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Hd(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(t,Hd(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,o){return uv(n)||o.isEqual(Et.min())?$.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?$.resolve(null):(Na()<=Nt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ma(n)),this.hs(t,f,n,eI(o,Al)).next(m=>m))})}cs(t,n){let s=new Re(uT(t));return n.forEach((o,u)=>{Wc(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Na()<=Nt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.ns.getDocumentsMatchingQuery(t,n,Hr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="LocalStore",U1=3e8;class P1{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ee(Ct),this.Is=new Ls(u=>vm(u),Em),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new S1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function x1(r,t,n,s){return new P1(r,t,n,s)}async function MT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Mt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function L1(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,U=S.keys();let O=$.resolve();return U.forEach(Q=>{O=O.next(()=>E.getEntry(p,Q)).next(Y=>{const k=y.docVersions.get(Q);Gt(k!==null),Y.version.compareTo(k)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function VT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function k1(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const U=o.get(S);if(!U)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let O=U.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),function(Y,k,R){return Y.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=U1?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(U,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=Qi(),y=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(z1(u,f,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function z1(r,t,n){let s=Mt(),o=Mt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Qi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ot(Om,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function B1(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function q1(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,$.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new xr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Kd(r,t,n){const s=At(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ja(f))throw f;ot(Om,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function Av(r,t,n){const s=At(r);let o=Et.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=At(p),U=S.Is.get(E);return U!==void 0?$.resolve(S.Ts.get(U)):S.Hr.getTargetData(y,E)}(s,f,ui(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Et.min(),n?u:Mt())).next(m=>(H1(s,II(t),m),{documents:m,gs:u})))}function H1(r,t,n){let s=r.Es.get(t)||Et.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class Sv{constructor(){this.activeTargetIds=VI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j1{constructor(){this.ho=new Sv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Sv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="ConnectivityMonitor";class Rv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(bv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ot(bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function Yd(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RestConnection",F1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Vc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=Yd(),m=this.bo(t,n.toUriEncodedString());ot(bd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(y=>(ot(bd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ha(bd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=F1[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Y1 extends Q1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=Yd();return new Promise((f,m)=>{const p=new LE;p.setWithCredentials(!0),p.listenOnce(kE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _c.NO_ERROR:const E=p.getResponseJson();ot(Ge,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case _c.TIMEOUT:ot(Ge,`RPC '${t}' ${u} timed out`),m(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const S=p.getStatus();if(ot(Ge,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const O=U==null?void 0:U.error;if(O&&O.status&&O.message){const Q=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(R)>=0?R:Z.UNKNOWN}(O.status);m(new ut(Q,O.message))}else m(new ut(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ot(Ge,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);ot(Ge,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=Yd(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=qE(),m=BE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ge,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let U=!1,O=!1;const Q=new K1({Fo:k=>{O?ot(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(U||(ot(Ge,`Opening RPC '${t}' stream ${o} transport.`),S.open(),U=!0),ot(Ge,`RPC '${t}' stream ${o} sending:`,k),S.send(k))},Mo:()=>S.close()}),Y=(k,R,N)=>{k.listen(R,G=>{try{N(G)}catch(it){setTimeout(()=>{throw it},0)}})};return Y(S,cl.EventType.OPEN,()=>{O||(ot(Ge,`RPC '${t}' stream ${o} transport opened.`),Q.Qo())}),Y(S,cl.EventType.CLOSE,()=>{O||(O=!0,ot(Ge,`RPC '${t}' stream ${o} transport closed`),Q.Uo())}),Y(S,cl.EventType.ERROR,k=>{O||(O=!0,Ha(Ge,`RPC '${t}' stream ${o} transport errored:`,k),Q.Uo(new ut(Z.UNAVAILABLE,"The operation could not be completed")))}),Y(S,cl.EventType.MESSAGE,k=>{var R;if(!O){const N=k.data[0];Gt(!!N);const G=N,it=(G==null?void 0:G.error)||((R=G[0])===null||R===void 0?void 0:R.error);if(it){ot(Ge,`RPC '${t}' stream ${o} received error:`,it);const nt=it.status;let ft=function(b){const D=ge[b];if(D!==void 0)return ET(D)}(nt),M=it.message;ft===void 0&&(ft=Z.INTERNAL,M="Unknown error status: "+nt+" with message "+it.message),O=!0,Q.Uo(new ut(ft,M)),S.close()}else ot(Ge,`RPC '${t}' stream ${o} received:`,N),Q.Ko(N)}}),Y(m,zE.STAT_EVENT,k=>{k.stat===Pd.PROXY?ot(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Pd.NOPROXY&&ot(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Q.$o()},0),Q}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(r){return new ZI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class PT{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new UT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new ut(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ot(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ot(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class X1 extends PT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=e1(this.serializer,t),s=function(u){if(!("targetChange"in u))return Et.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?hi(f.readTime):Et.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Qd(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Bd(p)?{documents:r1(u,p)}:{query:s1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ST(u,f.resumeToken);const y=jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=Lc(u,f.snapshotVersion.toTimestamp());const y=jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=o1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Qd(this.serializer),n.removeTarget=t,this.I_(n)}}class W1 extends PT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=i1(t.writeResults,t.commitTime),s=hi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Qd(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>n1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class Z1 extends $1{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,Gd(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(Z.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Gd(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(Z.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class J1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fi(n),this.N_=!1):ot("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class tC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{zs(this)&&(ot(Ps,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await kl(y),y.j_.set("Unknown"),y.W_.delete(4),await eh(y)}(this))})}),this.j_=new J1(s,o)}}async function eh(r){if(zs(r))for(const t of r.G_)await t(!0)}async function kl(r){for(const t of r.G_)await t(!1)}function xT(r,t){const n=At(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Um(n)?Vm(n):eo(n).c_()&&Mm(n,t))}function Nm(r,t){const n=At(r),s=eo(n);n.K_.delete(t),s.c_()&&LT(n,t),n.K_.size===0&&(s.c_()?s.P_():zs(n)&&n.j_.set("Unknown"))}function Mm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eo(r).y_(t)}function LT(r,t){r.H_.Ne(t),eo(r).w_(t)}function Vm(r){r.H_=new YI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.j_.B_()}function Um(r){return zs(r)&&!eo(r).u_()&&r.K_.size>0}function zs(r){return At(r).W_.size===0}function kT(r){r.H_=void 0}async function eC(r){r.j_.set("Online")}async function nC(r){r.K_.forEach((t,n)=>{Mm(r,t)})}async function iC(r,t){kT(r),Um(r)?(r.j_.q_(t),Vm(r)):r.j_.set("Unknown")}async function rC(r,t,n){if(r.j_.set("Online"),t instanceof AT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ot(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await zc(r,s)}else if(t instanceof Ac?r.H_.We(t):t instanceof TT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Et.min()))try{const s=await VT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Be.EMPTY_BYTE_STRING,E.snapshotVersion)),LT(u,p);const S=new xr(E.target,p,y,E.sequenceNumber);Mm(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ot(Ps,"Failed to raise snapshot:",s),await zc(r,s)}}async function zc(r,t,n){if(!Ja(t))throw t;r.W_.add(1),await kl(r),r.j_.set("Offline"),n||(n=()=>VT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ps,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await eh(r)})}function zT(r,t){return t().catch(n=>zc(r,n,t))}async function nh(r){const t=At(r),n=Qr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:pm;for(;sC(t);)try{const o=await B1(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,aC(t,o)}catch(o){await zc(t,o)}BT(t)&&qT(t)}function sC(r){return zs(r)&&r.U_.length<10}function aC(r,t){r.U_.push(t);const n=Qr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function BT(r){return zs(r)&&!Qr(r).u_()&&r.U_.length>0}function qT(r){Qr(r).start()}async function oC(r){Qr(r).C_()}async function lC(r){const t=Qr(r);for(const n of r.U_)t.b_(n.mutations)}async function uC(r,t,n){const s=r.U_.shift(),o=bm.from(s,t,n);await zT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await nh(r)}async function cC(r,t){t&&Qr(r).S_&&await async function(s,o){if(function(f){return QI(f)&&f!==Z.ABORTED}(o.code)){const u=s.U_.shift();Qr(s).h_(),await zT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await nh(s)}}(r,t),BT(r)&&qT(r)}async function Iv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(Ps,"RemoteStore received new credentials");const s=zs(n);n.W_.add(3),await kl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await eh(n)}async function hC(r,t){const n=At(r);t?(n.W_.delete(2),await eh(n)):t||(n.W_.add(2),await kl(n),n.j_.set("Unknown"))}function eo(r){return r.J_||(r.J_=function(n,s,o){const u=At(n);return u.M_(),new X1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:eC.bind(null,r),No:nC.bind(null,r),Lo:iC.bind(null,r),p_:rC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Um(r)?Vm(r):r.j_.set("Unknown")):(await r.J_.stop(),kT(r))})),r.J_}function Qr(r){return r.Y_||(r.Y_=function(n,s,o){const u=At(n);return u.M_(),new W1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:oC.bind(null,r),Lo:cC.bind(null,r),D_:lC.bind(null,r),v_:uC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await nh(r)):(await r.Y_.stop(),r.U_.length>0&&(ot(Ps,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Pm(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),Ja(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Z_=new ee(gt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):_t():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ka{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ka(t,n,ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class dC{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=Dv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function Dv(){return new Ls(r=>lT(r),Xc)}async function mC(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new fC,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xm(f,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Lm(n)}async function gC(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pC(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Lm(n)}function yC(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Lm(r){r.ia.forEach(t=>{t.next()})}var Xd,Ov;(Ov=Xd||(Xd={}))._a="default",Ov.Cache="cache";class _C{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ka(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.key=t}}class jT{constructor(t){this.key=t}}class vC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=uT(t),this.wa=new ka(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new Cv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const U=o.get(E),O=Wc(this.query,S)?S:null,Q=!!U&&this.mutatedKeys.has(U.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;U&&O?U.data.isEqual(O.data)?Q!==Y&&(s.track({type:3,doc:O}),k=!0):this.va(U,O)||(s.track({type:2,doc:O}),k=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(m=!0)):!U&&O?(s.track({type:0,doc:O}),k=!0):U&&!O&&(s.track({type:1,doc:U}),k=!0,(p||y)&&(m=!0)),k&&(O?(f=f.add(O),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,S)=>function(O,Q){const Y=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return Y(O)-Y(Q)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Ka(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Cv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new jT(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new HT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ka.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const km="SyncEngine";class EC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class TC{constructor(t){this.key=t,this.Ba=!1}}class AC{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ls(m=>lT(m),Xc),this.qa=new Map,this.Qa=new Set,this.$a=new ee(gt.comparator),this.Ua=new Map,this.Ka=new Im,this.Wa={},this.Ga=new Map,this.za=Qa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function SC(r,t,n=!0){const s=XT(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await GT(s,t,n,!0),o}async function bC(r,t){const n=XT(r);await GT(n,t,!0,!1)}async function GT(r,t,n,s){const o=await q1(r.localStore,ui(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await RC(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&xT(r.remoteStore,o),m}async function RC(r,t,n,s,o){r.Ha=(S,U,O)=>async function(Y,k,R,N){let G=k.view.ba(R);G.ls&&(G=await Av(Y.localStore,k.query,!1).then(({documents:M})=>k.view.ba(M,G)));const it=N&&N.targetChanges.get(k.targetId),nt=N&&N.targetMismatches.get(k.targetId)!=null,ft=k.view.applyChanges(G,Y.isPrimaryClient,it,nt);return Mv(Y,k.targetId,ft.Ma),ft.snapshot}(r,S,U,O);const u=await Av(r.localStore,t,!0),f=new vC(t,u.gs),m=f.ba(u.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Mv(r,n,y.Ma);const E=new EC(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function wC(r,t,n){const s=At(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Xc(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Nm(s.remoteStore,o.targetId),Wd(s,o.targetId)}).catch(Za)):(Wd(s,o.targetId),await Kd(s.localStore,o.targetId,!0))}async function IC(r,t){const n=At(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Nm(n.remoteStore,s.targetId))}async function CC(r,t,n){const s=PC(r);try{const o=await function(f,m){const p=At(f),y=be.now(),E=m.reduce((O,Q)=>O.add(Q.key),Mt());let S,U;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let Q=Qi(),Y=Mt();return p.ds.getEntries(O,E).next(k=>{Q=k,Q.forEach((R,N)=>{N.isValidDocument()||(Y=Y.add(R))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,Q)).next(k=>{S=k;const R=[];for(const N of m){const G=qI(N,S.get(N.key).overlayedDocument);G!=null&&R.push(new ks(N.key,G,tT(G.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,R,m)}).next(k=>{U=k;const R=k.applyToLocalDocumentSet(S,Y);return p.documentOverlayCache.saveOverlays(O,k.batchId,R)})}).then(()=>({batchId:U.batchId,changes:hT(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ee(Ct)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await zl(s,o.changes),await nh(s.remoteStore)}catch(o){const u=xm(o,"Failed to persist write");n.reject(u)}}async function FT(r,t){const n=At(r);try{const s=await k1(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Gt(f.Ba):o.removedDocuments.size>0&&(Gt(f.Ba),f.Ba=!1))}),await zl(n,s,t)}catch(s){await Za(s)}}function Nv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const U of S.ta)U.sa(m)&&(y=!0)}),y&&Lm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function DC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new ee(gt.comparator);f=f.insert(u,Qe.newNoDocument(u,Et.min()));const m=Mt().add(u),p=new Jc(Et.min(),new Map,new ee(Ct),f,m);await FT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),zm(s)}else await Kd(s.localStore,t,!1).then(()=>Wd(s,t,n)).catch(Za)}async function OC(r,t){const n=At(r),s=t.batch.batchId;try{const o=await L1(n.localStore,t);KT(n,s,null),QT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zl(n,o)}catch(o){await Za(o)}}async function NC(r,t,n){const s=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Gt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);KT(s,t,n),QT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await zl(s,o)}catch(o){await Za(o)}}function QT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function KT(r,t,n){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Wd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||YT(r,s)})}function YT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Nm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),zm(r))}function Mv(r,t,n){for(const s of n)s instanceof HT?(r.Ka.addReference(s.key,t),MC(r,s)):s instanceof jT?(ot(km,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||YT(r,s.key)):_t()}function MC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ot(km,"New document in limbo: "+n),r.Qa.add(s),zm(r))}function zm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new gt($t.fromString(t)),s=r.za.next();r.Ua.set(s,new TC(n)),r.$a=r.$a.insert(n,s),xT(r.remoteStore,new xr(ui(Tm(n.path)),s,"TargetPurposeLimboResolution",Qc.ae))}}async function zl(r,t,n){const s=At(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Dm.Yi(p.targetId,y);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$.forEach(y,U=>$.forEach(U.Hi,O=>E.persistence.referenceDelegate.addReference(S,U.targetId,O)).next(()=>$.forEach(U.Ji,O=>E.persistence.referenceDelegate.removeReference(S,U.targetId,O)))))}catch(S){if(!Ja(S))throw S;ot(Om,"Failed to update sequence numbers: "+S)}for(const S of y){const U=S.targetId;if(!S.fromCache){const O=E.Ts.get(U),Q=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(Q);E.Ts=E.Ts.insert(U,Y)}}}(s.localStore,u))}async function VC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(km,"User change. New user:",t.toKey());const s=await MT(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ut(Z.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await zl(n,s.Rs)}}function UC(r,t){const n=At(r),s=n.Ua.get(t);if(s&&s.Ba)return Mt().add(s.key);{let o=Mt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function XT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DC.bind(null,t),t.La.p_=pC.bind(null,t.eventManager),t.La.Ja=yC.bind(null,t.eventManager),t}function PC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,t),t}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=th(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return x1(this.persistence,new V1,t.initialUser,this.serializer)}Xa(t){return new NT(Cm.ri,this.serializer)}Za(t){return new j1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class xC extends Bc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Gt(this.persistence.referenceDelegate instanceof kc);const s=this.persistence.referenceDelegate.garbageCollector;return new _1(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new NT(s=>kc.ri(s,n),this.serializer)}}class $d{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dC}()}createDatastore(t){const n=th(t.databaseInfo.databaseId),s=function(u){return new Y1(u)}(t.databaseInfo);return function(u,f,m,p){return new Z1(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new tC(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>Nv(this.syncEngine,n,0),function(){return Rv.D()?new Rv:new G1}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,E){const S=new AC(o,u,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=At(o);ot(Ps,"RemoteStore shutting down."),u.W_.add(5),await kl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class kC{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=GE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ot(Kr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(Kr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=xm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function wd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Kr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await MT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Vv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await zC(r);ot(Kr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Iv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Iv(t.remoteStore,o)),r._onlineComponents=t}async function zC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Kr,"Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ha("Error using user provided cache. Falling back to memory cache: "+n),await wd(r,new Bc)}}else ot(Kr,"Using default OfflineComponentProvider"),await wd(r,new xC(void 0));return r._offlineComponents}async function WT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Kr,"Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(ot(Kr,"Using default OnlineComponentProvider"),await Vv(r,new $d))),r._onlineComponents}function BC(r){return WT(r).then(t=>t.syncEngine)}async function Uv(r){const t=await WT(r),n=t.eventManager;return n.onListen=SC.bind(null,t.syncEngine),n.onUnlisten=wC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=IC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,t,n){if(!n)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qC(r,t,n,s){if(t===!0&&s===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xv(r){if(!gt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Lv(r){if(gt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t()}function za(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="firestore.googleapis.com",kv=!0;class zv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JT,this.ssl=kv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:kv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<p1)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Qw;switch(s.type){case"firstParty":return new Ww(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Pv.get(n);s&&(ot("ComponentProvider","Removing Datastore"),Pv.delete(n),s.terminate())}(this),Promise.resolve()}}function HC(r,t,n,s={}){var o;const u=(r=za(r,rh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==JT&&u.host!==m&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ns(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Fe.MOCK_USER;else{y=vS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Fe(S)}r._authCredentials=new Kw(new HE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Bs(this.firestore,t,this._query)}}class mn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class qr extends Bs{constructor(t,n,s){super(t,n,Tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new gt(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function Zd(r,t,...n){if(r=en(r),ZT("collection","path",t),r instanceof rh){const s=$t.fromString(t,...n);return Lv(s),new qr(r,null,s)}{if(!(r instanceof mn||r instanceof qr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(t,...n));return Lv(s),new qr(r.firestore,null,s)}}function Bm(r,t,...n){if(r=en(r),arguments.length===1&&(t=GE.newId()),ZT("doc","path",t),r instanceof rh){const s=$t.fromString(t,...n);return xv(s),new mn(r,null,new gt(s))}{if(!(r instanceof mn||r instanceof qr))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(t,...n));return xv(s),new mn(r.firestore,r instanceof qr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="AsyncQueue";class qv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new UT(this,"async_queue_retry"),this.Su=()=>{const s=Rd();s&&ot(Bv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ja(t))throw t;ot(Bv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Fi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Pm.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Hv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ol extends rh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qv(t),this._firestoreClient=void 0,await t}}}function jC(r,t){const n=typeof r=="object"?r:nE(),s=typeof r=="string"?r:Vc,o=im(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yS("firestore");u&&HC(o,...u)}return o}function t0(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GC(r),r._firestoreClient}function GC(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new hI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,$T(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ya(Be.fromBase64String(t))}catch(n){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ya(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^__.*__$/;class QC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}function e0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Fm{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Fm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(e0(this.Lu)&&FC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class KC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||th(t)}ju(t,n,s,o=!1){return new Fm({Lu:t,methodName:n,zu:s,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n0(r){const t=r._freezeSettings(),n=th(r._databaseId);return new KC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function YC(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);s0("Data must be an object, but it was:",f,s);const m=i0(s,f);let p,y;if(u.merge)p=new qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const U=WC(t,S,n);if(!f.contains(U))throw new ut(Z.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);ZC(E,U)||E.push(U)}p=new qn(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new QC(new Mn(m),p,y)}class Qm extends Hm{_toFieldTransform(t){return new LI(t.path,new Il)}isEqual(t){return t instanceof Qm}}function XC(r,t,n,s=!1){return Km(n,r.ju(s?4:3,t))}function Km(r,t){if(r0(r=en(r)))return s0("Unsupported field value:",t,r),i0(r,t);if(r instanceof Hm)return function(s,o){if(!e0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Km(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=be.fromDate(s);return{timestampValue:Lc(o.serializer,u)}}if(s instanceof be){const u=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,u)}}if(s instanceof jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ya)return{bytesValue:ST(o.serializer,s._byteString)};if(s instanceof mn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gm)return function(f,m){return{mapValue:{fields:{[ZE]:{stringValue:JE},[Uc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Am(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${ih(s)}`)}(r,t)}function i0(r,t){const n={};return QE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(r,(s,o)=>{const u=Km(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function r0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof jm||r instanceof Ya||r instanceof mn||r instanceof Hm||r instanceof Gm)}function s0(r,t,n){if(!r0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=ih(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function WC(r,t,n){if((t=en(t))instanceof qm)return t._internalPath;if(typeof t=="string")return a0(r,t);throw qc("Field path arguments must be of type string or ",r,!1,void 0,n)}const $C=new RegExp("[~\\*/\\[\\]]");function a0(r,t,n){if(t.search($C)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qm(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qc(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(Z.INVALID_ARGUMENT,m+r+p)}function ZC(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ym("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JC extends o0{data(){return super.data()}}function Ym(r,t){return typeof t=="string"?a0(r,t):t instanceof qm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class l0 extends Xm{}function eD(r,t,...n){let s=[];t instanceof Xm&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof $m).length,m=u.filter(p=>p instanceof Wm).length;if(f>1||f>0&&m>0)throw new ut(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Wm extends l0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Wm(t,n,s)}_apply(t){const n=this._parse(t);return u0(t._query,n),new Bs(t.firestore,t.converter,qd(t._query,n))}_parse(t){const n=n0(t.firestore);return function(u,f,m,p,y,E,S){let U;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Gv(S,E);const Q=[];for(const Y of S)Q.push(jv(p,u,Y));U={arrayValue:{values:Q}}}else U=jv(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Gv(S,E),U=XC(m,f,S,E==="in"||E==="not-in");return pe.create(y,E,U)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class $m extends Xm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $m(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)u0(f,p),f=qd(f,p)}(t._query,n),new Bs(t.firestore,t.converter,qd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zm extends l0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zm(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(u,f)}(t._query,this._field,this._direction);return new Bs(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new to(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function nD(r,t="asc"){const n=t,s=Ym("orderBy",r);return Zm._create(s,n)}function jv(r,t,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ut(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(t)&&n.indexOf("/")!==-1)throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child($t.fromString(n));if(!gt.isDocumentKey(s))throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return iv(r,new gt(s))}if(n instanceof mn)return iv(r,n._key);throw new ut(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function Gv(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function u0(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iD{convertValue(t,n="none"){switch(Fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return xs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Uc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ue(f.doubleValue));return new Gm(u)}convertGeoPoint(t){return new jm(ue(t.latitude),ue(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Yc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const n=jr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=$t.fromString(t);Gt(DT(s));const o=new bl(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class c0 extends o0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ym("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sc extends c0{data(t={}){return super.data(t)}}class sD{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new dl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Sc(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:aD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class h0 extends iD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ya(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function f0(r){return m0(za(r.firestore,Ol),[new Sm(r._key,ci.none())])}function d0(r,t){const n=za(r.firestore,Ol),s=Bm(r),o=rD(r.converter,t);return m0(n,[YC(n0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ci.exists(!1))]).then(()=>s)}function oD(r,...t){var n,s,o;r=en(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Hv(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Hv(t[f])){const S=t[f];t[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(r instanceof mn)y=za(r.firestore,Ol),E=Tm(r._key.path),p={next:S=>{t[f]&&t[f](lD(y,r,S))},error:t[f+1],complete:t[f+2]};else{const S=za(r,Bs);y=za(S.firestore,Ol),E=S._query;const U=new h0(y);p={next:O=>{t[f]&&t[f](new sD(y,U,S,O))},error:t[f+1],complete:t[f+2]},tD(r._query)}return function(U,O,Q,Y){const k=new LC(Y),R=new _C(O,k,Q);return U.asyncQueue.enqueueAndForget(async()=>mC(await Uv(U),R)),()=>{k.su(),U.asyncQueue.enqueueAndForget(async()=>gC(await Uv(U),R))}}(t0(y),E,m,p)}function m0(r,t){return function(s,o){const u=new Os;return s.asyncQueue.enqueueAndForget(async()=>CC(await BC(s),o,u)),u.promise}(t0(r),t)}function lD(r,t,n){const s=n.docs.get(t._key),o=new h0(r);return new c0(r,o,t._key,s,new dl(n.hasPendingWrites,n.fromCache),t.converter)}function g0(){return new Qm("serverTimestamp")}(function(t,n=!0){(function(o){$a=o})(Xa),Ba(new Ms("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ol(new Yw(s.getProvider("auth-internal")),new $w(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),zr(F_,Q_,t),zr(F_,Q_,"esm2017")})();const uD={apiKey:"AIzaSyBzRuCetPIyiB0IzAEPHuMUHkiMqNug7sY",authDomain:"keepme-only.firebaseapp.com",projectId:"keepme-only",storageBucket:"keepme-only.firebasestorage.app",messagingSenderId:"1007359821453",appId:"1:1007359821453:web:5d644c6a4565e4535704c4",measurementId:"G-H7ZKW33E29"},p0=eE(uD),Ki=Hw(p0);new oi;const vl=jC(p0),y0=async()=>{try{const r=new oi;r.addScope("profile"),r.addScope("email");const t=await $R(Ki,r);await new Promise(n=>{const s=bE(Ki,o=>{o&&(n(o),s())})}),console.log("User Info:",t.user)}catch(r){console.error("Error signing in:",r.message)}};function _0(r){const t=document.getElementById("user-email"),n=document.getElementById("user-pic"),s=document.getElementById("user-name");r&&t&&s&&n?(t.textContent=r.email||"No Email",n.src=r.photoURL||"../assets/user.png",s.textContent=r.displayName||"No Name"):s&&t&&n&&(t.textContent="Not logged in",n.src="../assets/user.png",s.textContent="Guest")}bE(Ki,r=>{_0(r)});const v0=async()=>{try{await NR(Ki),_0(null),console.log("User signed out")}catch(r){console.error("Error signing out:",r.message)}};function cD({user:r}){const[t,n]=tn.useState(!1),s=o=>{o.stopPropagation(),n(u=>!u)};return KA.useEffect(()=>{const o=()=>n(!1);return document.addEventListener("click",o),()=>{document.removeEventListener("click",o)}},[]),St.jsxs("header",{children:[St.jsx("h1",{children:"KeepMe"}),St.jsxs("div",{className:"user-profile",onClick:s,children:[St.jsx("img",{src:(r==null?void 0:r.photoURL)||"../assets/user.png",alt:"Profile",className:"profile-picture",onError:o=>o.target.src="../assets/user.png"}),t&&St.jsxs("div",{className:"user-menu",onClick:o=>o.stopPropagation(),children:[St.jsxs("div",{className:"menu-loggedin",children:[St.jsx("p",{className:"menu-user-email",id:"user-email",children:(r==null?void 0:r.email)||"Not logged in"}),r&&St.jsx("img",{src:(r==null?void 0:r.photoURL)||"../assets/user.png",alt:"User Profile",className:"menu-profile-pic",id:"user-pic",onError:o=>o.target.src="../assets/user.png"}),St.jsxs("p",{className:"menu-user-name",id:"user-name",children:["Hi, ",(r==null?void 0:r.displayName)||"Guest","!"]})]}),St.jsx("div",{className:"add-account",onClick:y0,children:"╋ Add Another Account"}),St.jsx("button",{onClick:v0,style:{color:"black"},children:"Logout"})]})]})]})}const hD=new Date().getFullYear();function fD(){return St.jsx("footer",{className:"footer",children:St.jsx("div",{children:St.jsxs("p",{children:["© KeepMe ",hD.toString()]})})})}const dD=({fetchNotes:r})=>{const[t,n]=tn.useState({title:"",content:""}),[s,o]=tn.useState(!1),u=tn.useRef(null),f=tn.useRef(null),m=tn.useRef(null),p=(S,U)=>{const O=U.target.innerText;n(Q=>({...Q,[S]:O}))},y=()=>{o(!0)},E=async()=>{if(!Ki.currentUser){alert("You must be logged in to save notes.");return}if(t.title.trim()||t.content.trim())try{const S=Zd(vl,"users",Ki.currentUser.uid,"notes");await d0(S,{title:t.title,content:t.content,createdAt:g0()}),n({title:"",content:""}),f.current&&(f.current.innerText=""),m.current&&(m.current.innerText=""),r()}catch(S){console.error("Error adding note: ",S)}};return tn.useEffect(()=>{function S(U){u.current&&!u.current.contains(U.target)&&o(!1)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]),St.jsx("div",{className:"new-note-container",children:St.jsxs("div",{ref:u,className:`new-note ${s?"expanded":""}`,onClick:y,children:[s&&St.jsx("div",{ref:f,className:"note-title",contentEditable:!0,"data-placeholder":"Title",onInput:S=>p("title",S),suppressContentEditableWarning:!0}),St.jsx("div",{ref:m,className:"note-content",contentEditable:!0,"data-placeholder":"Take a note...",onInput:S=>p("content",S),suppressContentEditableWarning:!0}),s&&St.jsx("div",{className:"add-button",onClick:E,children:"+"})]})})};function mD({id:r,title:t,content:n,onDelete:s}){async function o(){if(Ki.currentUser)try{const u=Bm(vl,"users",Ki.currentUser.uid,"notes",r);await f0(u),s(r)}catch(u){console.error("Error deleting note:",u)}}return St.jsxs("div",{className:"notes",children:[St.jsx("h1",{className:"note-title",children:t}),St.jsx("p",{className:"note-content",children:n}),St.jsx("button",{className:"delete-button",onClick:o,children:"-"})]})}function gD(){const[r,t]=tn.useState(null),[n,s]=tn.useState(!0),[o,u]=tn.useState([]),f=tn.useRef(null);tn.useEffect(()=>{f.current&&new lS(f.current,{itemSelector:".notes",columnWidth:".notes",gutter:3,fitWidth:!0})},[o]);const m=E=>{if(!E)return;const S=Zd(vl,"users",E,"notes"),U=eD(S,nD("createdAt","desc"));oD(U,O=>{const Q=O.docs.map(Y=>({id:Y.id,...Y.data()}));u(Q)})};tn.useEffect(()=>Ki.onAuthStateChanged(S=>{t(S),s(!1),S?m(S.uid):u([])}),[]);const p=async E=>{if(r)try{await d0(Zd(vl,"users",r.uid,"notes"),{title:E.title,content:E.content,createdAt:g0()}),m(r.uid)}catch(S){console.error("Error adding note:",S)}},y=async E=>{if(r)try{await f0(Bm(vl,"users",r.uid,"notes",E)),console.log("Note deleted:",E),m(r.uid)}catch(S){console.error("Error deleting note:",S)}};return n?St.jsx("div",{className:"ispinner",children:[...Array(12)].map((E,S)=>St.jsx("div",{className:"ispinner-blade"},S))}):n?St.jsx("div",{className:"ispinner",children:[...Array(12)].map((E,S)=>St.jsx("div",{className:"ispinner-blade"},S))}):St.jsx(St.Fragment,{children:St.jsx("div",{className:"main-container",children:r?St.jsxs(St.Fragment,{children:[St.jsx(cD,{user:r,onLogout:v0}),St.jsx(dD,{fetchNotes:m,onAdd:p}),St.jsx("div",{className:"notes-container",ref:f,children:o.map(E=>St.jsx(mD,{id:E.id,title:E.title,content:E.content,onDelete:y},E.id))}),St.jsx(fD,{})]}):St.jsxs("div",{className:"login-page",children:[St.jsx("h1",{children:"KeepMe"}),St.jsx("button",{className:"login-w-google",onClick:y0,children:"Login with Google"})]})})})}tS.createRoot(document.getElementById("root")).render(St.jsx(tn.StrictMode,{children:St.jsx(gD,{})}));
